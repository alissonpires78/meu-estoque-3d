<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador Profissional de Filamentos 3D</title>
    
    <!-- Bibliotecas Externas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.1.4/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsQR/1.4.0/jsQR.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üì¶ Meu Estoque 3D</h1>
            <div style="display: flex; gap: 10px; align-items: center;">
                <button class="btn-primary" onclick="openAddModal()">+ Novo Filamento</button>
                <button class="btn-secondary" onclick="logout()">Sair</button>
            </div>
        </header>

        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('estoque', this)">üì¶ Estoque</div>
            <div class="nav-tab" onclick="switchTab('uso', this)">‚ö° Registrar Uso</div>
            <div class="nav-tab" onclick="switchTab('calculadora', this)">üí∞ Calculadora</div>
            <div class="nav-tab" onclick="switchTab('impressoras', this)">üñ®Ô∏è Impressoras</div>
            <div class="nav-tab" onclick="switchTab('ferramentas', this)">üõ†Ô∏è Ferramentas</div>
        </div>

        <!-- Estat√≠sticas R√°pidas -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Total em Peso</div>
                <div class="stat-value" id="statTotalG">0 kg</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total em Metros</div>
                <div class="stat-value" id="statTotalM">0 m</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Investimento Total</div>
                <div class="stat-value" id="statTotalValue">R$ 0,00</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Filamentos</div>
                <div class="stat-value" id="statCount">0</div>
            </div>
        </div>

        <!-- ABA ESTOQUE -->
        <div id="estoque" class="tab-content active">
            <div class="filters">
                <input type="text" id="searchInput" placeholder="Buscar por cor ou marca..." oninput="filterFilaments()">
                <select id="colorFilter" onchange="filterFilaments()">
                    <option value="">Todas as Cores</option>
                    <option value="Preto">Preto</option>
                    <option value="Branco">Branco</option>
                    <option value="Cinza">Cinza</option>
                    <option value="Vermelho">Vermelho</option>
                    <option value="Azul">Azul</option>
                    <option value="Verde">Verde</option>
                    <option value="Amarelo">Amarelo</option>
                    <option value="Laranja">Laranja</option>
                    <option value="Roxo">Roxo</option>
                    <option value="Rosa">Rosa</option>
                    <option value="Marrom">Marrom</option>
                    <option value="Cobre">Cobre</option>
                    <option value="Prata">Prata</option>
                    <option value="Ouro">Ouro</option>
                    <option value="Transparente">Transparente</option>
                </select>
                <select id="materialFilter" onchange="filterFilaments()">
                    <option value="">Todos Materiais</option>
                    <option value="PLA">PLA</option>
                    <option value="PETG">PETG</option>
                    <option value="ABS">ABS</option>
                    <option value="TPU">TPU</option>
                    <option value="Nylon">Nylon</option>
                </select>
                <select id="statusFilter" onchange="filterFilaments()">
                    <option value="">Todos Status</option>
                    <option value="Em uso">Em uso</option>
                    <option value="Lacrado">Lacrado</option>
                    <option value="Usado">Usado</option>
                    <option value="Acabando">Acabando</option>
                </select>
                <button class="btn-secondary" onclick="showLowStock()">‚ö†Ô∏è Baixo Estoque</button>
            </div>

            <div class="content-grid">
                <div id="filamentGrid" class="filament-grid">
                    <!-- Cards ser√£o inseridos aqui via JS -->
                </div>
                <div class="side-panel">
                    <div class="calculator-form" style="margin-bottom: 20px;">
                        <h3>üïí Hist√≥rico Recente</h3>
                        <div id="usageList" style="max-height: 600px; overflow-y: auto;">
                            <!-- Hist√≥rico ser√° inserido aqui -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Outras abas (uso, calculadora, impressoras, ferramentas) seriam inclu√≠das aqui -->
        <!-- Por brevidade, o arquivo completo ser√° fornecido no final -->
    </div>

    <!-- Modais -->
    <div id="addModal" class="modal">
        <!-- Conte√∫do do Modal de Adi√ß√£o -->
    </div>

    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="js/supabase-config.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
