function TC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Em(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lx={exports:{}},k1={};var r4;function i9(){if(r4)return k1;r4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,i){var u=null;if(i!==void 0&&(u=""+i),s.key!==void 0&&(u=""+s.key),"key"in s){i={};for(var d in s)d!=="key"&&(i[d]=s[d])}else i=s;return s=i.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:i}}return k1.Fragment=e,k1.jsx=t,k1.jsxs=t,k1}var s4;function o9(){return s4||(s4=1,Lx.exports=i9()),Lx.exports}var x=o9(),kx={exports:{}},er={};var a4;function l9(){if(a4)return er;a4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),I=Symbol.iterator;function S(me){return me===null||typeof me!="object"?null:(me=I&&me[I]||me["@@iterator"],typeof me=="function"?me:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function j(me,$,le){this.props=me,this.context=$,this.refs=M,this.updater=le||P}j.prototype.isReactComponent={},j.prototype.setState=function(me,$){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,$,"setState")},j.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function J(){}J.prototype=j.prototype;function Z(me,$,le){this.props=me,this.context=$,this.refs=M,this.updater=le||P}var ee=Z.prototype=new J;ee.constructor=Z,k(ee,j.prototype),ee.isPureReactComponent=!0;var we=Array.isArray;function Re(){}var Y={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function F(me,$,le){var he=le.ref;return{$$typeof:n,type:me,key:$,ref:he!==void 0?he:null,props:le}}function te(me,$){return F(me.type,$,me.props)}function z(me){return typeof me=="object"&&me!==null&&me.$$typeof===n}function q(me){var $={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(le){return $[le]})}var X=/\/+/g;function be(me,$){return typeof me=="object"&&me!==null&&me.key!=null?q(""+me.key):$.toString(36)}function pe(me){switch(me.status){case"fulfilled":return me.value;case"rejected":throw me.reason;default:switch(typeof me.status=="string"?me.then(Re,Re):(me.status="pending",me.then(function($){me.status==="pending"&&(me.status="fulfilled",me.value=$)},function($){me.status==="pending"&&(me.status="rejected",me.reason=$)})),me.status){case"fulfilled":return me.value;case"rejected":throw me.reason}}throw me}function ge(me,$,le,he,Ie){var Ae=typeof me;(Ae==="undefined"||Ae==="boolean")&&(me=null);var Oe=!1;if(me===null)Oe=!0;else switch(Ae){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(me.$$typeof){case n:case e:Oe=!0;break;case b:return Oe=me._init,ge(Oe(me._payload),$,le,he,Ie)}}if(Oe)return Ie=Ie(me),Oe=he===""?"."+be(me,0):he,we(Ie)?(le="",Oe!=null&&(le=Oe.replace(X,"$&/")+"/"),ge(Ie,$,le,"",function(it){return it})):Ie!=null&&(z(Ie)&&(Ie=te(Ie,le+(Ie.key==null||me&&me.key===Ie.key?"":(""+Ie.key).replace(X,"$&/")+"/")+Oe)),$.push(Ie)),1;Oe=0;var ze=he===""?".":he+":";if(we(me))for(var We=0;We<me.length;We++)he=me[We],Ae=ze+be(he,We),Oe+=ge(he,$,le,Ae,Ie);else if(We=S(me),typeof We=="function")for(me=We.call(me),We=0;!(he=me.next()).done;)he=he.value,Ae=ze+be(he,We++),Oe+=ge(he,$,le,Ae,Ie);else if(Ae==="object"){if(typeof me.then=="function")return ge(pe(me),$,le,he,Ie);throw $=String(me),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Se(me,$,le){if(me==null)return me;var he=[],Ie=0;return ge(me,he,"","",function(Ae){return $.call(le,Ae,Ie++)}),he}function ye(me){if(me._status===-1){var $=me._result;$=$(),$.then(function(le){(me._status===0||me._status===-1)&&(me._status=1,me._result=le)},function(le){(me._status===0||me._status===-1)&&(me._status=2,me._result=le)}),me._status===-1&&(me._status=0,me._result=$)}if(me._status===1)return me._result.default;throw me._result}var De=typeof reportError=="function"?reportError:function(me){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof me=="object"&&me!==null&&typeof me.message=="string"?String(me.message):String(me),error:me});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",me);return}console.error(me)},rt={map:Se,forEach:function(me,$,le){Se(me,function(){$.apply(this,arguments)},le)},count:function(me){var $=0;return Se(me,function(){$++}),$},toArray:function(me){return Se(me,function($){return $})||[]},only:function(me){if(!z(me))throw Error("React.Children.only expected to receive a single React element child.");return me}};return er.Activity=_,er.Children=rt,er.Component=j,er.Fragment=t,er.Profiler=s,er.PureComponent=Z,er.StrictMode=r,er.Suspense=g,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,er.__COMPILER_RUNTIME={__proto__:null,c:function(me){return Y.H.useMemoCache(me)}},er.cache=function(me){return function(){return me.apply(null,arguments)}},er.cacheSignal=function(){return null},er.cloneElement=function(me,$,le){if(me==null)throw Error("The argument must be a React element, but you passed "+me+".");var he=k({},me.props),Ie=me.key;if($!=null)for(Ae in $.key!==void 0&&(Ie=""+$.key),$)!U.call($,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&$.ref===void 0||(he[Ae]=$[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=le;else if(1<Ae){for(var Oe=Array(Ae),ze=0;ze<Ae;ze++)Oe[ze]=arguments[ze+2];he.children=Oe}return F(me.type,Ie,he)},er.createContext=function(me){return me={$$typeof:u,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null},me.Provider=me,me.Consumer={$$typeof:i,_context:me},me},er.createElement=function(me,$,le){var he,Ie={},Ae=null;if($!=null)for(he in $.key!==void 0&&(Ae=""+$.key),$)U.call($,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ie[he]=$[he]);var Oe=arguments.length-2;if(Oe===1)Ie.children=le;else if(1<Oe){for(var ze=Array(Oe),We=0;We<Oe;We++)ze[We]=arguments[We+2];Ie.children=ze}if(me&&me.defaultProps)for(he in Oe=me.defaultProps,Oe)Ie[he]===void 0&&(Ie[he]=Oe[he]);return F(me,Ae,Ie)},er.createRef=function(){return{current:null}},er.forwardRef=function(me){return{$$typeof:d,render:me}},er.isValidElement=z,er.lazy=function(me){return{$$typeof:b,_payload:{_status:-1,_result:me},_init:ye}},er.memo=function(me,$){return{$$typeof:p,type:me,compare:$===void 0?null:$}},er.startTransition=function(me){var $=Y.T,le={};Y.T=le;try{var he=me(),Ie=Y.S;Ie!==null&&Ie(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Re,De)}catch(Ae){De(Ae)}finally{$!==null&&le.types!==null&&($.types=le.types),Y.T=$}},er.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},er.use=function(me){return Y.H.use(me)},er.useActionState=function(me,$,le){return Y.H.useActionState(me,$,le)},er.useCallback=function(me,$){return Y.H.useCallback(me,$)},er.useContext=function(me){return Y.H.useContext(me)},er.useDebugValue=function(){},er.useDeferredValue=function(me,$){return Y.H.useDeferredValue(me,$)},er.useEffect=function(me,$){return Y.H.useEffect(me,$)},er.useEffectEvent=function(me){return Y.H.useEffectEvent(me)},er.useId=function(){return Y.H.useId()},er.useImperativeHandle=function(me,$,le){return Y.H.useImperativeHandle(me,$,le)},er.useInsertionEffect=function(me,$){return Y.H.useInsertionEffect(me,$)},er.useLayoutEffect=function(me,$){return Y.H.useLayoutEffect(me,$)},er.useMemo=function(me,$){return Y.H.useMemo(me,$)},er.useOptimistic=function(me,$){return Y.H.useOptimistic(me,$)},er.useReducer=function(me,$,le){return Y.H.useReducer(me,$,le)},er.useRef=function(me){return Y.H.useRef(me)},er.useState=function(me){return Y.H.useState(me)},er.useSyncExternalStore=function(me,$,le){return Y.H.useSyncExternalStore(me,$,le)},er.useTransition=function(){return Y.H.useTransition()},er.version="19.2.3",er}var i4;function Gv(){return i4||(i4=1,kx.exports=l9()),kx.exports}var H=Gv();const qo=Em(H),Wv=TC({__proto__:null,default:qo},[H]);var Mx={exports:{}},M1={},jx={exports:{}},Fx={};var o4;function c9(){return o4||(o4=1,(function(n){function e(ge,Se){var ye=ge.length;ge.push(Se);e:for(;0<ye;){var De=ye-1>>>1,rt=ge[De];if(0<s(rt,Se))ge[De]=Se,ge[ye]=rt,ye=De;else break e}}function t(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var Se=ge[0],ye=ge.pop();if(ye!==Se){ge[0]=ye;e:for(var De=0,rt=ge.length,me=rt>>>1;De<me;){var $=2*(De+1)-1,le=ge[$],he=$+1,Ie=ge[he];if(0>s(le,ye))he<rt&&0>s(Ie,le)?(ge[De]=Ie,ge[he]=ye,De=he):(ge[De]=le,ge[$]=ye,De=$);else if(he<rt&&0>s(Ie,ye))ge[De]=Ie,ge[he]=ye,De=he;else break e}}return Se}function s(ge,Se){var ye=ge.sortIndex-Se.sortIndex;return ye!==0?ye:ge.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var g=[],p=[],b=1,_=null,I=3,S=!1,P=!1,k=!1,M=!1,j=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ee(ge){for(var Se=t(p);Se!==null;){if(Se.callback===null)r(p);else if(Se.startTime<=ge)r(p),Se.sortIndex=Se.expirationTime,e(g,Se);else break;Se=t(p)}}function we(ge){if(k=!1,ee(ge),!P)if(t(g)!==null)P=!0,Re||(Re=!0,q());else{var Se=t(p);Se!==null&&pe(we,Se.startTime-ge)}}var Re=!1,Y=-1,U=5,F=-1;function te(){return M?!0:!(n.unstable_now()-F<U)}function z(){if(M=!1,Re){var ge=n.unstable_now();F=ge;var Se=!0;try{e:{P=!1,k&&(k=!1,J(Y),Y=-1),S=!0;var ye=I;try{t:{for(ee(ge),_=t(g);_!==null&&!(_.expirationTime>ge&&te());){var De=_.callback;if(typeof De=="function"){_.callback=null,I=_.priorityLevel;var rt=De(_.expirationTime<=ge);if(ge=n.unstable_now(),typeof rt=="function"){_.callback=rt,ee(ge),Se=!0;break t}_===t(g)&&r(g),ee(ge)}else r(g);_=t(g)}if(_!==null)Se=!0;else{var me=t(p);me!==null&&pe(we,me.startTime-ge),Se=!1}}break e}finally{_=null,I=ye,S=!1}Se=void 0}}finally{Se?q():Re=!1}}}var q;if(typeof Z=="function")q=function(){Z(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,be=X.port2;X.port1.onmessage=z,q=function(){be.postMessage(null)}}else q=function(){j(z,0)};function pe(ge,Se){Y=j(function(){ge(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ge){ge.callback=null},n.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ge?Math.floor(1e3/ge):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ge){switch(I){case 1:case 2:case 3:var Se=3;break;default:Se=I}var ye=I;I=Se;try{return ge()}finally{I=ye}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(ge,Se){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var ye=I;I=ge;try{return Se()}finally{I=ye}},n.unstable_scheduleCallback=function(ge,Se,ye){var De=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?De+ye:De):ye=De,ge){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=ye+rt,ge={id:b++,callback:Se,priorityLevel:ge,startTime:ye,expirationTime:rt,sortIndex:-1},ye>De?(ge.sortIndex=ye,e(p,ge),t(g)===null&&ge===t(p)&&(k?(J(Y),Y=-1):k=!0,pe(we,ye-De))):(ge.sortIndex=rt,e(g,ge),P||S||(P=!0,Re||(Re=!0,q()))),ge},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(ge){var Se=I;return function(){var ye=I;I=Se;try{return ge.apply(this,arguments)}finally{I=ye}}}})(Fx)),Fx}var l4;function u9(){return l4||(l4=1,jx.exports=c9()),jx.exports}var Bx={exports:{}},Xi={};var c4;function h9(){if(c4)return Xi;c4=1;var n=Gv();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(g,p,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:g,containerInfo:p,implementation:b}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xi.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return i(g,p,null,b)},Xi.flushSync=function(g){var p=u.T,b=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=p,r.p=b,r.d.f()}},Xi.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Xi.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xi.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,_=d(b,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:I,fetchPriority:S}):b==="script"&&r.d.X(g,{crossOrigin:_,integrity:I,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xi.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Xi.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,_=d(b,p.crossOrigin);r.d.L(g,b,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xi.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=d(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Xi.requestFormReset=function(g){r.d.r(g)},Xi.unstable_batchedUpdates=function(g,p){return g(p)},Xi.useFormState=function(g,p,b){return u.H.useFormState(g,p,b)},Xi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xi.version="19.2.3",Xi}var u4;function IC(){if(u4)return Bx.exports;u4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bx.exports=h9(),Bx.exports}var h4;function d9(){if(h4)return M1;h4=1;var n=u9(),e=Gv(),t=IC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function u(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function g(a){if(i(a)!==a)throw Error(r(188))}function p(a){var l=a.alternate;if(!l){if(l=i(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,v=l;;){var N=f.return;if(N===null)break;var O=N.alternate;if(O===null){if(v=N.return,v!==null){f=v;continue}break}if(N.child===O.child){for(O=N.child;O;){if(O===f)return g(N),a;if(O===v)return g(N),l;O=O.sibling}throw Error(r(188))}if(f.return!==v.return)f=N,v=O;else{for(var K=!1,ue=N.child;ue;){if(ue===f){K=!0,f=N,v=O;break}if(ue===v){K=!0,v=N,f=O;break}ue=ue.sibling}if(!K){for(ue=O.child;ue;){if(ue===f){K=!0,f=O,v=N;break}if(ue===v){K=!0,v=O,f=N;break}ue=ue.sibling}if(!K)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function b(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=b(a),l!==null)return l;a=a.sibling}return null}var _=Object.assign,I=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function be(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case j:return"Profiler";case M:return"StrictMode";case we:return"Suspense";case Re:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case P:return"Portal";case Z:return a.displayName||"Context";case J:return(a._context.displayName||"Context")+".Consumer";case ee:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Y:return l=a.displayName||null,l!==null?l:be(a.type)||"Memo";case U:l=a._payload,a=a._init;try{return be(a(l))}catch{}}return null}var pe=Array.isArray,ge=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},De=[],rt=-1;function me(a){return{current:a}}function $(a){0>rt||(a.current=De[rt],De[rt]=null,rt--)}function le(a,l){rt++,De[rt]=a.current,a.current=l}var he=me(null),Ie=me(null),Ae=me(null),Oe=me(null);function ze(a,l){switch(le(Ae,l),le(Ie,a),le(he,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?S3(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=S3(l),a=N3(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(he),le(he,a)}function We(){$(he),$(Ie),$(Ae)}function it(a){a.memoizedState!==null&&le(Oe,a);var l=he.current,f=N3(l,a.type);l!==f&&(le(Ie,a),le(he,f))}function mt(a){Ie.current===a&&($(he),$(Ie)),Oe.current===a&&($(Oe),O1._currentValue=ye)}var Nt,vt;function Ut(a){if(Nt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Nt=l&&l[1]||"",vt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nt+a+vt}var ve=!1;function Tt(a,l){if(!a||ve)return"";ve=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(st){var nt=st}Reflect.construct(a,[],wt)}else{try{wt.call()}catch(st){nt=st}a.call(wt.prototype)}}else{try{throw Error()}catch(st){nt=st}(wt=a())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(st){if(st&&nt&&typeof st.stack=="string")return[st.stack,nt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),K=O[0],ue=O[1];if(K&&ue){var Le=K.split(`
`),$e=ue.split(`
`);for(N=v=0;v<Le.length&&!Le[v].includes("DetermineComponentFrameRoot");)v++;for(;N<$e.length&&!$e[N].includes("DetermineComponentFrameRoot");)N++;if(v===Le.length||N===$e.length)for(v=Le.length-1,N=$e.length-1;1<=v&&0<=N&&Le[v]!==$e[N];)N--;for(;1<=v&&0<=N;v--,N--)if(Le[v]!==$e[N]){if(v!==1||N!==1)do if(v--,N--,0>N||Le[v]!==$e[N]){var pt=`
`+Le[v].replace(" at new "," at ");return a.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",a.displayName)),pt}while(1<=v&&0<=N);break}}}finally{ve=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Ut(f):""}function Zt(a,l){switch(a.tag){case 26:case 27:case 5:return Ut(a.type);case 16:return Ut("Lazy");case 13:return a.child!==l&&l!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return Tt(a.type,!1);case 11:return Tt(a.type.render,!1);case 1:return Tt(a.type,!0);case 31:return Ut("Activity");default:return""}}function Ot(a){try{var l="",f=null;do l+=Zt(a,f),f=a,a=a.return;while(a);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var et=Object.prototype.hasOwnProperty,jt=n.unstable_scheduleCallback,ot=n.unstable_cancelCallback,pn=n.unstable_shouldYield,un=n.unstable_requestPaint,Cn=n.unstable_now,Vn=n.unstable_getCurrentPriorityLevel,gn=n.unstable_ImmediatePriority,Xn=n.unstable_UserBlockingPriority,Dn=n.unstable_NormalPriority,Mt=n.unstable_LowPriority,jn=n.unstable_IdlePriority,Yt=n.log,cs=n.unstable_setDisableYieldValue,Kt=null,at=null;function Vt(a){if(typeof Yt=="function"&&cs(a),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(Kt,a)}catch{}}var Bt=Math.clz32?Math.clz32:wn,Lt=Math.log,dr=Math.LN2;function wn(a){return a>>>=0,a===0?32:31-(Lt(a)/dr|0)|0}var En=256,en=262144,Xt=4194304;function tn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qn(a,l,f){var v=a.pendingLanes;if(v===0)return 0;var N=0,O=a.suspendedLanes,K=a.pingedLanes;a=a.warmLanes;var ue=v&134217727;return ue!==0?(v=ue&~O,v!==0?N=tn(v):(K&=ue,K!==0?N=tn(K):f||(f=ue&~a,f!==0&&(N=tn(f))))):(ue=v&~O,ue!==0?N=tn(ue):K!==0?N=tn(K):f||(f=v&~a,f!==0&&(N=tn(f)))),N===0?0:l!==0&&l!==N&&(l&O)===0&&(O=N&-N,f=l&-l,O>=f||O===32&&(f&4194048)!==0)?l:N}function Gr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Vs(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function us(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function on(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zs(a,l,f,v,N,O){var K=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var ue=a.entanglements,Le=a.expirationTimes,$e=a.hiddenUpdates;for(f=K&~f;0<f;){var pt=31-Bt(f),wt=1<<pt;ue[pt]=0,Le[pt]=-1;var nt=$e[pt];if(nt!==null)for($e[pt]=null,pt=0;pt<nt.length;pt++){var st=nt[pt];st!==null&&(st.lane&=-536870913)}f&=~wt}v!==0&&ti(a,v,0),O!==0&&N===0&&a.tag!==0&&(a.suspendedLanes|=O&~(K&~l))}function ti(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var v=31-Bt(l);a.entangledLanes|=l,a.entanglements[v]=a.entanglements[v]|1073741824|f&261930}function Ss(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var v=31-Bt(f),N=1<<v;N&l|a[v]&l&&(a[v]|=l),f&=~N}}function oa(a,l){var f=l&-l;return f=(f&42)!==0?1:Gn(f),(f&(a.suspendedLanes|l))!==0?0:f}function Gn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function br(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Rr(){var a=Se.p;return a!==0?a:(a=window.event,a===void 0?32:K3(a.type))}function Rt(a,l){var f=Se.p;try{return Se.p=a,l()}finally{Se.p=f}}var vs=Math.random().toString(36).slice(2),wr="__reactFiber$"+vs,Kn="__reactProps$"+vs,ns="__reactContainer$"+vs,Js="__reactEvents$"+vs,Aa="__reactListeners$"+vs,Zs="__reactHandles$"+vs,Ni="__reactResources$"+vs,Ba="__reactMarker$"+vs;function Hs(a){delete a[wr],delete a[Kn],delete a[Js],delete a[Aa],delete a[Zs]}function Ur(a){var l=a[wr];if(l)return l;for(var f=a.parentNode;f;){if(l=f[ns]||f[wr]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=L3(a);a!==null;){if(f=a[wr])return f;a=L3(a)}return l}a=f,f=a.parentNode}return null}function $n(a){if(a=a[wr]||a[ns]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ua(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Os(a){var l=a[Ni];return l||(l=a[Ni]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function rs(a){a[Ba]=!0}var yt=new Set,Va={};function fr(a,l){la(a,l),la(a+"Capture",l)}function la(a,l){for(Va[a]=l,a=0;a<l.length;a++)yt.add(l[a])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},ar={};function Wn(a){return et.call(ar,a)?!0:et.call(ir,a)?!1:Po.test(a)?ar[a]=!0:(ir[a]=!0,!1)}function Ea(a,l,f){if(Wn(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function qs(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function hs(a,l,f,v){if(v===null)a.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+v)}}function vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ca(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fi(a,l,f){var v=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var N=v.get,O=v.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return N.call(this)},set:function(K){f=""+K,O.call(this,K)}}),Object.defineProperty(a,l,{enumerable:v.enumerable}),{getValue:function(){return f},setValue:function(K){f=""+K},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function _n(a){if(!a._valueTracker){var l=ca(a)?"checked":"value";a._valueTracker=fi(a,l,""+a[l])}}function Ca(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),v="";return a&&(v=ca(a)?a.checked?"true":"false":a.value),a=v,a!==f?(l.setValue(a),!0):!1}function Ds(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Lr=/[\n"\\]/g;function kn(a){return a.replace(Lr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ds(a,l,f,v,N,O,K,ue){a.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?a.type=K:a.removeAttribute("type"),l!=null?K==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+vn(l)):a.value!==""+vn(l)&&(a.value=""+vn(l)):K!=="submit"&&K!=="reset"||a.removeAttribute("value"),l!=null?_e(a,K,vn(l)):f!=null?_e(a,K,vn(f)):v!=null&&a.removeAttribute("value"),N==null&&O!=null&&(a.defaultChecked=!!O),N!=null&&(a.checked=N&&typeof N!="function"&&typeof N!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?a.name=""+vn(ue):a.removeAttribute("name")}function Ye(a,l,f,v,N,O,K,ue){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.type=O),l!=null||f!=null){if(!(O!=="submit"&&O!=="reset"||l!=null)){_n(a);return}f=f!=null?""+vn(f):"",l=l!=null?""+vn(l):f,ue||l===a.value||(a.value=l),a.defaultValue=l}v=v??N,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=ue?a.checked:!!v,a.defaultChecked=!!v,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(a.name=K),_n(a)}function _e(a,l,f){l==="number"&&Ds(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Ft(a,l,f,v){if(a=a.options,l){l={};for(var N=0;N<f.length;N++)l["$"+f[N]]=!0;for(f=0;f<a.length;f++)N=l.hasOwnProperty("$"+a[f].value),a[f].selected!==N&&(a[f].selected=N),N&&v&&(a[f].defaultSelected=!0)}else{for(f=""+vn(f),l=null,N=0;N<a.length;N++){if(a[N].value===f){a[N].selected=!0,v&&(a[N].defaultSelected=!0);return}l!==null||a[N].disabled||(l=a[N])}l!==null&&(l.selected=!0)}}function fs(a,l,f){if(l!=null&&(l=""+vn(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+vn(f):""}function Ns(a,l,f,v){if(l==null){if(v!=null){if(f!=null)throw Error(r(92));if(pe(v)){if(1<v.length)throw Error(r(93));v=v[0]}f=v}f==null&&(f=""),l=f}f=vn(l),a.defaultValue=f,v=a.textContent,v===f&&v!==""&&v!==null&&(a.value=v),_n(a)}function ea(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ua(a,l,f){var v=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":v?a.setProperty(l,f):typeof f!="number"||f===0||zi.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function ln(a,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var N in l)v=l[N],l.hasOwnProperty(N)&&f[N]!==v&&ua(a,N,v)}else for(var O in l)l.hasOwnProperty(O)&&ua(a,O,l[O])}function kr(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(a){return ao.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function za(){}var Ti=null;function Ha(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yr=null,hn=null;function qa(a){var l=$n(a);if(l&&(a=l.stateNode)){var f=a[Kn]||null;e:switch(a=l.stateNode,l.type){case"input":if(ds(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+kn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var v=f[l];if(v!==a&&v.form===a.form){var N=v[Kn]||null;if(!N)throw Error(r(90));ds(v,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(l=0;l<f.length;l++)v=f[l],v.form===a.form&&Ca(v)}break e;case"textarea":fs(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Ft(a,!!f.multiple,l,!1)}}}var xn=!1;function po(a,l,f){if(xn)return a(l,f);xn=!0;try{var v=a(l);return v}finally{if(xn=!1,(Yr!==null||hn!==null)&&(fp(),Yr&&(l=Yr,a=hn,hn=Yr=null,qa(l),a)))for(l=0;l<a.length;l++)qa(a[l])}}function dn(a,l){var f=a.stateNode;if(f===null)return null;var v=f[Kn]||null;if(v===null)return null;f=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(lr)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){ko=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{ko=!1}var Ga=null,ni=null,Ii=null;function io(){if(Ii)return Ii;var a,l=ni,f=l.length,v,N="value"in Ga?Ga.value:Ga.textContent,O=N.length;for(a=0;a<f&&l[a]===N[a];a++);var K=f-a;for(v=1;v<=K&&l[f-v]===N[O-v];v++);return Ii=N.slice(a,1<v?1-v:void 0)}function ta(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function ri(){return!0}function Wa(){return!1}function ss(a){function l(f,v,N,O,K){this._reactName=f,this._targetInst=N,this.type=v,this.nativeEvent=O,this.target=K,this.currentTarget=null;for(var ue in a)a.hasOwnProperty(ue)&&(f=a[ue],this[ue]=f?f(O):O[ue]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ri:Wa,this.isPropagationStopped=Wa,this}return _(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=ss(Ya),Ri=_({},Ya,{view:0,detail:0}),oo=ss(Ri),Oi,Hi,pi,Mo=_({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==pi&&(pi&&a.type==="mousemove"?(Oi=a.screenX-pi.screenX,Hi=a.screenY-pi.screenY):Hi=Oi=0,pi=a),Oi)},movementY:function(a){return"movementY"in a?a.movementY:Hi}}),pr=ss(Mo),Xa=_({},Mo,{dataTransfer:0}),si=ss(Xa),gi=_({},Ri,{relatedTarget:0}),Di=ss(gi),tt=_({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),D=ss(tt),ne=_({},Ya,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ce=ss(ne),ke=_({},Ya,{data:0}),Ue=ss(ke),ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dt(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=zt[a])?!!l[a]:!1}function bn(){return Dt}var kt=_({},Ri,{key:function(a){if(a.key){var l=ut[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ta(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_t[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(a){return a.type==="keypress"?ta(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ta(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),rr=ss(kt),Ar=_({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=ss(Ar),A=_({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),V=ss(A),Q=_({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),de=ss(Q),He=_({},Mo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=ss(He),Ct=_({},Ya,{newState:0,oldState:0}),Pn=ss(Ct),Xr=[9,13,27,32],Jn=lr&&"CompositionEvent"in window,Dr=null;lr&&"documentMode"in document&&(Dr=document.documentMode);var na=lr&&"TextEvent"in window&&!Dr,Sa=lr&&(!Jn||Dr&&8<Dr&&11>=Dr),Er=" ",ra=!1;function Pi(a,l){switch(a){case"keyup":return Xr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mi(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var go=!1;function Ts(a,l){switch(a){case"compositionend":return mi(l);case"keypress":return l.which!==32?null:(ra=!0,Er);case"textInput":return a=l.data,a===Er&&ra?null:a;default:return null}}function qi(a,l){if(go)return a==="compositionend"||!Jn&&Pi(a,l)?(a=io(),Ii=ni=Ga=null,go=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Sa&&l.locale!=="ko"?null:l.data;default:return null}}var Na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Na[a.type]:l==="textarea"}function Is(a,l,f,v){Yr?hn?hn.push(v):hn=[v]:Yr=v,l=bp(l,"onChange"),0<l.length&&(f=new Or("onChange","change",null,f,v),a.push({event:f,listeners:l}))}var lo=null,co=null;function Ac(a){b3(a,0)}function Gi(a){var l=Ua(a);if(Ca(l))return a}function Ta(a,l){if(a==="change")return l}var xi=!1;if(lr){var Ia;if(lr){var yi="oninput"in document;if(!yi){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),yi=typeof qn.oninput=="function"}Ia=yi}else Ia=!1;xi=Ia&&(!document.documentMode||9<document.documentMode)}function Wi(){lo&&(lo.detachEvent("onpropertychange",re),co=lo=null)}function re(a){if(a.propertyName==="value"&&Gi(co)){var l=[];Is(l,co,a,Ha(a)),po(Ac,l)}}function o(a,l,f){a==="focusin"?(Wi(),lo=l,co=f,lo.attachEvent("onpropertychange",re)):a==="focusout"&&Wi()}function c(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gi(co)}function h(a,l){if(a==="click")return Gi(l)}function m(a,l){if(a==="input"||a==="change")return Gi(l)}function y(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var w=typeof Object.is=="function"?Object.is:y;function C(a,l){if(w(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),v=Object.keys(l);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var N=f[v];if(!et.call(l,N)||!w(a[N],l[N]))return!1}return!0}function R(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function L(a,l){var f=R(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=l&&v>=l)return{node:f,offset:l-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=R(f)}}function G(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?G(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function se(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Ds(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Ds(a.document)}return l}function ie(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Ee=lr&&"documentMode"in document&&11>=document.documentMode,Pe=null,Me=null,Ve=null,Ze=!1;function dt(a,l,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ze||Pe==null||Pe!==Ds(v)||(v=Pe,"selectionStart"in v&&ie(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ve&&C(Ve,v)||(Ve=v,v=bp(Me,"onSelect"),0<v.length&&(l=new Or("onSelect","select",null,l,f),a.push({event:l,listeners:v}),l.target=Pe)))}function ft(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var ht={animationend:ft("Animation","AnimationEnd"),animationiteration:ft("Animation","AnimationIteration"),animationstart:ft("Animation","AnimationStart"),transitionrun:ft("Transition","TransitionRun"),transitionstart:ft("Transition","TransitionStart"),transitioncancel:ft("Transition","TransitionCancel"),transitionend:ft("Transition","TransitionEnd")},yn={},Nn={};lr&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete ht.animationend.animation,delete ht.animationiteration.animation,delete ht.animationstart.animation),"TransitionEvent"in window||delete ht.transitionend.transition);function ps(a){if(yn[a])return yn[a];if(!ht[a])return a;var l=ht[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in Nn)return yn[a]=l[f];return a}var Ra=ps("animationend"),da=ps("animationiteration"),Vr=ps("animationstart"),fa=ps("transitionrun"),vi=ps("transitionstart"),dl=ps("transitioncancel"),Jo=ps("transitionend"),dh=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function mo(a,l){dh.set(a,l),fr(l,[a])}var fh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},uo=[],Ec=0,cd=0;function ph(){for(var a=Ec,l=cd=Ec=0;l<a;){var f=uo[l];uo[l++]=null;var v=uo[l];uo[l++]=null;var N=uo[l];uo[l++]=null;var O=uo[l];if(uo[l++]=null,v!==null&&N!==null){var K=v.pending;K===null?N.next=N:(N.next=K.next,K.next=N),v.pending=N}O!==0&&mh(f,N,O)}}function gh(a,l,f,v){uo[Ec++]=a,uo[Ec++]=l,uo[Ec++]=f,uo[Ec++]=v,cd|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function ud(a,l,f,v){return gh(a,l,f,v),bi(a)}function pl(a,l){return gh(a,null,null,l),bi(a)}function mh(a,l,f){a.lanes|=f;var v=a.alternate;v!==null&&(v.lanes|=f);for(var N=!1,O=a.return;O!==null;)O.childLanes|=f,v=O.alternate,v!==null&&(v.childLanes|=f),O.tag===22&&(a=O.stateNode,a===null||a._visibility&1||(N=!0)),a=O,O=O.return;return a.tag===3?(O=a.stateNode,N&&l!==null&&(N=31-Bt(f),a=O.hiddenUpdates,v=a[N],v===null?a[N]=[l]:v.push(l),l.lane=f|536870912),O):null}function bi(a){if(50<E1)throw E1=0,sx=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var ai={};function hd(a,l,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(a,l,f,v){return new hd(a,l,f,v)}function dd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xo(a,l){var f=a.alternate;return f===null?(f=wi(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function xh(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function hu(a,l,f,v,N,O){var K=0;if(v=a,typeof a=="function")dd(a)&&(K=1);else if(typeof a=="string")K=XR(a,f,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=wi(31,f,l,N),a.elementType=F,a.lanes=O,a;case k:return Vl(f.children,N,O,l);case M:K=8,N|=24;break;case j:return a=wi(12,f,l,N|2),a.elementType=j,a.lanes=O,a;case we:return a=wi(13,f,l,N),a.elementType=we,a.lanes=O,a;case Re:return a=wi(19,f,l,N),a.elementType=Re,a.lanes=O,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Z:K=10;break e;case J:K=9;break e;case ee:K=11;break e;case Y:K=14;break e;case U:K=16,v=null;break e}K=29,f=Error(r(130,a===null?"null":typeof a,"")),v=null}return l=wi(K,f,l,N),l.elementType=a,l.type=v,l.lanes=O,l}function Vl(a,l,f,v){return a=wi(7,a,v,l),a.lanes=f,a}function yh(a,l,f){return a=wi(6,a,null,l),a.lanes=f,a}function fd(a){var l=wi(18,null,null,0);return l.stateNode=a,l}function du(a,l,f){return l=wi(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var pd=new WeakMap;function yo(a,l){if(typeof a=="object"&&a!==null){var f=pd.get(a);return f!==void 0?f:(l={value:a,source:l,stack:Ot(l)},pd.set(a,l),l)}return{value:a,source:l,stack:Ot(l)}}var fu=[],Cc=0,gd=null,vh=0,vo=[],bo=0,zl=null,wo=1,_o="";function ho(a,l){fu[Cc++]=vh,fu[Cc++]=gd,gd=a,vh=l}function W0(a,l,f){vo[bo++]=wo,vo[bo++]=_o,vo[bo++]=zl,zl=a;var v=wo;a=_o;var N=32-Bt(v)-1;v&=~(1<<N),f+=1;var O=32-Bt(l)+N;if(30<O){var K=N-N%5;O=(v&(1<<K)-1).toString(32),v>>=K,N-=K,wo=1<<32-Bt(l)+N|f<<N|v,_o=O+a}else wo=1<<O|f<<N|v,_o=a}function r1(a){a.return!==null&&(ho(a,1),W0(a,1,0))}function md(a){for(;a===gd;)gd=fu[--Cc],fu[Cc]=null,vh=fu[--Cc],fu[Cc]=null;for(;a===zl;)zl=vo[--bo],vo[bo]=null,_o=vo[--bo],vo[bo]=null,wo=vo[--bo],vo[bo]=null}function Y0(a,l){vo[bo++]=wo,vo[bo++]=_o,vo[bo++]=zl,wo=l.id,_o=l.overflow,zl=a}var ii=null,bs=null,xr=!1,Li=null,Gs=!1,jo=Error(r(519));function Hl(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(yo(l,a)),jo}function s1(a){var l=a.stateNode,f=a.type,v=a.memoizedProps;switch(l[wr]=a,l[Kn]=v,f){case"dialog":vr("cancel",l),vr("close",l);break;case"iframe":case"object":case"embed":vr("load",l);break;case"video":case"audio":for(f=0;f<S1.length;f++)vr(S1[f],l);break;case"source":vr("error",l);break;case"img":case"image":case"link":vr("error",l),vr("load",l);break;case"details":vr("toggle",l);break;case"input":vr("invalid",l),Ye(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":vr("invalid",l);break;case"textarea":vr("invalid",l),Ns(l,v.value,v.defaultValue,v.children)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||v.suppressHydrationWarning===!0||E3(l.textContent,f)?(v.popover!=null&&(vr("beforetoggle",l),vr("toggle",l)),v.onScroll!=null&&vr("scroll",l),v.onScrollEnd!=null&&vr("scrollend",l),v.onClick!=null&&(l.onclick=za),l=!0):l=!1,l||Hl(a,!0)}function gl(a){for(ii=a.return;ii;)switch(ii.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:ii=ii.return}}function oi(a){if(a!==ii)return!1;if(!xr)return gl(a),xr=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||vx(a.type,a.memoizedProps)),f=!f),f&&bs&&Hl(a),gl(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bs=P3(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bs=P3(a)}else l===27?(l=bs,Tu(a.type)?(a=Ex,Ex=null,bs=a):bs=l):bs=ii?nl(a.stateNode.nextSibling):null;return!0}function Sc(){bs=ii=null,xr=!1}function a1(){var a=Li;return a!==null&&(To===null?To=a:To.push.apply(To,a),Li=null),a}function pu(a){Li===null?Li=[a]:Li.push(a)}var xd=me(null),ql=null,Zo=null;function Gl(a,l,f){le(xd,l._currentValue),l._currentValue=f}function Ao(a){a._currentValue=xd.current,$(xd)}function gu(a,l,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===f)break;a=a.return}}function Nc(a,l,f,v){var N=a.child;for(N!==null&&(N.return=a);N!==null;){var O=N.dependencies;if(O!==null){var K=N.child;O=O.firstContext;e:for(;O!==null;){var ue=O;O=N;for(var Le=0;Le<l.length;Le++)if(ue.context===l[Le]){O.lanes|=f,ue=O.alternate,ue!==null&&(ue.lanes|=f),gu(O.return,f,a),v||(K=null);break e}O=ue.next}}else if(N.tag===18){if(K=N.return,K===null)throw Error(r(341));K.lanes|=f,O=K.alternate,O!==null&&(O.lanes|=f),gu(K,f,a),K=null}else K=N.child;if(K!==null)K.return=N;else for(K=N;K!==null;){if(K===a){K=null;break}if(N=K.sibling,N!==null){N.return=K.return,K=N;break}K=K.return}N=K}}function Wl(a,l,f,v){a=null;for(var N=l,O=!1;N!==null;){if(!O){if((N.flags&524288)!==0)O=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var K=N.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ue=N.type;w(N.pendingProps.value,K.value)||(a!==null?a.push(ue):a=[ue])}}else if(N===Oe.current){if(K=N.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(a!==null?a.push(O1):a=[O1])}N=N.return}a!==null&&Nc(l,a,f,v),l.flags|=262144}function yd(a){for(a=a.firstContext;a!==null;){if(!w(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Yl(a){ql=a,Zo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function li(a){return X0(ql,a)}function vd(a,l){return ql===null&&Yl(a),X0(a,l)}function X0(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Zo===null){if(a===null)throw Error(r(308));Zo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Zo=Zo.next=l;return f}var A2=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,v){a.push(v)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},E2=n.unstable_scheduleCallback,C2=n.unstable_NormalPriority,sa={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mu(){return{controller:new A2,data:new Map,refCount:0}}function bh(a){a.refCount--,a.refCount===0&&E2(C2,function(){a.controller.abort()})}var wh=null,bd=0,E=0,T=null;function B(a,l){if(wh===null){var f=wh=[];bd=0,E=ux(),T={status:"pending",value:void 0,then:function(v){f.push(v)}}}return bd++,l.then(W,W),l}function W(){if(--bd===0&&wh!==null){T!==null&&(T.status="fulfilled");var a=wh;wh=null,E=0,T=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function ae(a,l){var f=[],v={status:"pending",value:null,reason:null,then:function(N){f.push(N)}};return a.then(function(){v.status="fulfilled",v.value=l;for(var N=0;N<f.length;N++)(0,f[N])(l)},function(N){for(v.status="rejected",v.reason=N,N=0;N<f.length;N++)(0,f[N])(void 0)}),v}var oe=ge.S;ge.S=function(a,l){Xw=Cn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&B(a,l),oe!==null&&oe(a,l)};var ce=me(null);function fe(){var a=ce.current;return a!==null?a:_s.pooledCache}function xe(a,l){l===null?le(ce,ce.current):le(ce,l.pool)}function Te(){var a=fe();return a===null?null:{parent:sa._currentValue,pool:a}}var je=Error(r(460)),Qe=Error(r(474)),Ne=Error(r(542)),Be={then:function(){}};function Ge(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ct(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(za,za),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,St(a),a;default:if(typeof l.status=="string")l.then(za,za);else{if(a=_s,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(v){if(l.status==="pending"){var N=l;N.status="fulfilled",N.value=v}},function(v){if(l.status==="pending"){var N=l;N.status="rejected",N.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,St(a),a}throw lt=l,je}}function Xe(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(lt=f,je):f}}var lt=null;function gt(){if(lt===null)throw Error(r(459));var a=lt;return lt=null,a}function St(a){if(a===je||a===Ne)throw Error(r(483))}var At=null,nn=0;function qt(a){var l=nn;return nn+=1,At===null&&(At=[]),ct(At,a,l)}function zn(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function $t(a,l){throw l.$$typeof===I?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function mr(a){function l(qe,Fe){if(a){var Ke=qe.deletions;Ke===null?(qe.deletions=[Fe],qe.flags|=16):Ke.push(Fe)}}function f(qe,Fe){if(!a)return null;for(;Fe!==null;)l(qe,Fe),Fe=Fe.sibling;return null}function v(qe){for(var Fe=new Map;qe!==null;)qe.key!==null?Fe.set(qe.key,qe):Fe.set(qe.index,qe),qe=qe.sibling;return Fe}function N(qe,Fe){return qe=xo(qe,Fe),qe.index=0,qe.sibling=null,qe}function O(qe,Fe,Ke){return qe.index=Ke,a?(Ke=qe.alternate,Ke!==null?(Ke=Ke.index,Ke<Fe?(qe.flags|=67108866,Fe):Ke):(qe.flags|=67108866,Fe)):(qe.flags|=1048576,Fe)}function K(qe){return a&&qe.alternate===null&&(qe.flags|=67108866),qe}function ue(qe,Fe,Ke,xt){return Fe===null||Fe.tag!==6?(Fe=yh(Ke,qe.mode,xt),Fe.return=qe,Fe):(Fe=N(Fe,Ke),Fe.return=qe,Fe)}function Le(qe,Fe,Ke,xt){var In=Ke.type;return In===k?pt(qe,Fe,Ke.props.children,xt,Ke.key):Fe!==null&&(Fe.elementType===In||typeof In=="object"&&In!==null&&In.$$typeof===U&&Xe(In)===Fe.type)?(Fe=N(Fe,Ke.props),zn(Fe,Ke),Fe.return=qe,Fe):(Fe=hu(Ke.type,Ke.key,Ke.props,null,qe.mode,xt),zn(Fe,Ke),Fe.return=qe,Fe)}function $e(qe,Fe,Ke,xt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ke.containerInfo||Fe.stateNode.implementation!==Ke.implementation?(Fe=du(Ke,qe.mode,xt),Fe.return=qe,Fe):(Fe=N(Fe,Ke.children||[]),Fe.return=qe,Fe)}function pt(qe,Fe,Ke,xt,In){return Fe===null||Fe.tag!==7?(Fe=Vl(Ke,qe.mode,xt,In),Fe.return=qe,Fe):(Fe=N(Fe,Ke),Fe.return=qe,Fe)}function wt(qe,Fe,Ke){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=yh(""+Fe,qe.mode,Ke),Fe.return=qe,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case S:return Ke=hu(Fe.type,Fe.key,Fe.props,null,qe.mode,Ke),zn(Ke,Fe),Ke.return=qe,Ke;case P:return Fe=du(Fe,qe.mode,Ke),Fe.return=qe,Fe;case U:return Fe=Xe(Fe),wt(qe,Fe,Ke)}if(pe(Fe)||q(Fe))return Fe=Vl(Fe,qe.mode,Ke,null),Fe.return=qe,Fe;if(typeof Fe.then=="function")return wt(qe,qt(Fe),Ke);if(Fe.$$typeof===Z)return wt(qe,vd(qe,Fe),Ke);$t(qe,Fe)}return null}function nt(qe,Fe,Ke,xt){var In=Fe!==null?Fe.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return In!==null?null:ue(qe,Fe,""+Ke,xt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case S:return Ke.key===In?Le(qe,Fe,Ke,xt):null;case P:return Ke.key===In?$e(qe,Fe,Ke,xt):null;case U:return Ke=Xe(Ke),nt(qe,Fe,Ke,xt)}if(pe(Ke)||q(Ke))return In!==null?null:pt(qe,Fe,Ke,xt,null);if(typeof Ke.then=="function")return nt(qe,Fe,qt(Ke),xt);if(Ke.$$typeof===Z)return nt(qe,Fe,vd(qe,Ke),xt);$t(qe,Ke)}return null}function st(qe,Fe,Ke,xt,In){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return qe=qe.get(Ke)||null,ue(Fe,qe,""+xt,In);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case S:return qe=qe.get(xt.key===null?Ke:xt.key)||null,Le(Fe,qe,xt,In);case P:return qe=qe.get(xt.key===null?Ke:xt.key)||null,$e(Fe,qe,xt,In);case U:return xt=Xe(xt),st(qe,Fe,Ke,xt,In)}if(pe(xt)||q(xt))return qe=qe.get(Ke)||null,pt(Fe,qe,xt,In,null);if(typeof xt.then=="function")return st(qe,Fe,Ke,qt(xt),In);if(xt.$$typeof===Z)return st(qe,Fe,Ke,vd(Fe,xt),In);$t(Fe,xt)}return null}function Jt(qe,Fe,Ke,xt){for(var In=null,Hr=null,mn=Fe,or=Fe=0,Sr=null;mn!==null&&or<Ke.length;or++){mn.index>or?(Sr=mn,mn=null):Sr=mn.sibling;var qr=nt(qe,mn,Ke[or],xt);if(qr===null){mn===null&&(mn=Sr);break}a&&mn&&qr.alternate===null&&l(qe,mn),Fe=O(qr,Fe,or),Hr===null?In=qr:Hr.sibling=qr,Hr=qr,mn=Sr}if(or===Ke.length)return f(qe,mn),xr&&ho(qe,or),In;if(mn===null){for(;or<Ke.length;or++)mn=wt(qe,Ke[or],xt),mn!==null&&(Fe=O(mn,Fe,or),Hr===null?In=mn:Hr.sibling=mn,Hr=mn);return xr&&ho(qe,or),In}for(mn=v(mn);or<Ke.length;or++)Sr=st(mn,qe,or,Ke[or],xt),Sr!==null&&(a&&Sr.alternate!==null&&mn.delete(Sr.key===null?or:Sr.key),Fe=O(Sr,Fe,or),Hr===null?In=Sr:Hr.sibling=Sr,Hr=Sr);return a&&mn.forEach(function(Pu){return l(qe,Pu)}),xr&&ho(qe,or),In}function Mn(qe,Fe,Ke,xt){if(Ke==null)throw Error(r(151));for(var In=null,Hr=null,mn=Fe,or=Fe=0,Sr=null,qr=Ke.next();mn!==null&&!qr.done;or++,qr=Ke.next()){mn.index>or?(Sr=mn,mn=null):Sr=mn.sibling;var Pu=nt(qe,mn,qr.value,xt);if(Pu===null){mn===null&&(mn=Sr);break}a&&mn&&Pu.alternate===null&&l(qe,mn),Fe=O(Pu,Fe,or),Hr===null?In=Pu:Hr.sibling=Pu,Hr=Pu,mn=Sr}if(qr.done)return f(qe,mn),xr&&ho(qe,or),In;if(mn===null){for(;!qr.done;or++,qr=Ke.next())qr=wt(qe,qr.value,xt),qr!==null&&(Fe=O(qr,Fe,or),Hr===null?In=qr:Hr.sibling=qr,Hr=qr);return xr&&ho(qe,or),In}for(mn=v(mn);!qr.done;or++,qr=Ke.next())qr=st(mn,qe,or,qr.value,xt),qr!==null&&(a&&qr.alternate!==null&&mn.delete(qr.key===null?or:qr.key),Fe=O(qr,Fe,or),Hr===null?In=qr:Hr.sibling=qr,Hr=qr);return a&&mn.forEach(function(a9){return l(qe,a9)}),xr&&ho(qe,or),In}function ys(qe,Fe,Ke,xt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===k&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case S:e:{for(var In=Ke.key;Fe!==null;){if(Fe.key===In){if(In=Ke.type,In===k){if(Fe.tag===7){f(qe,Fe.sibling),xt=N(Fe,Ke.props.children),xt.return=qe,qe=xt;break e}}else if(Fe.elementType===In||typeof In=="object"&&In!==null&&In.$$typeof===U&&Xe(In)===Fe.type){f(qe,Fe.sibling),xt=N(Fe,Ke.props),zn(xt,Ke),xt.return=qe,qe=xt;break e}f(qe,Fe);break}else l(qe,Fe);Fe=Fe.sibling}Ke.type===k?(xt=Vl(Ke.props.children,qe.mode,xt,Ke.key),xt.return=qe,qe=xt):(xt=hu(Ke.type,Ke.key,Ke.props,null,qe.mode,xt),zn(xt,Ke),xt.return=qe,qe=xt)}return K(qe);case P:e:{for(In=Ke.key;Fe!==null;){if(Fe.key===In)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ke.containerInfo&&Fe.stateNode.implementation===Ke.implementation){f(qe,Fe.sibling),xt=N(Fe,Ke.children||[]),xt.return=qe,qe=xt;break e}else{f(qe,Fe);break}else l(qe,Fe);Fe=Fe.sibling}xt=du(Ke,qe.mode,xt),xt.return=qe,qe=xt}return K(qe);case U:return Ke=Xe(Ke),ys(qe,Fe,Ke,xt)}if(pe(Ke))return Jt(qe,Fe,Ke,xt);if(q(Ke)){if(In=q(Ke),typeof In!="function")throw Error(r(150));return Ke=In.call(Ke),Mn(qe,Fe,Ke,xt)}if(typeof Ke.then=="function")return ys(qe,Fe,qt(Ke),xt);if(Ke.$$typeof===Z)return ys(qe,Fe,vd(qe,Ke),xt);$t(qe,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,Fe!==null&&Fe.tag===6?(f(qe,Fe.sibling),xt=N(Fe,Ke),xt.return=qe,qe=xt):(f(qe,Fe),xt=yh(Ke,qe.mode,xt),xt.return=qe,qe=xt),K(qe)):f(qe,Fe)}return function(qe,Fe,Ke,xt){try{nn=0;var In=ys(qe,Fe,Ke,xt);return At=null,In}catch(mn){if(mn===je||mn===Ne)throw mn;var Hr=wi(29,mn,null,qe.mode);return Hr.lanes=xt,Hr.return=qe,Hr}}}var ws=mr(!0),Zn=mr(!1),Gt=!1;function Pt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ln(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function sr(a,l,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,($r&2)!==0){var N=v.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),v.pending=l,l=bi(a),mh(a,null,f),l}return gh(a,v,l,f),bi(a)}function Qr(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var v=l.lanes;v&=a.pendingLanes,f|=v,l.lanes=f,Ss(a,f)}}function Oa(a,l){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var N=null,O=null;if(f=f.firstBaseUpdate,f!==null){do{var K={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};O===null?N=O=K:O=O.next=K,f=f.next}while(f!==null);O===null?N=O=l:O=O.next=l}else N=O=l;f={baseState:v.baseState,firstBaseUpdate:N,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var ci=!1;function gs(){if(ci){var a=T;if(a!==null)throw a}}function pa(a,l,f,v){ci=!1;var N=a.updateQueue;Gt=!1;var O=N.firstBaseUpdate,K=N.lastBaseUpdate,ue=N.shared.pending;if(ue!==null){N.shared.pending=null;var Le=ue,$e=Le.next;Le.next=null,K===null?O=$e:K.next=$e,K=Le;var pt=a.alternate;pt!==null&&(pt=pt.updateQueue,ue=pt.lastBaseUpdate,ue!==K&&(ue===null?pt.firstBaseUpdate=$e:ue.next=$e,pt.lastBaseUpdate=Le))}if(O!==null){var wt=N.baseState;K=0,pt=$e=Le=null,ue=O;do{var nt=ue.lane&-536870913,st=nt!==ue.lane;if(st?(Cr&nt)===nt:(v&nt)===nt){nt!==0&&nt===E&&(ci=!0),pt!==null&&(pt=pt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Jt=a,Mn=ue;nt=l;var ys=f;switch(Mn.tag){case 1:if(Jt=Mn.payload,typeof Jt=="function"){wt=Jt.call(ys,wt,nt);break e}wt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=Mn.payload,nt=typeof Jt=="function"?Jt.call(ys,wt,nt):Jt,nt==null)break e;wt=_({},wt,nt);break e;case 2:Gt=!0}}nt=ue.callback,nt!==null&&(a.flags|=64,st&&(a.flags|=8192),st=N.callbacks,st===null?N.callbacks=[nt]:st.push(nt))}else st={lane:nt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},pt===null?($e=pt=st,Le=wt):pt=pt.next=st,K|=nt;if(ue=ue.next,ue===null){if(ue=N.shared.pending,ue===null)break;st=ue,ue=st.next,st.next=null,N.lastBaseUpdate=st,N.shared.pending=null}}while(!0);pt===null&&(Le=wt),N.baseState=Le,N.firstBaseUpdate=$e,N.lastBaseUpdate=pt,O===null&&(N.shared.lanes=0),Au|=K,a.lanes=K,a.memoizedState=wt}}function _i(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function ga(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)_i(f[a],l)}var cr=me(null),Mr=me(0);function Ls(a,l){a=jc,le(Mr,a),le(cr,l),jc=a|l.baseLanes}function zr(){le(Mr,jc),le(cr,cr.current)}function Da(){jc=Mr.current,$(cr),$(Mr)}var ks=me(null),jr=null;function aa(a){var l=a.alternate;le(Pr,Pr.current&1),le(ks,a),jr===null&&(l===null||cr.current!==null||l.memoizedState!==null)&&(jr=a)}function Kr(a){le(Pr,Pr.current),le(ks,a),jr===null&&(jr=a)}function ma(a){a.tag===22?(le(Pr,Pr.current),le(ks,a),jr===null&&(jr=a)):xa()}function xa(){le(Pr,Pr.current),le(ks,ks.current)}function as(a){$(ks),jr===a&&(jr=null),$(Pr)}var Pr=me(0);function Ai(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||_x(f)||Ax(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ws=0,Sn=null,Tn=null,Fr=null,Yi=!1,Eo=!1,ki=!1,ya=0,Xl=0,Ql=null,wd=0;function ms(){throw Error(r(321))}function i1(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!w(a[f],l[f]))return!1;return!0}function o1(a,l,f,v,N,O){return Ws=O,Sn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ge.H=a===null||a.memoizedState===null?aw:P2,ki=!1,O=f(v,N),ki=!1,Eo&&(O=ml(l,f,v,N)),_d(a),O}function _d(a){ge.H=g1;var l=Tn!==null&&Tn.next!==null;if(Ws=0,Fr=Tn=Sn=null,Yi=!1,Xl=0,Ql=null,l)throw Error(r(300));a===null||Ka||(a=a.dependencies,a!==null&&yd(a)&&(Ka=!0))}function ml(a,l,f,v){Sn=a;var N=0;do{if(Eo&&(Ql=null),Xl=0,Eo=!1,25<=N)throw Error(r(301));if(N+=1,Fr=Tn=null,a.updateQueue!=null){var O=a.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}ge.H=iw,O=l(f,v)}while(Eo);return O}function S2(){var a=ge.H,l=a.useState()[0];return l=typeof l.then=="function"?Kl(l):l,a=a.useState()[0],(Tn!==null?Tn.memoizedState:null)!==a&&(Sn.flags|=1024),l}function l1(){var a=ya!==0;return ya=0,a}function c1(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function Ad(a){if(Yi){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Yi=!1}Ws=0,Fr=Tn=Sn=null,Eo=!1,Xl=ya=0,Ql=null}function Qa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Sn.memoizedState=Fr=a:Fr=Fr.next=a,Fr}function Ys(){if(Tn===null){var a=Sn.alternate;a=a!==null?a.memoizedState:null}else a=Tn.next;var l=Fr===null?Sn.memoizedState:Fr.next;if(l!==null)Fr=l,Tn=a;else{if(a===null)throw Sn.alternate===null?Error(r(467)):Error(r(310));Tn=a,a={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Fr===null?Sn.memoizedState=Fr=a:Fr=Fr.next=a}return Fr}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(a){var l=Xl;return Xl+=1,Ql===null&&(Ql=[]),a=ct(Ql,a,l),l=Sn,(Fr===null?l.memoizedState:Fr.next)===null&&(l=l.alternate,ge.H=l===null||l.memoizedState===null?aw:P2),a}function xu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Kl(a);if(a.$$typeof===Z)return li(a)}throw Error(r(438,String(a)))}function Tc(a){var l=null,f=Sn.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var v=Sn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(N){return N.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=_h(),Sn.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),v=0;v<a;v++)f[v]=te;return l.index++,f}function el(a,l){return typeof l=="function"?l(a):l}function Ed(a){var l=Ys();return yu(l,Tn,a)}function yu(a,l,f){var v=a.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=f;var N=a.baseQueue,O=v.pending;if(O!==null){if(N!==null){var K=N.next;N.next=O.next,O.next=K}l.baseQueue=N=O,v.pending=null}if(O=a.baseState,N===null)a.memoizedState=O;else{l=N.next;var ue=K=null,Le=null,$e=l,pt=!1;do{var wt=$e.lane&-536870913;if(wt!==$e.lane?(Cr&wt)===wt:(Ws&wt)===wt){var nt=$e.revertLane;if(nt===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),wt===E&&(pt=!0);else if((Ws&nt)===nt){$e=$e.next,nt===E&&(pt=!0);continue}else wt={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Le===null?(ue=Le=wt,K=O):Le=Le.next=wt,Sn.lanes|=nt,Au|=nt;wt=$e.action,ki&&f(O,wt),O=$e.hasEagerState?$e.eagerState:f(O,wt)}else nt={lane:wt,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Le===null?(ue=Le=nt,K=O):Le=Le.next=nt,Sn.lanes|=wt,Au|=wt;$e=$e.next}while($e!==null&&$e!==l);if(Le===null?K=O:Le.next=ue,!w(O,a.memoizedState)&&(Ka=!0,pt&&(f=T,f!==null)))throw f;a.memoizedState=O,a.baseState=K,a.baseQueue=Le,v.lastRenderedState=O}return N===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function Cd(a){var l=Ys(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var v=f.dispatch,N=f.pending,O=l.memoizedState;if(N!==null){f.pending=null;var K=N=N.next;do O=a(O,K.action),K=K.next;while(K!==N);w(O,l.memoizedState)||(Ka=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),f.lastRenderedState=O}return[O,v]}function Sd(a,l,f){var v=Sn,N=Ys(),O=xr;if(O){if(f===void 0)throw Error(r(407));f=f()}else f=l();var K=!w((Tn||N).memoizedState,f);if(K&&(N.memoizedState=f,Ka=!0),N=N.queue,N2(h1.bind(null,v,N,a),[a]),N.getSnapshot!==l||K||Fr!==null&&Fr.memoizedState.tag&1){if(v.flags|=2048,Rc(9,{destroy:void 0},u1.bind(null,v,N,f,l),null),_s===null)throw Error(r(349));O||(Ws&127)!==0||xl(v,l,f)}return f}function xl(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Sn.updateQueue,l===null?(l=_h(),Sn.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function u1(a,l,f,v){l.value=f,l.getSnapshot=v,Q0(l)&&d1(a)}function h1(a,l,f){return f(function(){Q0(l)&&d1(a)})}function Q0(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!w(a,f)}catch{return!0}}function d1(a){var l=pl(a,2);l!==null&&Io(l,a,2)}function $l(a){var l=Qa();if(typeof a=="function"){var f=a;if(a=f(),ki){Vt(!0);try{f()}finally{Vt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:a},l}function K0(a,l,f,v){return a.baseState=f,yu(a,Tn,typeof v=="function"?v:el)}function $0(a,l,f,v,N){if(tp(a))throw Error(r(485));if(a=l.action,a!==null){var O={payload:N,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){O.listeners.push(K)}};ge.T!==null?f(!0):O.isTransition=!1,v(O),f=l.pending,f===null?(O.next=l.pending=O,J0(l,O)):(O.next=f.next,l.pending=f.next=O)}}function J0(a,l){var f=l.action,v=l.payload,N=a.state;if(l.isTransition){var O=ge.T,K={};ge.T=K;try{var ue=f(N,v),Le=ge.S;Le!==null&&Le(K,ue),f1(a,l,ue)}catch($e){Ic(a,l,$e)}finally{O!==null&&K.types!==null&&(O.types=K.types),ge.T=O}}else try{O=f(N,v),f1(a,l,O)}catch($e){Ic(a,l,$e)}}function f1(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){Z0(a,l,v)},function(v){return Ic(a,l,v)}):Z0(a,l,f)}function Z0(a,l,f){l.status="fulfilled",l.value=f,Nd(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,J0(a,f)))}function Ic(a,l,f){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=f,Nd(l),l=l.next;while(l!==v)}a.action=null}function Nd(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Ah(a,l){return l}function tl(a,l){if(xr){var f=_s.formState;if(f!==null){e:{var v=Sn;if(xr){if(bs){t:{for(var N=bs,O=Gs;N.nodeType!==8;){if(!O){N=null;break t}if(N=nl(N.nextSibling),N===null){N=null;break t}}O=N.data,N=O==="F!"||O==="F"?N:null}if(N){bs=nl(N.nextSibling),v=N.data==="F!";break e}}Hl(v)}v=!1}v&&(l=f[0])}}return f=Qa(),f.memoizedState=f.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:l},f.queue=v,f=nw.bind(null,Sn,v),v.dispatch=f,v=$l(!1),O=D2.bind(null,Sn,!1,v.queue),v=Qa(),N={state:l,dispatch:null,action:a,pending:null},v.queue=N,f=$0.bind(null,Sn,N,O,f),N.dispatch=f,v.memoizedState=a,[l,f,!1]}function yl(a){var l=Ys();return vl(l,Tn,a)}function vl(a,l,f){if(l=yu(a,l,Ah)[0],a=Ed(el)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Kl(l)}catch(K){throw K===je?Ne:K}else v=l;l=Ys();var N=l.queue,O=N.dispatch;return f!==l.memoizedState&&(Sn.flags|=2048,Rc(9,{destroy:void 0},Td.bind(null,N,f),null)),[v,O,a]}function Td(a,l){a.action=l}function Id(a){var l=Ys(),f=Tn;if(f!==null)return vl(l,f,a);Ys(),l=l.memoizedState,f=Ys();var v=f.queue.dispatch;return f.memoizedState=a,[l,v,!1]}function Rc(a,l,f,v){return a={tag:a,create:f,deps:v,inst:l,next:null},l=Sn.updateQueue,l===null&&(l=_h(),Sn.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,l.lastEffect=a),a}function ep(){return Ys().memoizedState}function vu(a,l,f,v){var N=Qa();Sn.flags|=a,N.memoizedState=Rc(1|l,{destroy:void 0},f,v===void 0?null:v)}function bu(a,l,f,v){var N=Ys();v=v===void 0?null:v;var O=N.memoizedState.inst;Tn!==null&&v!==null&&i1(v,Tn.memoizedState.deps)?N.memoizedState=Rc(l,O,f,v):(Sn.flags|=a,N.memoizedState=Rc(1|l,O,f,v))}function zb(a,l){vu(8390656,8,a,l)}function N2(a,l){bu(2048,8,a,l)}function ZI(a){Sn.flags|=4;var l=Sn.updateQueue;if(l===null)l=_h(),Sn.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function Hb(a){var l=Ys().memoizedState;return ZI({ref:l,nextImpl:a}),function(){if(($r&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function qb(a,l){return bu(4,2,a,l)}function Gb(a,l){return bu(4,4,a,l)}function Wb(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Yb(a,l,f){f=f!=null?f.concat([a]):null,bu(4,4,Wb.bind(null,l,a),f)}function T2(){}function Xb(a,l){var f=Ys();l=l===void 0?null:l;var v=f.memoizedState;return l!==null&&i1(l,v[1])?v[0]:(f.memoizedState=[a,l],a)}function Qb(a,l){var f=Ys();l=l===void 0?null:l;var v=f.memoizedState;if(l!==null&&i1(l,v[1]))return v[0];if(v=a(),ki){Vt(!0);try{a()}finally{Vt(!1)}}return f.memoizedState=[v,l],v}function I2(a,l,f){return f===void 0||(Ws&1073741824)!==0&&(Cr&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=Kw(),Sn.lanes|=a,Au|=a,f)}function Kb(a,l,f,v){return w(f,l)?f:cr.current!==null?(a=I2(a,f,v),w(a,l)||(Ka=!0),a):(Ws&42)===0||(Ws&1073741824)!==0&&(Cr&261930)===0?(Ka=!0,a.memoizedState=f):(a=Kw(),Sn.lanes|=a,Au|=a,l)}function $b(a,l,f,v,N){var O=Se.p;Se.p=O!==0&&8>O?O:8;var K=ge.T,ue={};ge.T=ue,D2(a,!1,l,f);try{var Le=N(),$e=ge.S;if($e!==null&&$e(ue,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var pt=ae(Le,v);p1(a,l,pt,Uo(a))}else p1(a,l,v,Uo(a))}catch(wt){p1(a,l,{then:function(){},status:"rejected",reason:wt},Uo())}finally{Se.p=O,K!==null&&ue.types!==null&&(K.types=ue.types),ge.T=K}}function eR(){}function R2(a,l,f,v){if(a.tag!==5)throw Error(r(476));var N=Jb(a).queue;$b(a,N,l,ye,f===null?eR:function(){return Zb(a),f(v)})}function Jb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:ye},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Zb(a){var l=Jb(a);l.next===null&&(l=a.alternate.memoizedState),p1(a,l.next.queue,{},Uo())}function O2(){return li(O1)}function ew(){return Ys().memoizedState}function tw(){return Ys().memoizedState}function tR(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=Uo();a=Ln(f);var v=sr(l,a,f);v!==null&&(Io(v,l,f),Qr(v,l,f)),l={cache:mu()},a.payload=l;return}l=l.return}}function nR(a,l,f){var v=Uo();f={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},tp(a)?rw(l,f):(f=ud(a,l,f,v),f!==null&&(Io(f,a,v),sw(f,l,v)))}function nw(a,l,f){var v=Uo();p1(a,l,f,v)}function p1(a,l,f,v){var N={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(tp(a))rw(l,N);else{var O=a.alternate;if(a.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var K=l.lastRenderedState,ue=O(K,f);if(N.hasEagerState=!0,N.eagerState=ue,w(ue,K))return gh(a,l,N,0),_s===null&&ph(),!1}catch{}if(f=ud(a,l,N,v),f!==null)return Io(f,a,v),sw(f,l,v),!0}return!1}function D2(a,l,f,v){if(v={lane:2,revertLane:ux(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},tp(a)){if(l)throw Error(r(479))}else l=ud(a,f,v,2),l!==null&&Io(l,a,2)}function tp(a){var l=a.alternate;return a===Sn||l!==null&&l===Sn}function rw(a,l){Eo=Yi=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function sw(a,l,f){if((f&4194048)!==0){var v=l.lanes;v&=a.pendingLanes,f|=v,l.lanes=f,Ss(a,f)}}var g1={readContext:li,use:xu,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useLayoutEffect:ms,useInsertionEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useSyncExternalStore:ms,useId:ms,useHostTransitionStatus:ms,useFormState:ms,useActionState:ms,useOptimistic:ms,useMemoCache:ms,useCacheRefresh:ms};g1.useEffectEvent=ms;var aw={readContext:li,use:xu,useCallback:function(a,l){return Qa().memoizedState=[a,l===void 0?null:l],a},useContext:li,useEffect:zb,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,vu(4194308,4,Wb.bind(null,l,a),f)},useLayoutEffect:function(a,l){return vu(4194308,4,a,l)},useInsertionEffect:function(a,l){vu(4,2,a,l)},useMemo:function(a,l){var f=Qa();l=l===void 0?null:l;var v=a();if(ki){Vt(!0);try{a()}finally{Vt(!1)}}return f.memoizedState=[v,l],v},useReducer:function(a,l,f){var v=Qa();if(f!==void 0){var N=f(l);if(ki){Vt(!0);try{f(l)}finally{Vt(!1)}}}else N=l;return v.memoizedState=v.baseState=N,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:N},v.queue=a,a=a.dispatch=nR.bind(null,Sn,a),[v.memoizedState,a]},useRef:function(a){var l=Qa();return a={current:a},l.memoizedState=a},useState:function(a){a=$l(a);var l=a.queue,f=nw.bind(null,Sn,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:T2,useDeferredValue:function(a,l){var f=Qa();return I2(f,a,l)},useTransition:function(){var a=$l(!1);return a=$b.bind(null,Sn,a.queue,!0,!1),Qa().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var v=Sn,N=Qa();if(xr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),_s===null)throw Error(r(349));(Cr&127)!==0||xl(v,l,f)}N.memoizedState=f;var O={value:f,getSnapshot:l};return N.queue=O,zb(h1.bind(null,v,O,a),[a]),v.flags|=2048,Rc(9,{destroy:void 0},u1.bind(null,v,O,f,l),null),f},useId:function(){var a=Qa(),l=_s.identifierPrefix;if(xr){var f=_o,v=wo;f=(v&~(1<<32-Bt(v)-1)).toString(32)+f,l="_"+l+"R_"+f,f=ya++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=wd++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:O2,useFormState:tl,useActionState:tl,useOptimistic:function(a){var l=Qa();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=D2.bind(null,Sn,!0,f),f.dispatch=l,[a,l]},useMemoCache:Tc,useCacheRefresh:function(){return Qa().memoizedState=tR.bind(null,Sn)},useEffectEvent:function(a){var l=Qa(),f={impl:a};return l.memoizedState=f,function(){if(($r&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},P2={readContext:li,use:xu,useCallback:Xb,useContext:li,useEffect:N2,useImperativeHandle:Yb,useInsertionEffect:qb,useLayoutEffect:Gb,useMemo:Qb,useReducer:Ed,useRef:ep,useState:function(){return Ed(el)},useDebugValue:T2,useDeferredValue:function(a,l){var f=Ys();return Kb(f,Tn.memoizedState,a,l)},useTransition:function(){var a=Ed(el)[0],l=Ys().memoizedState;return[typeof a=="boolean"?a:Kl(a),l]},useSyncExternalStore:Sd,useId:ew,useHostTransitionStatus:O2,useFormState:yl,useActionState:yl,useOptimistic:function(a,l){var f=Ys();return K0(f,Tn,a,l)},useMemoCache:Tc,useCacheRefresh:tw};P2.useEffectEvent=Hb;var iw={readContext:li,use:xu,useCallback:Xb,useContext:li,useEffect:N2,useImperativeHandle:Yb,useInsertionEffect:qb,useLayoutEffect:Gb,useMemo:Qb,useReducer:Cd,useRef:ep,useState:function(){return Cd(el)},useDebugValue:T2,useDeferredValue:function(a,l){var f=Ys();return Tn===null?I2(f,a,l):Kb(f,Tn.memoizedState,a,l)},useTransition:function(){var a=Cd(el)[0],l=Ys().memoizedState;return[typeof a=="boolean"?a:Kl(a),l]},useSyncExternalStore:Sd,useId:ew,useHostTransitionStatus:O2,useFormState:Id,useActionState:Id,useOptimistic:function(a,l){var f=Ys();return Tn!==null?K0(f,Tn,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:tw};iw.useEffectEvent=Hb;function L2(a,l,f,v){l=a.memoizedState,f=f(v,l),f=f==null?l:_({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var k2={enqueueSetState:function(a,l,f){a=a._reactInternals;var v=Uo(),N=Ln(v);N.payload=l,f!=null&&(N.callback=f),l=sr(a,N,v),l!==null&&(Io(l,a,v),Qr(l,a,v))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var v=Uo(),N=Ln(v);N.tag=1,N.payload=l,f!=null&&(N.callback=f),l=sr(a,N,v),l!==null&&(Io(l,a,v),Qr(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Uo(),v=Ln(f);v.tag=2,l!=null&&(v.callback=l),l=sr(a,v,f),l!==null&&(Io(l,a,f),Qr(l,a,f))}};function ow(a,l,f,v,N,O,K){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,O,K):l.prototype&&l.prototype.isPureReactComponent?!C(f,v)||!C(N,O):!0}function lw(a,l,f,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,v),l.state!==a&&k2.enqueueReplaceState(l,l.state,null)}function Eh(a,l){var f=l;if("ref"in l){f={};for(var v in l)v!=="ref"&&(f[v]=l[v])}if(a=a.defaultProps){f===l&&(f=_({},f));for(var N in a)f[N]===void 0&&(f[N]=a[N])}return f}function cw(a){fh(a)}function uw(a){console.error(a)}function hw(a){fh(a)}function np(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function dw(a,l,f){try{var v=a.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function M2(a,l,f){return f=Ln(f),f.tag=3,f.payload={element:null},f.callback=function(){np(a,l)},f}function fw(a){return a=Ln(a),a.tag=3,a}function pw(a,l,f,v){var N=f.type.getDerivedStateFromError;if(typeof N=="function"){var O=v.value;a.payload=function(){return N(O)},a.callback=function(){dw(l,f,v)}}var K=f.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(a.callback=function(){dw(l,f,v),typeof N!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var ue=v.stack;this.componentDidCatch(v.value,{componentStack:ue!==null?ue:""})})}function rR(a,l,f,v,N){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=f.alternate,l!==null&&Wl(l,f,N,!0),f=ks.current,f!==null){switch(f.tag){case 31:case 13:return jr===null?pp():f.alternate===null&&va===0&&(va=3),f.flags&=-257,f.flags|=65536,f.lanes=N,v===Be?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([v]):l.add(v),ox(a,v,N)),!1;case 22:return f.flags|=65536,v===Be?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([v]):f.add(v)),ox(a,v,N)),!1}throw Error(r(435,f.tag))}return ox(a,v,N),pp(),!1}if(xr)return l=ks.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=N,v!==jo&&(a=Error(r(422),{cause:v}),pu(yo(a,f)))):(v!==jo&&(l=Error(r(423),{cause:v}),pu(yo(l,f))),a=a.current.alternate,a.flags|=65536,N&=-N,a.lanes|=N,v=yo(v,f),N=M2(a.stateNode,v,N),Oa(a,N),va!==4&&(va=2)),!1;var O=Error(r(520),{cause:v});if(O=yo(O,f),A1===null?A1=[O]:A1.push(O),va!==4&&(va=2),l===null)return!0;v=yo(v,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=N&-N,f.lanes|=a,a=M2(f.stateNode,v,a),Oa(f,a),!1;case 1:if(l=f.type,O=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Eu===null||!Eu.has(O))))return f.flags|=65536,N&=-N,f.lanes|=N,N=fw(N),pw(N,a,f,v),Oa(f,N),!1}f=f.return}while(f!==null);return!1}var j2=Error(r(461)),Ka=!1;function Mi(a,l,f,v){l.child=a===null?Zn(l,null,f,v):ws(l,a.child,f,v)}function gw(a,l,f,v,N){f=f.render;var O=l.ref;if("ref"in v){var K={};for(var ue in v)ue!=="ref"&&(K[ue]=v[ue])}else K=v;return Yl(l),v=o1(a,l,f,K,O,N),ue=l1(),a!==null&&!Ka?(c1(a,l,N),Oc(a,l,N)):(xr&&ue&&r1(l),l.flags|=1,Mi(a,l,v,N),l.child)}function mw(a,l,f,v,N){if(a===null){var O=f.type;return typeof O=="function"&&!dd(O)&&O.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=O,xw(a,l,O,v,N)):(a=hu(f.type,null,v,l,l.mode,N),a.ref=l.ref,a.return=l,l.child=a)}if(O=a.child,!G2(a,N)){var K=O.memoizedProps;if(f=f.compare,f=f!==null?f:C,f(K,v)&&a.ref===l.ref)return Oc(a,l,N)}return l.flags|=1,a=xo(O,v),a.ref=l.ref,a.return=l,l.child=a}function xw(a,l,f,v,N){if(a!==null){var O=a.memoizedProps;if(C(O,v)&&a.ref===l.ref)if(Ka=!1,l.pendingProps=v=O,G2(a,N))(a.flags&131072)!==0&&(Ka=!0);else return l.lanes=a.lanes,Oc(a,l,N)}return F2(a,l,f,v,N)}function yw(a,l,f,v){var N=v.children,O=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(O=O!==null?O.baseLanes|f:f,a!==null){for(v=l.child=a.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;v=N&~O}else v=0,l.child=null;return vw(a,l,O,f,v)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&xe(l,O!==null?O.cachePool:null),O!==null?Ls(l,O):zr(),ma(l);else return v=l.lanes=536870912,vw(a,l,O!==null?O.baseLanes|f:f,f,v)}else O!==null?(xe(l,O.cachePool),Ls(l,O),xa(),l.memoizedState=null):(a!==null&&xe(l,null),zr(),xa());return Mi(a,l,N,f),l.child}function m1(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function vw(a,l,f,v,N){var O=fe();return O=O===null?null:{parent:sa._currentValue,pool:O},l.memoizedState={baseLanes:f,cachePool:O},a!==null&&xe(l,null),zr(),ma(l),a!==null&&Wl(a,l,v,!0),l.childLanes=N,null}function rp(a,l){return l=ap({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function bw(a,l,f){return ws(l,a.child,null,f),a=rp(l,l.pendingProps),a.flags|=2,as(l),l.memoizedState=null,a}function sR(a,l,f){var v=l.pendingProps,N=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(xr){if(v.mode==="hidden")return a=rp(l,v),l.lanes=536870912,m1(null,a);if(Kr(l),(a=bs)?(a=D3(a,Gs),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:zl!==null?{id:wo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},f=fd(a),f.return=l,l.child=f,ii=l,bs=null)):a=null,a===null)throw Hl(l);return l.lanes=536870912,null}return rp(l,v)}var O=a.memoizedState;if(O!==null){var K=O.dehydrated;if(Kr(l),N)if(l.flags&256)l.flags&=-257,l=bw(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Ka||Wl(a,l,f,!1),N=(f&a.childLanes)!==0,Ka||N){if(v=_s,v!==null&&(K=oa(v,f),K!==0&&K!==O.retryLane))throw O.retryLane=K,pl(a,K),Io(v,a,K),j2;pp(),l=bw(a,l,f)}else a=O.treeContext,bs=nl(K.nextSibling),ii=l,xr=!0,Li=null,Gs=!1,a!==null&&Y0(l,a),l=rp(l,v),l.flags|=4096;return l}return a=xo(a.child,{mode:v.mode,children:v.children}),a.ref=l.ref,l.child=a,a.return=l,a}function sp(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function F2(a,l,f,v,N){return Yl(l),f=o1(a,l,f,v,void 0,N),v=l1(),a!==null&&!Ka?(c1(a,l,N),Oc(a,l,N)):(xr&&v&&r1(l),l.flags|=1,Mi(a,l,f,N),l.child)}function ww(a,l,f,v,N,O){return Yl(l),l.updateQueue=null,f=ml(l,v,f,N),_d(a),v=l1(),a!==null&&!Ka?(c1(a,l,O),Oc(a,l,O)):(xr&&v&&r1(l),l.flags|=1,Mi(a,l,f,O),l.child)}function _w(a,l,f,v,N){if(Yl(l),l.stateNode===null){var O=ai,K=f.contextType;typeof K=="object"&&K!==null&&(O=li(K)),O=new f(v,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=k2,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=v,O.state=l.memoizedState,O.refs={},Pt(l),K=f.contextType,O.context=typeof K=="object"&&K!==null?li(K):ai,O.state=l.memoizedState,K=f.getDerivedStateFromProps,typeof K=="function"&&(L2(l,f,K,v),O.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(K=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),K!==O.state&&k2.enqueueReplaceState(O,O.state,null),pa(l,v,O,N),gs(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(a===null){O=l.stateNode;var ue=l.memoizedProps,Le=Eh(f,ue);O.props=Le;var $e=O.context,pt=f.contextType;K=ai,typeof pt=="object"&&pt!==null&&(K=li(pt));var wt=f.getDerivedStateFromProps;pt=typeof wt=="function"||typeof O.getSnapshotBeforeUpdate=="function",ue=l.pendingProps!==ue,pt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ue||$e!==K)&&lw(l,O,v,K),Gt=!1;var nt=l.memoizedState;O.state=nt,pa(l,v,O,N),gs(),$e=l.memoizedState,ue||nt!==$e||Gt?(typeof wt=="function"&&(L2(l,f,wt,v),$e=l.memoizedState),(Le=Gt||ow(l,f,Le,v,nt,$e,K))?(pt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=$e),O.props=v,O.state=$e,O.context=K,v=Le):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{O=l.stateNode,Ps(a,l),K=l.memoizedProps,pt=Eh(f,K),O.props=pt,wt=l.pendingProps,nt=O.context,$e=f.contextType,Le=ai,typeof $e=="object"&&$e!==null&&(Le=li($e)),ue=f.getDerivedStateFromProps,($e=typeof ue=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==wt||nt!==Le)&&lw(l,O,v,Le),Gt=!1,nt=l.memoizedState,O.state=nt,pa(l,v,O,N),gs();var st=l.memoizedState;K!==wt||nt!==st||Gt||a!==null&&a.dependencies!==null&&yd(a.dependencies)?(typeof ue=="function"&&(L2(l,f,ue,v),st=l.memoizedState),(pt=Gt||ow(l,f,pt,v,nt,st,Le)||a!==null&&a.dependencies!==null&&yd(a.dependencies))?($e||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,st,Le),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,st,Le)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&nt===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&nt===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=st),O.props=v,O.state=st,O.context=Le,v=pt):(typeof O.componentDidUpdate!="function"||K===a.memoizedProps&&nt===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&nt===a.memoizedState||(l.flags|=1024),v=!1)}return O=v,sp(a,l),v=(l.flags&128)!==0,O||v?(O=l.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,a!==null&&v?(l.child=ws(l,a.child,null,N),l.child=ws(l,null,f,N)):Mi(a,l,f,N),l.memoizedState=O.state,a=l.child):a=Oc(a,l,N),a}function Aw(a,l,f,v){return Sc(),l.flags|=256,Mi(a,l,f,v),l.child}var B2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function U2(a){return{baseLanes:a,cachePool:Te()}}function V2(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Bo),a}function Ew(a,l,f){var v=l.pendingProps,N=!1,O=(l.flags&128)!==0,K;if((K=O)||(K=a!==null&&a.memoizedState===null?!1:(Pr.current&2)!==0),K&&(N=!0,l.flags&=-129),K=(l.flags&32)!==0,l.flags&=-33,a===null){if(xr){if(N?aa(l):xa(),(a=bs)?(a=D3(a,Gs),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:zl!==null?{id:wo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},f=fd(a),f.return=l,l.child=f,ii=l,bs=null)):a=null,a===null)throw Hl(l);return Ax(a)?l.lanes=32:l.lanes=536870912,null}var ue=v.children;return v=v.fallback,N?(xa(),N=l.mode,ue=ap({mode:"hidden",children:ue},N),v=Vl(v,N,f,null),ue.return=l,v.return=l,ue.sibling=v,l.child=ue,v=l.child,v.memoizedState=U2(f),v.childLanes=V2(a,K,f),l.memoizedState=B2,m1(null,v)):(aa(l),z2(l,ue))}var Le=a.memoizedState;if(Le!==null&&(ue=Le.dehydrated,ue!==null)){if(O)l.flags&256?(aa(l),l.flags&=-257,l=H2(a,l,f)):l.memoizedState!==null?(xa(),l.child=a.child,l.flags|=128,l=null):(xa(),ue=v.fallback,N=l.mode,v=ap({mode:"visible",children:v.children},N),ue=Vl(ue,N,f,null),ue.flags|=2,v.return=l,ue.return=l,v.sibling=ue,l.child=v,ws(l,a.child,null,f),v=l.child,v.memoizedState=U2(f),v.childLanes=V2(a,K,f),l.memoizedState=B2,l=m1(null,v));else if(aa(l),Ax(ue)){if(K=ue.nextSibling&&ue.nextSibling.dataset,K)var $e=K.dgst;K=$e,v=Error(r(419)),v.stack="",v.digest=K,pu({value:v,source:null,stack:null}),l=H2(a,l,f)}else if(Ka||Wl(a,l,f,!1),K=(f&a.childLanes)!==0,Ka||K){if(K=_s,K!==null&&(v=oa(K,f),v!==0&&v!==Le.retryLane))throw Le.retryLane=v,pl(a,v),Io(K,a,v),j2;_x(ue)||pp(),l=H2(a,l,f)}else _x(ue)?(l.flags|=192,l.child=a.child,l=null):(a=Le.treeContext,bs=nl(ue.nextSibling),ii=l,xr=!0,Li=null,Gs=!1,a!==null&&Y0(l,a),l=z2(l,v.children),l.flags|=4096);return l}return N?(xa(),ue=v.fallback,N=l.mode,Le=a.child,$e=Le.sibling,v=xo(Le,{mode:"hidden",children:v.children}),v.subtreeFlags=Le.subtreeFlags&65011712,$e!==null?ue=xo($e,ue):(ue=Vl(ue,N,f,null),ue.flags|=2),ue.return=l,v.return=l,v.sibling=ue,l.child=v,m1(null,v),v=l.child,ue=a.child.memoizedState,ue===null?ue=U2(f):(N=ue.cachePool,N!==null?(Le=sa._currentValue,N=N.parent!==Le?{parent:Le,pool:Le}:N):N=Te(),ue={baseLanes:ue.baseLanes|f,cachePool:N}),v.memoizedState=ue,v.childLanes=V2(a,K,f),l.memoizedState=B2,m1(a.child,v)):(aa(l),f=a.child,a=f.sibling,f=xo(f,{mode:"visible",children:v.children}),f.return=l,f.sibling=null,a!==null&&(K=l.deletions,K===null?(l.deletions=[a],l.flags|=16):K.push(a)),l.child=f,l.memoizedState=null,f)}function z2(a,l){return l=ap({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function ap(a,l){return a=wi(22,a,null,l),a.lanes=0,a}function H2(a,l,f){return ws(l,a.child,null,f),a=z2(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Cw(a,l,f){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),gu(a.return,l,f)}function q2(a,l,f,v,N,O){var K=a.memoizedState;K===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:N,treeForkCount:O}:(K.isBackwards=l,K.rendering=null,K.renderingStartTime=0,K.last=v,K.tail=f,K.tailMode=N,K.treeForkCount=O)}function Sw(a,l,f){var v=l.pendingProps,N=v.revealOrder,O=v.tail;v=v.children;var K=Pr.current,ue=(K&2)!==0;if(ue?(K=K&1|2,l.flags|=128):K&=1,le(Pr,K),Mi(a,l,v,f),v=xr?vh:0,!ue&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Cw(a,f,l);else if(a.tag===19)Cw(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(N){case"forwards":for(f=l.child,N=null;f!==null;)a=f.alternate,a!==null&&Ai(a)===null&&(N=f),f=f.sibling;f=N,f===null?(N=l.child,l.child=null):(N=f.sibling,f.sibling=null),q2(l,!1,N,f,O,v);break;case"backwards":case"unstable_legacy-backwards":for(f=null,N=l.child,l.child=null;N!==null;){if(a=N.alternate,a!==null&&Ai(a)===null){l.child=N;break}a=N.sibling,N.sibling=f,f=N,N=a}q2(l,!0,f,null,O,v);break;case"together":q2(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function Oc(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Au|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Wl(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=xo(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=xo(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function G2(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&yd(a)))}function aR(a,l,f){switch(l.tag){case 3:ze(l,l.stateNode.containerInfo),Gl(l,sa,a.memoizedState.cache),Sc();break;case 27:case 5:it(l);break;case 4:ze(l,l.stateNode.containerInfo);break;case 10:Gl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Kr(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(aa(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Ew(a,l,f):(aa(l),a=Oc(a,l,f),a!==null?a.sibling:null);aa(l);break;case 19:var N=(a.flags&128)!==0;if(v=(f&l.childLanes)!==0,v||(Wl(a,l,f,!1),v=(f&l.childLanes)!==0),N){if(v)return Sw(a,l,f);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),le(Pr,Pr.current),v)break;return null;case 22:return l.lanes=0,yw(a,l,f,l.pendingProps);case 24:Gl(l,sa,a.memoizedState.cache)}return Oc(a,l,f)}function Nw(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)Ka=!0;else{if(!G2(a,f)&&(l.flags&128)===0)return Ka=!1,aR(a,l,f);Ka=(a.flags&131072)!==0}else Ka=!1,xr&&(l.flags&1048576)!==0&&W0(l,vh,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(a=Xe(l.elementType),l.type=a,typeof a=="function")dd(a)?(v=Eh(a,v),l.tag=1,l=_w(null,l,a,v,f)):(l.tag=0,l=F2(null,l,a,v,f));else{if(a!=null){var N=a.$$typeof;if(N===ee){l.tag=11,l=gw(null,l,a,v,f);break e}else if(N===Y){l.tag=14,l=mw(null,l,a,v,f);break e}}throw l=be(a)||a,Error(r(306,l,""))}}return l;case 0:return F2(a,l,l.type,l.pendingProps,f);case 1:return v=l.type,N=Eh(v,l.pendingProps),_w(a,l,v,N,f);case 3:e:{if(ze(l,l.stateNode.containerInfo),a===null)throw Error(r(387));v=l.pendingProps;var O=l.memoizedState;N=O.element,Ps(a,l),pa(l,v,null,f);var K=l.memoizedState;if(v=K.cache,Gl(l,sa,v),v!==O.cache&&Nc(l,[sa],f,!0),gs(),v=K.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:K.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=Aw(a,l,v,f);break e}else if(v!==N){N=yo(Error(r(424)),l),pu(N),l=Aw(a,l,v,f);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,bs=nl(a.firstChild),ii=l,xr=!0,Li=null,Gs=!0,f=Zn(l,null,v,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Sc(),v===N){l=Oc(a,l,f);break e}Mi(a,l,v,f)}l=l.child}return l;case 26:return sp(a,l),a===null?(f=F3(l.type,null,l.pendingProps,null))?l.memoizedState=f:xr||(f=l.type,a=l.pendingProps,v=wp(Ae.current).createElement(f),v[wr]=l,v[Kn]=a,ji(v,f,a),rs(v),l.stateNode=v):l.memoizedState=F3(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return it(l),a===null&&xr&&(v=l.stateNode=k3(l.type,l.pendingProps,Ae.current),ii=l,Gs=!0,N=bs,Tu(l.type)?(Ex=N,bs=nl(v.firstChild)):bs=N),Mi(a,l,l.pendingProps.children,f),sp(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&xr&&((N=v=bs)&&(v=kR(v,l.type,l.pendingProps,Gs),v!==null?(l.stateNode=v,ii=l,bs=nl(v.firstChild),Gs=!1,N=!0):N=!1),N||Hl(l)),it(l),N=l.type,O=l.pendingProps,K=a!==null?a.memoizedProps:null,v=O.children,vx(N,O)?v=null:K!==null&&vx(N,K)&&(l.flags|=32),l.memoizedState!==null&&(N=o1(a,l,S2,null,null,f),O1._currentValue=N),sp(a,l),Mi(a,l,v,f),l.child;case 6:return a===null&&xr&&((a=f=bs)&&(f=MR(f,l.pendingProps,Gs),f!==null?(l.stateNode=f,ii=l,bs=null,a=!0):a=!1),a||Hl(l)),null;case 13:return Ew(a,l,f);case 4:return ze(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=ws(l,null,v,f):Mi(a,l,v,f),l.child;case 11:return gw(a,l,l.type,l.pendingProps,f);case 7:return Mi(a,l,l.pendingProps,f),l.child;case 8:return Mi(a,l,l.pendingProps.children,f),l.child;case 12:return Mi(a,l,l.pendingProps.children,f),l.child;case 10:return v=l.pendingProps,Gl(l,l.type,v.value),Mi(a,l,v.children,f),l.child;case 9:return N=l.type._context,v=l.pendingProps.children,Yl(l),N=li(N),v=v(N),l.flags|=1,Mi(a,l,v,f),l.child;case 14:return mw(a,l,l.type,l.pendingProps,f);case 15:return xw(a,l,l.type,l.pendingProps,f);case 19:return Sw(a,l,f);case 31:return sR(a,l,f);case 22:return yw(a,l,f,l.pendingProps);case 24:return Yl(l),v=li(sa),a===null?(N=fe(),N===null&&(N=_s,O=mu(),N.pooledCache=O,O.refCount++,O!==null&&(N.pooledCacheLanes|=f),N=O),l.memoizedState={parent:v,cache:N},Pt(l),Gl(l,sa,N)):((a.lanes&f)!==0&&(Ps(a,l),pa(l,null,null,f),gs()),N=a.memoizedState,O=l.memoizedState,N.parent!==v?(N={parent:v,cache:v},l.memoizedState=N,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=N),Gl(l,sa,v)):(v=O.cache,Gl(l,sa,v),v!==N.cache&&Nc(l,[sa],f,!0))),Mi(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Dc(a){a.flags|=4}function W2(a,l,f,v,N){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(N&335544128)===N)if(a.stateNode.complete)a.flags|=8192;else if(e3())a.flags|=8192;else throw lt=Be,Qe}else a.flags&=-16777217}function Tw(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!H3(l))if(e3())a.flags|=8192;else throw lt=Be,Qe}function ip(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Wr():536870912,a.lanes|=l,Pd|=l)}function x1(a,l){if(!xr)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Ms(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(l)for(var N=a.child;N!==null;)f|=N.lanes|N.childLanes,v|=N.subtreeFlags&65011712,v|=N.flags&65011712,N.return=a,N=N.sibling;else for(N=a.child;N!==null;)f|=N.lanes|N.childLanes,v|=N.subtreeFlags,v|=N.flags,N.return=a,N=N.sibling;return a.subtreeFlags|=v,a.childLanes=f,l}function iR(a,l,f){var v=l.pendingProps;switch(md(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ms(l),null;case 1:return Ms(l),null;case 3:return f=l.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Ao(sa),We(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(oi(l)?Dc(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,a1())),Ms(l),null;case 26:var N=l.type,O=l.memoizedState;return a===null?(Dc(l),O!==null?(Ms(l),Tw(l,O)):(Ms(l),W2(l,N,null,v,f))):O?O!==a.memoizedState?(Dc(l),Ms(l),Tw(l,O)):(Ms(l),l.flags&=-16777217):(a=a.memoizedProps,a!==v&&Dc(l),Ms(l),W2(l,N,a,v,f)),null;case 27:if(mt(l),f=Ae.current,N=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Dc(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Ms(l),null}a=he.current,oi(l)?s1(l):(a=k3(N,v,f),l.stateNode=a,Dc(l))}return Ms(l),null;case 5:if(mt(l),N=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==v&&Dc(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Ms(l),null}if(O=he.current,oi(l))s1(l);else{var K=wp(Ae.current);switch(O){case 1:O=K.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:O=K.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":O=K.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":O=K.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":O=K.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?K.createElement("select",{is:v.is}):K.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?K.createElement(N,{is:v.is}):K.createElement(N)}}O[wr]=l,O[Kn]=v;e:for(K=l.child;K!==null;){if(K.tag===5||K.tag===6)O.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===l)break e;for(;K.sibling===null;){if(K.return===null||K.return===l)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}l.stateNode=O;e:switch(ji(O,N,v),N){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Dc(l)}}return Ms(l),W2(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==v&&Dc(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(a=Ae.current,oi(l)){if(a=l.stateNode,f=l.memoizedProps,v=null,N=ii,N!==null)switch(N.tag){case 27:case 5:v=N.memoizedProps}a[wr]=l,a=!!(a.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||E3(a.nodeValue,f)),a||Hl(l,!0)}else a=wp(a).createTextNode(v),a[wr]=l,l.stateNode=a}return Ms(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(v=oi(l),f!==null){if(a===null){if(!v)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[wr]=l}else Sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ms(l),a=!1}else f=a1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(as(l),l):(as(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Ms(l),null;case 13:if(v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(N=oi(l),v!==null&&v.dehydrated!==null){if(a===null){if(!N)throw Error(r(318));if(N=l.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[wr]=l}else Sc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ms(l),N=!1}else N=a1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=N),N=!0;if(!N)return l.flags&256?(as(l),l):(as(l),null)}return as(l),(l.flags&128)!==0?(l.lanes=f,l):(f=v!==null,a=a!==null&&a.memoizedState!==null,f&&(v=l.child,N=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(N=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==N&&(v.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),ip(l,l.updateQueue),Ms(l),null);case 4:return We(),a===null&&px(l.stateNode.containerInfo),Ms(l),null;case 10:return Ao(l.type),Ms(l),null;case 19:if($(Pr),v=l.memoizedState,v===null)return Ms(l),null;if(N=(l.flags&128)!==0,O=v.rendering,O===null)if(N)x1(v,!1);else{if(va!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=Ai(a),O!==null){for(l.flags|=128,x1(v,!1),a=O.updateQueue,l.updateQueue=a,ip(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)xh(f,a),f=f.sibling;return le(Pr,Pr.current&1|2),xr&&ho(l,v.treeForkCount),l.child}a=a.sibling}v.tail!==null&&Cn()>hp&&(l.flags|=128,N=!0,x1(v,!1),l.lanes=4194304)}else{if(!N)if(a=Ai(O),a!==null){if(l.flags|=128,N=!0,a=a.updateQueue,l.updateQueue=a,ip(l,a),x1(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!xr)return Ms(l),null}else 2*Cn()-v.renderingStartTime>hp&&f!==536870912&&(l.flags|=128,N=!0,x1(v,!1),l.lanes=4194304);v.isBackwards?(O.sibling=l.child,l.child=O):(a=v.last,a!==null?a.sibling=O:l.child=O,v.last=O)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Cn(),a.sibling=null,f=Pr.current,le(Pr,N?f&1|2:f&1),xr&&ho(l,v.treeForkCount),a):(Ms(l),null);case 22:case 23:return as(l),Da(),v=l.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(f&536870912)!==0&&(l.flags&128)===0&&(Ms(l),l.subtreeFlags&6&&(l.flags|=8192)):Ms(l),f=l.updateQueue,f!==null&&ip(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==f&&(l.flags|=2048),a!==null&&$(ce),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Ao(sa),Ms(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function oR(a,l){switch(md(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ao(sa),We(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return mt(l),null;case 31:if(l.memoizedState!==null){if(as(l),l.alternate===null)throw Error(r(340));Sc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(as(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Sc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return $(Pr),null;case 4:return We(),null;case 10:return Ao(l.type),null;case 22:case 23:return as(l),Da(),a!==null&&$(ce),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ao(sa),null;case 25:return null;default:return null}}function Iw(a,l){switch(md(l),l.tag){case 3:Ao(sa),We();break;case 26:case 27:case 5:mt(l);break;case 4:We();break;case 31:l.memoizedState!==null&&as(l);break;case 13:as(l);break;case 19:$(Pr);break;case 10:Ao(l.type);break;case 22:case 23:as(l),Da(),a!==null&&$(ce);break;case 24:Ao(sa)}}function y1(a,l){try{var f=l.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var N=v.next;f=N;do{if((f.tag&a)===a){v=void 0;var O=f.create,K=f.inst;v=O(),K.destroy=v}f=f.next}while(f!==N)}}catch(ue){os(l,l.return,ue)}}function wu(a,l,f){try{var v=l.updateQueue,N=v!==null?v.lastEffect:null;if(N!==null){var O=N.next;v=O;do{if((v.tag&a)===a){var K=v.inst,ue=K.destroy;if(ue!==void 0){K.destroy=void 0,N=l;var Le=f,$e=ue;try{$e()}catch(pt){os(N,Le,pt)}}}v=v.next}while(v!==O)}}catch(pt){os(l,l.return,pt)}}function Rw(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{ga(l,f)}catch(v){os(a,a.return,v)}}}function Ow(a,l,f){f.props=Eh(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(v){os(a,l,v)}}function v1(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof f=="function"?a.refCleanup=f(v):f.current=v}}catch(N){os(a,l,N)}}function Jl(a,l){var f=a.ref,v=a.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(N){os(a,l,N)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(N){os(a,l,N)}else f.current=null}function Dw(a){var l=a.type,f=a.memoizedProps,v=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break e;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(N){os(a,a.return,N)}}function Y2(a,l,f){try{var v=a.stateNode;IR(v,a.type,f,l),v[Kn]=l}catch(N){os(a,a.return,N)}}function Pw(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Tu(a.type)||a.tag===4}function X2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Pw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Tu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Q2(a,l,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=za));else if(v!==4&&(v===27&&Tu(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(Q2(a,l,f),a=a.sibling;a!==null;)Q2(a,l,f),a=a.sibling}function op(a,l,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(v!==4&&(v===27&&Tu(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(op(a,l,f),a=a.sibling;a!==null;)op(a,l,f),a=a.sibling}function Lw(a){var l=a.stateNode,f=a.memoizedProps;try{for(var v=a.type,N=l.attributes;N.length;)l.removeAttributeNode(N[0]);ji(l,v,f),l[wr]=a,l[Kn]=f}catch(O){os(a,a.return,O)}}var Pc=!1,$a=!1,K2=!1,kw=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function lR(a,l){if(a=a.containerInfo,xx=Tp,a=se(a),ie(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var N=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{f.nodeType,O.nodeType}catch{f=null;break e}var K=0,ue=-1,Le=-1,$e=0,pt=0,wt=a,nt=null;t:for(;;){for(var st;wt!==f||N!==0&&wt.nodeType!==3||(ue=K+N),wt!==O||v!==0&&wt.nodeType!==3||(Le=K+v),wt.nodeType===3&&(K+=wt.nodeValue.length),(st=wt.firstChild)!==null;)nt=wt,wt=st;for(;;){if(wt===a)break t;if(nt===f&&++$e===N&&(ue=K),nt===O&&++pt===v&&(Le=K),(st=wt.nextSibling)!==null)break;wt=nt,nt=wt.parentNode}wt=st}f=ue===-1||Le===-1?null:{start:ue,end:Le}}else f=null}f=f||{start:0,end:0}}else f=null;for(yx={focusedElem:a,selectionRange:f},Tp=!1,Ei=l;Ei!==null;)if(l=Ei,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ei=a;else for(;Ei!==null;){switch(l=Ei,O=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)N=a[f],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&O!==null){a=void 0,f=l,N=O.memoizedProps,O=O.memoizedState,v=f.stateNode;try{var Jt=Eh(f.type,N);a=v.getSnapshotBeforeUpdate(Jt,O),v.__reactInternalSnapshotBeforeUpdate=a}catch(Mn){os(f,f.return,Mn)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)wx(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wx(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Ei=a;break}Ei=l.return}}function Mw(a,l,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:kc(a,f),v&4&&y1(5,f);break;case 1:if(kc(a,f),v&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(K){os(f,f.return,K)}else{var N=Eh(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(N,l,a.__reactInternalSnapshotBeforeUpdate)}catch(K){os(f,f.return,K)}}v&64&&Rw(f),v&512&&v1(f,f.return);break;case 3:if(kc(a,f),v&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{ga(a,l)}catch(K){os(f,f.return,K)}}break;case 27:l===null&&v&4&&Lw(f);case 26:case 5:kc(a,f),l===null&&v&4&&Dw(f),v&512&&v1(f,f.return);break;case 12:kc(a,f);break;case 31:kc(a,f),v&4&&Bw(a,f);break;case 13:kc(a,f),v&4&&Uw(a,f),v&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=xR.bind(null,f),jR(a,f))));break;case 22:if(v=f.memoizedState!==null||Pc,!v){l=l!==null&&l.memoizedState!==null||$a,N=Pc;var O=$a;Pc=v,($a=l)&&!O?Mc(a,f,(f.subtreeFlags&8772)!==0):kc(a,f),Pc=N,$a=O}break;case 30:break;default:kc(a,f)}}function jw(a){var l=a.alternate;l!==null&&(a.alternate=null,jw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Hs(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xs=null,Co=!1;function Lc(a,l,f){for(f=f.child;f!==null;)Fw(a,l,f),f=f.sibling}function Fw(a,l,f){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Kt,f)}catch{}switch(f.tag){case 26:$a||Jl(f,l),Lc(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:$a||Jl(f,l);var v=Xs,N=Co;Tu(f.type)&&(Xs=f.stateNode,Co=!1),Lc(a,l,f),T1(f.stateNode),Xs=v,Co=N;break;case 5:$a||Jl(f,l);case 6:if(v=Xs,N=Co,Xs=null,Lc(a,l,f),Xs=v,Co=N,Xs!==null)if(Co)try{(Xs.nodeType===9?Xs.body:Xs.nodeName==="HTML"?Xs.ownerDocument.body:Xs).removeChild(f.stateNode)}catch(O){os(f,l,O)}else try{Xs.removeChild(f.stateNode)}catch(O){os(f,l,O)}break;case 18:Xs!==null&&(Co?(a=Xs,R3(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Vd(a)):R3(Xs,f.stateNode));break;case 4:v=Xs,N=Co,Xs=f.stateNode.containerInfo,Co=!0,Lc(a,l,f),Xs=v,Co=N;break;case 0:case 11:case 14:case 15:wu(2,f,l),$a||wu(4,f,l),Lc(a,l,f);break;case 1:$a||(Jl(f,l),v=f.stateNode,typeof v.componentWillUnmount=="function"&&Ow(f,l,v)),Lc(a,l,f);break;case 21:Lc(a,l,f);break;case 22:$a=(v=$a)||f.memoizedState!==null,Lc(a,l,f),$a=v;break;default:Lc(a,l,f)}}function Bw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Vd(a)}catch(f){os(l,l.return,f)}}}function Uw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Vd(a)}catch(f){os(l,l.return,f)}}function cR(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new kw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new kw),l;default:throw Error(r(435,a.tag))}}function lp(a,l){var f=cR(a);l.forEach(function(v){if(!f.has(v)){f.add(v);var N=yR.bind(null,a,v);v.then(N,N)}})}function So(a,l){var f=l.deletions;if(f!==null)for(var v=0;v<f.length;v++){var N=f[v],O=a,K=l,ue=K;e:for(;ue!==null;){switch(ue.tag){case 27:if(Tu(ue.type)){Xs=ue.stateNode,Co=!1;break e}break;case 5:Xs=ue.stateNode,Co=!1;break e;case 3:case 4:Xs=ue.stateNode.containerInfo,Co=!0;break e}ue=ue.return}if(Xs===null)throw Error(r(160));Fw(O,K,N),Xs=null,Co=!1,O=N.alternate,O!==null&&(O.return=null),N.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Vw(l,a),l=l.sibling}var bl=null;function Vw(a,l){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:So(l,a),No(a),v&4&&(wu(3,a,a.return),y1(3,a),wu(5,a,a.return));break;case 1:So(l,a),No(a),v&512&&($a||f===null||Jl(f,f.return)),v&64&&Pc&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var N=bl;if(So(l,a),No(a),v&512&&($a||f===null||Jl(f,f.return)),v&4){var O=f!==null?f.memoizedState:null;if(v=a.memoizedState,f===null)if(v===null)if(a.stateNode===null){e:{v=a.type,f=a.memoizedProps,N=N.ownerDocument||N;t:switch(v){case"title":O=N.getElementsByTagName("title")[0],(!O||O[Ba]||O[wr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=N.createElement(v),N.head.insertBefore(O,N.querySelector("head > title"))),ji(O,v,f),O[wr]=a,rs(O),v=O;break e;case"link":var K=V3("link","href",N).get(v+(f.href||""));if(K){for(var ue=0;ue<K.length;ue++)if(O=K[ue],O.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&O.getAttribute("rel")===(f.rel==null?null:f.rel)&&O.getAttribute("title")===(f.title==null?null:f.title)&&O.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){K.splice(ue,1);break t}}O=N.createElement(v),ji(O,v,f),N.head.appendChild(O);break;case"meta":if(K=V3("meta","content",N).get(v+(f.content||""))){for(ue=0;ue<K.length;ue++)if(O=K[ue],O.getAttribute("content")===(f.content==null?null:""+f.content)&&O.getAttribute("name")===(f.name==null?null:f.name)&&O.getAttribute("property")===(f.property==null?null:f.property)&&O.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&O.getAttribute("charset")===(f.charSet==null?null:f.charSet)){K.splice(ue,1);break t}}O=N.createElement(v),ji(O,v,f),N.head.appendChild(O);break;default:throw Error(r(468,v))}O[wr]=a,rs(O),v=O}a.stateNode=v}else z3(N,a.type,a.stateNode);else a.stateNode=U3(N,v,a.memoizedProps);else O!==v?(O===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):O.count--,v===null?z3(N,a.type,a.stateNode):U3(N,v,a.memoizedProps)):v===null&&a.stateNode!==null&&Y2(a,a.memoizedProps,f.memoizedProps)}break;case 27:So(l,a),No(a),v&512&&($a||f===null||Jl(f,f.return)),f!==null&&v&4&&Y2(a,a.memoizedProps,f.memoizedProps);break;case 5:if(So(l,a),No(a),v&512&&($a||f===null||Jl(f,f.return)),a.flags&32){N=a.stateNode;try{ea(N,"")}catch(Jt){os(a,a.return,Jt)}}v&4&&a.stateNode!=null&&(N=a.memoizedProps,Y2(a,N,f!==null?f.memoizedProps:N)),v&1024&&(K2=!0);break;case 6:if(So(l,a),No(a),v&4){if(a.stateNode===null)throw Error(r(162));v=a.memoizedProps,f=a.stateNode;try{f.nodeValue=v}catch(Jt){os(a,a.return,Jt)}}break;case 3:if(Ep=null,N=bl,bl=_p(l.containerInfo),So(l,a),bl=N,No(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Vd(l.containerInfo)}catch(Jt){os(a,a.return,Jt)}K2&&(K2=!1,zw(a));break;case 4:v=bl,bl=_p(a.stateNode.containerInfo),So(l,a),No(a),bl=v;break;case 12:So(l,a),No(a);break;case 31:So(l,a),No(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,lp(a,v)));break;case 13:So(l,a),No(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(up=Cn()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,lp(a,v)));break;case 22:N=a.memoizedState!==null;var Le=f!==null&&f.memoizedState!==null,$e=Pc,pt=$a;if(Pc=$e||N,$a=pt||Le,So(l,a),$a=pt,Pc=$e,No(a),v&8192)e:for(l=a.stateNode,l._visibility=N?l._visibility&-2:l._visibility|1,N&&(f===null||Le||Pc||$a||Ch(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){Le=f=l;try{if(O=Le.stateNode,N)K=O.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ue=Le.stateNode;var wt=Le.memoizedProps.style,nt=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;ue.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(Jt){os(Le,Le.return,Jt)}}}else if(l.tag===6){if(f===null){Le=l;try{Le.stateNode.nodeValue=N?"":Le.memoizedProps}catch(Jt){os(Le,Le.return,Jt)}}}else if(l.tag===18){if(f===null){Le=l;try{var st=Le.stateNode;N?O3(st,!0):O3(Le.stateNode,!1)}catch(Jt){os(Le,Le.return,Jt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=a.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,lp(a,f))));break;case 19:So(l,a),No(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,lp(a,v)));break;case 30:break;case 21:break;default:So(l,a),No(a)}}function No(a){var l=a.flags;if(l&2){try{for(var f,v=a.return;v!==null;){if(Pw(v)){f=v;break}v=v.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var N=f.stateNode,O=X2(a);op(a,O,N);break;case 5:var K=f.stateNode;f.flags&32&&(ea(K,""),f.flags&=-33);var ue=X2(a);op(a,ue,K);break;case 3:case 4:var Le=f.stateNode.containerInfo,$e=X2(a);Q2(a,$e,Le);break;default:throw Error(r(161))}}catch(pt){os(a,a.return,pt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function zw(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;zw(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function kc(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Mw(a,l.alternate,l),l=l.sibling}function Ch(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:wu(4,l,l.return),Ch(l);break;case 1:Jl(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Ow(l,l.return,f),Ch(l);break;case 27:T1(l.stateNode);case 26:case 5:Jl(l,l.return),Ch(l);break;case 22:l.memoizedState===null&&Ch(l);break;case 30:Ch(l);break;default:Ch(l)}a=a.sibling}}function Mc(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,N=a,O=l,K=O.flags;switch(O.tag){case 0:case 11:case 15:Mc(N,O,f),y1(4,O);break;case 1:if(Mc(N,O,f),v=O,N=v.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch($e){os(v,v.return,$e)}if(v=O,N=v.updateQueue,N!==null){var ue=v.stateNode;try{var Le=N.shared.hiddenCallbacks;if(Le!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Le.length;N++)_i(Le[N],ue)}catch($e){os(v,v.return,$e)}}f&&K&64&&Rw(O),v1(O,O.return);break;case 27:Lw(O);case 26:case 5:Mc(N,O,f),f&&v===null&&K&4&&Dw(O),v1(O,O.return);break;case 12:Mc(N,O,f);break;case 31:Mc(N,O,f),f&&K&4&&Bw(N,O);break;case 13:Mc(N,O,f),f&&K&4&&Uw(N,O);break;case 22:O.memoizedState===null&&Mc(N,O,f),v1(O,O.return);break;case 30:break;default:Mc(N,O,f)}l=l.sibling}}function $2(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&bh(f))}function J2(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bh(a))}function wl(a,l,f,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Hw(a,l,f,v),l=l.sibling}function Hw(a,l,f,v){var N=l.flags;switch(l.tag){case 0:case 11:case 15:wl(a,l,f,v),N&2048&&y1(9,l);break;case 1:wl(a,l,f,v);break;case 3:wl(a,l,f,v),N&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bh(a)));break;case 12:if(N&2048){wl(a,l,f,v),a=l.stateNode;try{var O=l.memoizedProps,K=O.id,ue=O.onPostCommit;typeof ue=="function"&&ue(K,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Le){os(l,l.return,Le)}}else wl(a,l,f,v);break;case 31:wl(a,l,f,v);break;case 13:wl(a,l,f,v);break;case 23:break;case 22:O=l.stateNode,K=l.alternate,l.memoizedState!==null?O._visibility&2?wl(a,l,f,v):b1(a,l):O._visibility&2?wl(a,l,f,v):(O._visibility|=2,Rd(a,l,f,v,(l.subtreeFlags&10256)!==0||!1)),N&2048&&$2(K,l);break;case 24:wl(a,l,f,v),N&2048&&J2(l.alternate,l);break;default:wl(a,l,f,v)}}function Rd(a,l,f,v,N){for(N=N&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var O=a,K=l,ue=f,Le=v,$e=K.flags;switch(K.tag){case 0:case 11:case 15:Rd(O,K,ue,Le,N),y1(8,K);break;case 23:break;case 22:var pt=K.stateNode;K.memoizedState!==null?pt._visibility&2?Rd(O,K,ue,Le,N):b1(O,K):(pt._visibility|=2,Rd(O,K,ue,Le,N)),N&&$e&2048&&$2(K.alternate,K);break;case 24:Rd(O,K,ue,Le,N),N&&$e&2048&&J2(K.alternate,K);break;default:Rd(O,K,ue,Le,N)}l=l.sibling}}function b1(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,v=l,N=v.flags;switch(v.tag){case 22:b1(f,v),N&2048&&$2(v.alternate,v);break;case 24:b1(f,v),N&2048&&J2(v.alternate,v);break;default:b1(f,v)}l=l.sibling}}var w1=8192;function Od(a,l,f){if(a.subtreeFlags&w1)for(a=a.child;a!==null;)qw(a,l,f),a=a.sibling}function qw(a,l,f){switch(a.tag){case 26:Od(a,l,f),a.flags&w1&&a.memoizedState!==null&&QR(f,bl,a.memoizedState,a.memoizedProps);break;case 5:Od(a,l,f);break;case 3:case 4:var v=bl;bl=_p(a.stateNode.containerInfo),Od(a,l,f),bl=v;break;case 22:a.memoizedState===null&&(v=a.alternate,v!==null&&v.memoizedState!==null?(v=w1,w1=16777216,Od(a,l,f),w1=v):Od(a,l,f));break;default:Od(a,l,f)}}function Gw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function _1(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var v=l[f];Ei=v,Yw(v,a)}Gw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ww(a),a=a.sibling}function Ww(a){switch(a.tag){case 0:case 11:case 15:_1(a),a.flags&2048&&wu(9,a,a.return);break;case 3:_1(a);break;case 12:_1(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,cp(a)):_1(a);break;default:_1(a)}}function cp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var v=l[f];Ei=v,Yw(v,a)}Gw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:wu(8,l,l.return),cp(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,cp(l));break;default:cp(l)}a=a.sibling}}function Yw(a,l){for(;Ei!==null;){var f=Ei;switch(f.tag){case 0:case 11:case 15:wu(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:bh(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,Ei=v;else e:for(f=a;Ei!==null;){v=Ei;var N=v.sibling,O=v.return;if(jw(v),v===f){Ei=null;break e}if(N!==null){N.return=O,Ei=N;break e}Ei=O}}}var uR={getCacheForType:function(a){var l=li(sa),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return li(sa).controller.signal}},hR=typeof WeakMap=="function"?WeakMap:Map,$r=0,_s=null,yr=null,Cr=0,is=0,Fo=null,_u=!1,Dd=!1,Z2=!1,jc=0,va=0,Au=0,Sh=0,ex=0,Bo=0,Pd=0,A1=null,To=null,tx=!1,up=0,Xw=0,hp=1/0,dp=null,Eu=null,ui=0,Cu=null,Ld=null,Fc=0,nx=0,rx=null,Qw=null,E1=0,sx=null;function Uo(){return($r&2)!==0&&Cr!==0?Cr&-Cr:ge.T!==null?ux():Rr()}function Kw(){if(Bo===0)if((Cr&536870912)===0||xr){var a=en;en<<=1,(en&3932160)===0&&(en=262144),Bo=a}else Bo=536870912;return a=ks.current,a!==null&&(a.flags|=32),Bo}function Io(a,l,f){(a===_s&&(is===2||is===9)||a.cancelPendingCommit!==null)&&(kd(a,0),Su(a,Cr,Bo,!1)),on(a,f),(($r&2)===0||a!==_s)&&(a===_s&&(($r&2)===0&&(Sh|=f),va===4&&Su(a,Cr,Bo,!1)),Zl(a))}function $w(a,l,f){if(($r&6)!==0)throw Error(r(327));var v=!f&&(l&127)===0&&(l&a.expiredLanes)===0||Gr(a,l),N=v?pR(a,l):ix(a,l,!0),O=v;do{if(N===0){Dd&&!v&&Su(a,l,0,!1);break}else{if(f=a.current.alternate,O&&!dR(f)){N=ix(a,l,!1),O=!1;continue}if(N===2){if(O=l,a.errorRecoveryDisabledLanes&O)var K=0;else K=a.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){l=K;e:{var ue=a;N=A1;var Le=ue.current.memoizedState.isDehydrated;if(Le&&(kd(ue,K).flags|=256),K=ix(ue,K,!1),K!==2){if(Z2&&!Le){ue.errorRecoveryDisabledLanes|=O,Sh|=O,N=4;break e}O=To,To=N,O!==null&&(To===null?To=O:To.push.apply(To,O))}N=K}if(O=!1,N!==2)continue}}if(N===1){kd(a,0),Su(a,l,0,!0);break}e:{switch(v=a,O=N,O){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Su(v,l,Bo,!_u);break e;case 2:To=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(N=up+300-Cn(),10<N)){if(Su(v,l,Bo,!_u),Qn(v,0,!0)!==0)break e;Fc=l,v.timeoutHandle=T3(Jw.bind(null,v,f,To,dp,tx,l,Bo,Sh,Pd,_u,O,"Throttled",-0,0),N);break e}Jw(v,f,To,dp,tx,l,Bo,Sh,Pd,_u,O,null,-0,0)}}break}while(!0);Zl(a)}function Jw(a,l,f,v,N,O,K,ue,Le,$e,pt,wt,nt,st){if(a.timeoutHandle=-1,wt=l.subtreeFlags,wt&8192||(wt&16785408)===16785408){wt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},qw(l,O,wt);var Jt=(O&62914560)===O?up-Cn():(O&4194048)===O?Xw-Cn():0;if(Jt=KR(wt,Jt),Jt!==null){Fc=O,a.cancelPendingCommit=Jt(i3.bind(null,a,l,O,f,v,N,K,ue,Le,pt,wt,null,nt,st)),Su(a,O,K,!$e);return}}i3(a,l,O,f,v,N,K,ue,Le)}function dR(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var N=f[v],O=N.getSnapshot;N=N.value;try{if(!w(O(),N))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Su(a,l,f,v){l&=~ex,l&=~Sh,a.suspendedLanes|=l,a.pingedLanes&=~l,v&&(a.warmLanes|=l),v=a.expirationTimes;for(var N=l;0<N;){var O=31-Bt(N),K=1<<O;v[O]=-1,N&=~K}f!==0&&ti(a,f,l)}function fp(){return($r&6)===0?(C1(0),!1):!0}function ax(){if(yr!==null){if(is===0)var a=yr.return;else a=yr,Zo=ql=null,Ad(a),At=null,nn=0,a=yr;for(;a!==null;)Iw(a.alternate,a),a=a.return;yr=null}}function kd(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,DR(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Fc=0,ax(),_s=a,yr=f=xo(a.current,null),Cr=l,is=0,Fo=null,_u=!1,Dd=Gr(a,l),Z2=!1,Pd=Bo=ex=Sh=Au=va=0,To=A1=null,tx=!1,(l&8)!==0&&(l|=l&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=l;0<v;){var N=31-Bt(v),O=1<<N;l|=a[N],v&=~O}return jc=l,ph(),f}function Zw(a,l){Sn=null,ge.H=g1,l===je||l===Ne?(l=gt(),is=3):l===Qe?(l=gt(),is=4):is=l===j2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Fo=l,yr===null&&(va=1,np(a,yo(l,a.current)))}function e3(){var a=ks.current;return a===null?!0:(Cr&4194048)===Cr?jr===null:(Cr&62914560)===Cr||(Cr&536870912)!==0?a===jr:!1}function t3(){var a=ge.H;return ge.H=g1,a===null?g1:a}function n3(){var a=ge.A;return ge.A=uR,a}function pp(){va=4,_u||(Cr&4194048)!==Cr&&ks.current!==null||(Dd=!0),(Au&134217727)===0&&(Sh&134217727)===0||_s===null||Su(_s,Cr,Bo,!1)}function ix(a,l,f){var v=$r;$r|=2;var N=t3(),O=n3();(_s!==a||Cr!==l)&&(dp=null,kd(a,l)),l=!1;var K=va;e:do try{if(is!==0&&yr!==null){var ue=yr,Le=Fo;switch(is){case 8:ax(),K=6;break e;case 3:case 2:case 9:case 6:ks.current===null&&(l=!0);var $e=is;if(is=0,Fo=null,Md(a,ue,Le,$e),f&&Dd){K=0;break e}break;default:$e=is,is=0,Fo=null,Md(a,ue,Le,$e)}}fR(),K=va;break}catch(pt){Zw(a,pt)}while(!0);return l&&a.shellSuspendCounter++,Zo=ql=null,$r=v,ge.H=N,ge.A=O,yr===null&&(_s=null,Cr=0,ph()),K}function fR(){for(;yr!==null;)r3(yr)}function pR(a,l){var f=$r;$r|=2;var v=t3(),N=n3();_s!==a||Cr!==l?(dp=null,hp=Cn()+500,kd(a,l)):Dd=Gr(a,l);e:do try{if(is!==0&&yr!==null){l=yr;var O=Fo;t:switch(is){case 1:is=0,Fo=null,Md(a,l,O,1);break;case 2:case 9:if(Ge(O)){is=0,Fo=null,s3(l);break}l=function(){is!==2&&is!==9||_s!==a||(is=7),Zl(a)},O.then(l,l);break e;case 3:is=7;break e;case 4:is=5;break e;case 7:Ge(O)?(is=0,Fo=null,s3(l)):(is=0,Fo=null,Md(a,l,O,7));break;case 5:var K=null;switch(yr.tag){case 26:K=yr.memoizedState;case 5:case 27:var ue=yr;if(K?H3(K):ue.stateNode.complete){is=0,Fo=null;var Le=ue.sibling;if(Le!==null)yr=Le;else{var $e=ue.return;$e!==null?(yr=$e,gp($e)):yr=null}break t}}is=0,Fo=null,Md(a,l,O,5);break;case 6:is=0,Fo=null,Md(a,l,O,6);break;case 8:ax(),va=6;break e;default:throw Error(r(462))}}gR();break}catch(pt){Zw(a,pt)}while(!0);return Zo=ql=null,ge.H=v,ge.A=N,$r=f,yr!==null?0:(_s=null,Cr=0,ph(),va)}function gR(){for(;yr!==null&&!pn();)r3(yr)}function r3(a){var l=Nw(a.alternate,a,jc);a.memoizedProps=a.pendingProps,l===null?gp(a):yr=l}function s3(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=ww(f,l,l.pendingProps,l.type,void 0,Cr);break;case 11:l=ww(f,l,l.pendingProps,l.type.render,l.ref,Cr);break;case 5:Ad(l);default:Iw(f,l),l=yr=xh(l,jc),l=Nw(f,l,jc)}a.memoizedProps=a.pendingProps,l===null?gp(a):yr=l}function Md(a,l,f,v){Zo=ql=null,Ad(l),At=null,nn=0;var N=l.return;try{if(rR(a,N,l,f,Cr)){va=1,np(a,yo(f,a.current)),yr=null;return}}catch(O){if(N!==null)throw yr=N,O;va=1,np(a,yo(f,a.current)),yr=null;return}l.flags&32768?(xr||v===1?a=!0:Dd||(Cr&536870912)!==0?a=!1:(_u=a=!0,(v===2||v===9||v===3||v===6)&&(v=ks.current,v!==null&&v.tag===13&&(v.flags|=16384))),a3(l,a)):gp(l)}function gp(a){var l=a;do{if((l.flags&32768)!==0){a3(l,_u);return}a=l.return;var f=iR(l.alternate,l,jc);if(f!==null){yr=f;return}if(l=l.sibling,l!==null){yr=l;return}yr=l=a}while(l!==null);va===0&&(va=5)}function a3(a,l){do{var f=oR(a.alternate,a);if(f!==null){f.flags&=32767,yr=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){yr=a;return}yr=a=f}while(a!==null);va=6,yr=null}function i3(a,l,f,v,N,O,K,ue,Le){a.cancelPendingCommit=null;do mp();while(ui!==0);if(($r&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(O=l.lanes|l.childLanes,O|=cd,zs(a,f,O,K,ue,Le),a===_s&&(yr=_s=null,Cr=0),Ld=l,Cu=a,Fc=f,nx=O,rx=N,Qw=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,vR(Dn,function(){return h3(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=ge.T,ge.T=null,N=Se.p,Se.p=2,K=$r,$r|=4;try{lR(a,l,f)}finally{$r=K,Se.p=N,ge.T=v}}ui=1,o3(),l3(),c3()}}function o3(){if(ui===1){ui=0;var a=Cu,l=Ld,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ge.T,ge.T=null;var v=Se.p;Se.p=2;var N=$r;$r|=4;try{Vw(l,a);var O=yx,K=se(a.containerInfo),ue=O.focusedElem,Le=O.selectionRange;if(K!==ue&&ue&&ue.ownerDocument&&G(ue.ownerDocument.documentElement,ue)){if(Le!==null&&ie(ue)){var $e=Le.start,pt=Le.end;if(pt===void 0&&(pt=$e),"selectionStart"in ue)ue.selectionStart=$e,ue.selectionEnd=Math.min(pt,ue.value.length);else{var wt=ue.ownerDocument||document,nt=wt&&wt.defaultView||window;if(nt.getSelection){var st=nt.getSelection(),Jt=ue.textContent.length,Mn=Math.min(Le.start,Jt),ys=Le.end===void 0?Mn:Math.min(Le.end,Jt);!st.extend&&Mn>ys&&(K=ys,ys=Mn,Mn=K);var qe=L(ue,Mn),Fe=L(ue,ys);if(qe&&Fe&&(st.rangeCount!==1||st.anchorNode!==qe.node||st.anchorOffset!==qe.offset||st.focusNode!==Fe.node||st.focusOffset!==Fe.offset)){var Ke=wt.createRange();Ke.setStart(qe.node,qe.offset),st.removeAllRanges(),Mn>ys?(st.addRange(Ke),st.extend(Fe.node,Fe.offset)):(Ke.setEnd(Fe.node,Fe.offset),st.addRange(Ke))}}}}for(wt=[],st=ue;st=st.parentNode;)st.nodeType===1&&wt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<wt.length;ue++){var xt=wt[ue];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}Tp=!!xx,yx=xx=null}finally{$r=N,Se.p=v,ge.T=f}}a.current=l,ui=2}}function l3(){if(ui===2){ui=0;var a=Cu,l=Ld,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ge.T,ge.T=null;var v=Se.p;Se.p=2;var N=$r;$r|=4;try{Mw(a,l.alternate,l)}finally{$r=N,Se.p=v,ge.T=f}}ui=3}}function c3(){if(ui===4||ui===3){ui=0,un();var a=Cu,l=Ld,f=Fc,v=Qw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ui=5:(ui=0,Ld=Cu=null,u3(a,a.pendingLanes));var N=a.pendingLanes;if(N===0&&(Eu=null),br(f),l=l.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Kt,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=ge.T,N=Se.p,Se.p=2,ge.T=null;try{for(var O=a.onRecoverableError,K=0;K<v.length;K++){var ue=v[K];O(ue.value,{componentStack:ue.stack})}}finally{ge.T=l,Se.p=N}}(Fc&3)!==0&&mp(),Zl(a),N=a.pendingLanes,(f&261930)!==0&&(N&42)!==0?a===sx?E1++:(E1=0,sx=a):E1=0,C1(0)}}function u3(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,bh(l)))}function mp(){return o3(),l3(),c3(),h3()}function h3(){if(ui!==5)return!1;var a=Cu,l=nx;nx=0;var f=br(Fc),v=ge.T,N=Se.p;try{Se.p=32>f?32:f,ge.T=null,f=rx,rx=null;var O=Cu,K=Fc;if(ui=0,Ld=Cu=null,Fc=0,($r&6)!==0)throw Error(r(331));var ue=$r;if($r|=4,Ww(O.current),Hw(O,O.current,K,f),$r=ue,C1(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Kt,O)}catch{}return!0}finally{Se.p=N,ge.T=v,u3(a,l)}}function d3(a,l,f){l=yo(f,l),l=M2(a.stateNode,l,2),a=sr(a,l,2),a!==null&&(on(a,2),Zl(a))}function os(a,l,f){if(a.tag===3)d3(a,a,f);else for(;l!==null;){if(l.tag===3){d3(l,a,f);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Eu===null||!Eu.has(v))){a=yo(f,a),f=fw(2),v=sr(l,f,2),v!==null&&(pw(f,v,l,a),on(v,2),Zl(v));break}}l=l.return}}function ox(a,l,f){var v=a.pingCache;if(v===null){v=a.pingCache=new hR;var N=new Set;v.set(l,N)}else N=v.get(l),N===void 0&&(N=new Set,v.set(l,N));N.has(f)||(Z2=!0,N.add(f),a=mR.bind(null,a,l,f),l.then(a,a))}function mR(a,l,f){var v=a.pingCache;v!==null&&v.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,_s===a&&(Cr&f)===f&&(va===4||va===3&&(Cr&62914560)===Cr&&300>Cn()-up?($r&2)===0&&kd(a,0):ex|=f,Pd===Cr&&(Pd=0)),Zl(a)}function f3(a,l){l===0&&(l=Wr()),a=pl(a,l),a!==null&&(on(a,l),Zl(a))}function xR(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),f3(a,f)}function yR(a,l){var f=0;switch(a.tag){case 31:case 13:var v=a.stateNode,N=a.memoizedState;N!==null&&(f=N.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),f3(a,f)}function vR(a,l){return jt(a,l)}var xp=null,jd=null,lx=!1,yp=!1,cx=!1,Nu=0;function Zl(a){a!==jd&&a.next===null&&(jd===null?xp=jd=a:jd=jd.next=a),yp=!0,lx||(lx=!0,wR())}function C1(a,l){if(!cx&&yp){cx=!0;do for(var f=!1,v=xp;v!==null;){if(a!==0){var N=v.pendingLanes;if(N===0)var O=0;else{var K=v.suspendedLanes,ue=v.pingedLanes;O=(1<<31-Bt(42|a)+1)-1,O&=N&~(K&~ue),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(f=!0,x3(v,O))}else O=Cr,O=Qn(v,v===_s?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Gr(v,O)||(f=!0,x3(v,O));v=v.next}while(f);cx=!1}}function bR(){p3()}function p3(){yp=lx=!1;var a=0;Nu!==0&&OR()&&(a=Nu);for(var l=Cn(),f=null,v=xp;v!==null;){var N=v.next,O=g3(v,l);O===0?(v.next=null,f===null?xp=N:f.next=N,N===null&&(jd=f)):(f=v,(a!==0||(O&3)!==0)&&(yp=!0)),v=N}ui!==0&&ui!==5||C1(a),Nu!==0&&(Nu=0)}function g3(a,l){for(var f=a.suspendedLanes,v=a.pingedLanes,N=a.expirationTimes,O=a.pendingLanes&-62914561;0<O;){var K=31-Bt(O),ue=1<<K,Le=N[K];Le===-1?((ue&f)===0||(ue&v)!==0)&&(N[K]=Vs(ue,l)):Le<=l&&(a.expiredLanes|=ue),O&=~ue}if(l=_s,f=Cr,f=Qn(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,f===0||a===l&&(is===2||is===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&ot(v),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Gr(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(v!==null&&ot(v),br(f)){case 2:case 8:f=Xn;break;case 32:f=Dn;break;case 268435456:f=jn;break;default:f=Dn}return v=m3.bind(null,a),f=jt(f,v),a.callbackPriority=l,a.callbackNode=f,l}return v!==null&&v!==null&&ot(v),a.callbackPriority=2,a.callbackNode=null,2}function m3(a,l){if(ui!==0&&ui!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(mp()&&a.callbackNode!==f)return null;var v=Cr;return v=Qn(a,a===_s?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:($w(a,v,l),g3(a,Cn()),a.callbackNode!=null&&a.callbackNode===f?m3.bind(null,a):null)}function x3(a,l){if(mp())return null;$w(a,l,!0)}function wR(){PR(function(){($r&6)!==0?jt(gn,bR):p3()})}function ux(){if(Nu===0){var a=E;a===0&&(a=En,En<<=1,(En&261888)===0&&(En=256)),Nu=a}return Nu}function y3(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ha(""+a)}function v3(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function _R(a,l,f,v,N){if(l==="submit"&&f&&f.stateNode===N){var O=y3((N[Kn]||null).action),K=v.submitter;K&&(l=(l=K[Kn]||null)?y3(l.formAction):K.getAttribute("formAction"),l!==null&&(O=l,K=null));var ue=new Or("action","action",null,v,N);a.push({event:ue,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Nu!==0){var Le=K?v3(N,K):new FormData(N);R2(f,{pending:!0,data:Le,method:N.method,action:O},null,Le)}}else typeof O=="function"&&(ue.preventDefault(),Le=K?v3(N,K):new FormData(N),R2(f,{pending:!0,data:Le,method:N.method,action:O},O,Le))},currentTarget:N}]})}}for(var hx=0;hx<fl.length;hx++){var dx=fl[hx],AR=dx.toLowerCase(),ER=dx[0].toUpperCase()+dx.slice(1);mo(AR,"on"+ER)}mo(Ra,"onAnimationEnd"),mo(da,"onAnimationIteration"),mo(Vr,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(fa,"onTransitionRun"),mo(vi,"onTransitionStart"),mo(dl,"onTransitionCancel"),mo(Jo,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(S1));function b3(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],N=v.event;v=v.listeners;e:{var O=void 0;if(l)for(var K=v.length-1;0<=K;K--){var ue=v[K],Le=ue.instance,$e=ue.currentTarget;if(ue=ue.listener,Le!==O&&N.isPropagationStopped())break e;O=ue,N.currentTarget=$e;try{O(N)}catch(pt){fh(pt)}N.currentTarget=null,O=Le}else for(K=0;K<v.length;K++){if(ue=v[K],Le=ue.instance,$e=ue.currentTarget,ue=ue.listener,Le!==O&&N.isPropagationStopped())break e;O=ue,N.currentTarget=$e;try{O(N)}catch(pt){fh(pt)}N.currentTarget=null,O=Le}}}}function vr(a,l){var f=l[Js];f===void 0&&(f=l[Js]=new Set);var v=a+"__bubble";f.has(v)||(w3(l,a,2,!1),f.add(v))}function fx(a,l,f){var v=0;l&&(v|=4),w3(f,a,v,l)}var vp="_reactListening"+Math.random().toString(36).slice(2);function px(a){if(!a[vp]){a[vp]=!0,yt.forEach(function(f){f!=="selectionchange"&&(CR.has(f)||fx(f,!1,a),fx(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[vp]||(l[vp]=!0,fx("selectionchange",!1,l))}}function w3(a,l,f,v){switch(K3(l)){case 2:var N=ZR;break;case 8:N=e9;break;default:N=Ix}f=N.bind(null,l,f,a),N=void 0,!ko||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),v?N!==void 0?a.addEventListener(l,f,{capture:!0,passive:N}):a.addEventListener(l,f,!0):N!==void 0?a.addEventListener(l,f,{passive:N}):a.addEventListener(l,f,!1)}function gx(a,l,f,v,N){var O=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var K=v.tag;if(K===3||K===4){var ue=v.stateNode.containerInfo;if(ue===N)break;if(K===4)for(K=v.return;K!==null;){var Le=K.tag;if((Le===3||Le===4)&&K.stateNode.containerInfo===N)return;K=K.return}for(;ue!==null;){if(K=Ur(ue),K===null)return;if(Le=K.tag,Le===5||Le===6||Le===26||Le===27){v=O=K;continue e}ue=ue.parentNode}}v=v.return}po(function(){var $e=O,pt=Ha(f),wt=[];e:{var nt=dh.get(a);if(nt!==void 0){var st=Or,Jt=a;switch(a){case"keypress":if(ta(f)===0)break e;case"keydown":case"keyup":st=rr;break;case"focusin":Jt="focus",st=Di;break;case"focusout":Jt="blur",st=Di;break;case"beforeblur":case"afterblur":st=Di;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=V;break;case Ra:case da:case Vr:st=D;break;case Jo:st=de;break;case"scroll":case"scrollend":st=oo;break;case"wheel":st=Je;break;case"copy":case"cut":case"paste":st=Ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=An;break;case"toggle":case"beforetoggle":st=Pn}var Mn=(l&4)!==0,ys=!Mn&&(a==="scroll"||a==="scrollend"),qe=Mn?nt!==null?nt+"Capture":null:nt;Mn=[];for(var Fe=$e,Ke;Fe!==null;){var xt=Fe;if(Ke=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||Ke===null||qe===null||(xt=dn(Fe,qe),xt!=null&&Mn.push(N1(Fe,xt,Ke))),ys)break;Fe=Fe.return}0<Mn.length&&(nt=new st(nt,Jt,null,f,pt),wt.push({event:nt,listeners:Mn}))}}if((l&7)===0){e:{if(nt=a==="mouseover"||a==="pointerover",st=a==="mouseout"||a==="pointerout",nt&&f!==Ti&&(Jt=f.relatedTarget||f.fromElement)&&(Ur(Jt)||Jt[ns]))break e;if((st||nt)&&(nt=pt.window===pt?pt:(nt=pt.ownerDocument)?nt.defaultView||nt.parentWindow:window,st?(Jt=f.relatedTarget||f.toElement,st=$e,Jt=Jt?Ur(Jt):null,Jt!==null&&(ys=i(Jt),Mn=Jt.tag,Jt!==ys||Mn!==5&&Mn!==27&&Mn!==6)&&(Jt=null)):(st=null,Jt=$e),st!==Jt)){if(Mn=pr,xt="onMouseLeave",qe="onMouseEnter",Fe="mouse",(a==="pointerout"||a==="pointerover")&&(Mn=An,xt="onPointerLeave",qe="onPointerEnter",Fe="pointer"),ys=st==null?nt:Ua(st),Ke=Jt==null?nt:Ua(Jt),nt=new Mn(xt,Fe+"leave",st,f,pt),nt.target=ys,nt.relatedTarget=Ke,xt=null,Ur(pt)===$e&&(Mn=new Mn(qe,Fe+"enter",Jt,f,pt),Mn.target=Ke,Mn.relatedTarget=ys,xt=Mn),ys=xt,st&&Jt)t:{for(Mn=SR,qe=st,Fe=Jt,Ke=0,xt=qe;xt;xt=Mn(xt))Ke++;xt=0;for(var In=Fe;In;In=Mn(In))xt++;for(;0<Ke-xt;)qe=Mn(qe),Ke--;for(;0<xt-Ke;)Fe=Mn(Fe),xt--;for(;Ke--;){if(qe===Fe||Fe!==null&&qe===Fe.alternate){Mn=qe;break t}qe=Mn(qe),Fe=Mn(Fe)}Mn=null}else Mn=null;st!==null&&_3(wt,nt,st,Mn,!1),Jt!==null&&ys!==null&&_3(wt,ys,Jt,Mn,!0)}}e:{if(nt=$e?Ua($e):window,st=nt.nodeName&&nt.nodeName.toLowerCase(),st==="select"||st==="input"&&nt.type==="file")var Hr=Ta;else if(Ul(nt))if(xi)Hr=m;else{Hr=c;var mn=o}else st=nt.nodeName,!st||st.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?$e&&kr($e.elementType)&&(Hr=Ta):Hr=h;if(Hr&&(Hr=Hr(a,$e))){Is(wt,Hr,f,pt);break e}mn&&mn(a,nt,$e),a==="focusout"&&$e&&nt.type==="number"&&$e.memoizedProps.value!=null&&_e(nt,"number",nt.value)}switch(mn=$e?Ua($e):window,a){case"focusin":(Ul(mn)||mn.contentEditable==="true")&&(Pe=mn,Me=$e,Ve=null);break;case"focusout":Ve=Me=Pe=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,dt(wt,f,pt);break;case"selectionchange":if(Ee)break;case"keydown":case"keyup":dt(wt,f,pt)}var or;if(Jn)e:{switch(a){case"compositionstart":var Sr="onCompositionStart";break e;case"compositionend":Sr="onCompositionEnd";break e;case"compositionupdate":Sr="onCompositionUpdate";break e}Sr=void 0}else go?Pi(a,f)&&(Sr="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Sr="onCompositionStart");Sr&&(Sa&&f.locale!=="ko"&&(go||Sr!=="onCompositionStart"?Sr==="onCompositionEnd"&&go&&(or=io()):(Ga=pt,ni="value"in Ga?Ga.value:Ga.textContent,go=!0)),mn=bp($e,Sr),0<mn.length&&(Sr=new Ue(Sr,a,null,f,pt),wt.push({event:Sr,listeners:mn}),or?Sr.data=or:(or=mi(f),or!==null&&(Sr.data=or)))),(or=na?Ts(a,f):qi(a,f))&&(Sr=bp($e,"onBeforeInput"),0<Sr.length&&(mn=new Ue("onBeforeInput","beforeinput",null,f,pt),wt.push({event:mn,listeners:Sr}),mn.data=or)),_R(wt,a,$e,f,pt)}b3(wt,l)})}function N1(a,l,f){return{instance:a,listener:l,currentTarget:f}}function bp(a,l){for(var f=l+"Capture",v=[];a!==null;){var N=a,O=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||O===null||(N=dn(a,f),N!=null&&v.unshift(N1(a,N,O)),N=dn(a,l),N!=null&&v.push(N1(a,N,O))),a.tag===3)return v;a=a.return}return[]}function SR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function _3(a,l,f,v,N){for(var O=l._reactName,K=[];f!==null&&f!==v;){var ue=f,Le=ue.alternate,$e=ue.stateNode;if(ue=ue.tag,Le!==null&&Le===v)break;ue!==5&&ue!==26&&ue!==27||$e===null||(Le=$e,N?($e=dn(f,O),$e!=null&&K.unshift(N1(f,$e,Le))):N||($e=dn(f,O),$e!=null&&K.push(N1(f,$e,Le)))),f=f.return}K.length!==0&&a.push({event:l,listeners:K})}var NR=/\r\n?/g,TR=/\u0000|\uFFFD/g;function A3(a){return(typeof a=="string"?a:""+a).replace(NR,`
`).replace(TR,"")}function E3(a,l){return l=A3(l),A3(a)===l}function xs(a,l,f,v,N,O){switch(f){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||ea(a,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&ea(a,""+v);break;case"className":qs(a,"class",v);break;case"tabIndex":qs(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":qs(a,f,v);break;case"style":ln(a,v,O);break;case"data":if(l!=="object"){qs(a,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(f);break}v=ha(""+v),a.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(f==="formAction"?(l!=="input"&&xs(a,l,"name",N.name,N,null),xs(a,l,"formEncType",N.formEncType,N,null),xs(a,l,"formMethod",N.formMethod,N,null),xs(a,l,"formTarget",N.formTarget,N,null)):(xs(a,l,"encType",N.encType,N,null),xs(a,l,"method",N.method,N,null),xs(a,l,"target",N.target,N,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(f);break}v=ha(""+v),a.setAttribute(f,v);break;case"onClick":v!=null&&(a.onclick=za);break;case"onScroll":v!=null&&vr("scroll",a);break;case"onScrollEnd":v!=null&&vr("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(N.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}f=ha(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(f,""+v):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":v===!0?a.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(f,v):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(f,v):a.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(f):a.setAttribute(f,v);break;case"popover":vr("beforetoggle",a),vr("toggle",a),Ea(a,"popover",v);break;case"xlinkActuate":hs(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":hs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":hs(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":hs(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":hs(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":hs(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":hs(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":hs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":hs(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ea(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Lo.get(f)||f,Ea(a,f,v))}}function mx(a,l,f,v,N,O){switch(f){case"style":ln(a,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(f=v.__html,f!=null){if(N.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof v=="string"?ea(a,v):(typeof v=="number"||typeof v=="bigint")&&ea(a,""+v);break;case"onScroll":v!=null&&vr("scroll",a);break;case"onScrollEnd":v!=null&&vr("scrollend",a);break;case"onClick":v!=null&&(a.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(N=f.endsWith("Capture"),l=f.slice(2,N?f.length-7:void 0),O=a[Kn]||null,O=O!=null?O[f]:null,typeof O=="function"&&a.removeEventListener(l,O,N),typeof v=="function")){typeof O!="function"&&O!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,v,N);break e}f in a?a[f]=v:v===!0?a.setAttribute(f,""):Ea(a,f,v)}}}function ji(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vr("error",a),vr("load",a);var v=!1,N=!1,O;for(O in f)if(f.hasOwnProperty(O)){var K=f[O];if(K!=null)switch(O){case"src":v=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:xs(a,l,O,K,f,null)}}N&&xs(a,l,"srcSet",f.srcSet,f,null),v&&xs(a,l,"src",f.src,f,null);return;case"input":vr("invalid",a);var ue=O=K=N=null,Le=null,$e=null;for(v in f)if(f.hasOwnProperty(v)){var pt=f[v];if(pt!=null)switch(v){case"name":N=pt;break;case"type":K=pt;break;case"checked":Le=pt;break;case"defaultChecked":$e=pt;break;case"value":O=pt;break;case"defaultValue":ue=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,l));break;default:xs(a,l,v,pt,f,null)}}Ye(a,O,ue,Le,$e,K,N,!1);return;case"select":vr("invalid",a),v=K=O=null;for(N in f)if(f.hasOwnProperty(N)&&(ue=f[N],ue!=null))switch(N){case"value":O=ue;break;case"defaultValue":K=ue;break;case"multiple":v=ue;default:xs(a,l,N,ue,f,null)}l=O,f=K,a.multiple=!!v,l!=null?Ft(a,!!v,l,!1):f!=null&&Ft(a,!!v,f,!0);return;case"textarea":vr("invalid",a),O=N=v=null;for(K in f)if(f.hasOwnProperty(K)&&(ue=f[K],ue!=null))switch(K){case"value":v=ue;break;case"defaultValue":N=ue;break;case"children":O=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:xs(a,l,K,ue,f,null)}Ns(a,v,N,O);return;case"option":for(Le in f)f.hasOwnProperty(Le)&&(v=f[Le],v!=null)&&(Le==="selected"?a.selected=v&&typeof v!="function"&&typeof v!="symbol":xs(a,l,Le,v,f,null));return;case"dialog":vr("beforetoggle",a),vr("toggle",a),vr("cancel",a),vr("close",a);break;case"iframe":case"object":vr("load",a);break;case"video":case"audio":for(v=0;v<S1.length;v++)vr(S1[v],a);break;case"image":vr("error",a),vr("load",a);break;case"details":vr("toggle",a);break;case"embed":case"source":case"link":vr("error",a),vr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in f)if(f.hasOwnProperty($e)&&(v=f[$e],v!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:xs(a,l,$e,v,f,null)}return;default:if(kr(l)){for(pt in f)f.hasOwnProperty(pt)&&(v=f[pt],v!==void 0&&mx(a,l,pt,v,f,void 0));return}}for(ue in f)f.hasOwnProperty(ue)&&(v=f[ue],v!=null&&xs(a,l,ue,v,f,null))}function IR(a,l,f,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,O=null,K=null,ue=null,Le=null,$e=null,pt=null;for(st in f){var wt=f[st];if(f.hasOwnProperty(st)&&wt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Le=wt;default:v.hasOwnProperty(st)||xs(a,l,st,null,v,wt)}}for(var nt in v){var st=v[nt];if(wt=f[nt],v.hasOwnProperty(nt)&&(st!=null||wt!=null))switch(nt){case"type":O=st;break;case"name":N=st;break;case"checked":$e=st;break;case"defaultChecked":pt=st;break;case"value":K=st;break;case"defaultValue":ue=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,l));break;default:st!==wt&&xs(a,l,nt,st,v,wt)}}ds(a,K,ue,Le,$e,pt,O,N);return;case"select":st=K=ue=nt=null;for(O in f)if(Le=f[O],f.hasOwnProperty(O)&&Le!=null)switch(O){case"value":break;case"multiple":st=Le;default:v.hasOwnProperty(O)||xs(a,l,O,null,v,Le)}for(N in v)if(O=v[N],Le=f[N],v.hasOwnProperty(N)&&(O!=null||Le!=null))switch(N){case"value":nt=O;break;case"defaultValue":ue=O;break;case"multiple":K=O;default:O!==Le&&xs(a,l,N,O,v,Le)}l=ue,f=K,v=st,nt!=null?Ft(a,!!f,nt,!1):!!v!=!!f&&(l!=null?Ft(a,!!f,l,!0):Ft(a,!!f,f?[]:"",!1));return;case"textarea":st=nt=null;for(ue in f)if(N=f[ue],f.hasOwnProperty(ue)&&N!=null&&!v.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:xs(a,l,ue,null,v,N)}for(K in v)if(N=v[K],O=f[K],v.hasOwnProperty(K)&&(N!=null||O!=null))switch(K){case"value":nt=N;break;case"defaultValue":st=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==O&&xs(a,l,K,N,v,O)}fs(a,nt,st);return;case"option":for(var Jt in f)nt=f[Jt],f.hasOwnProperty(Jt)&&nt!=null&&!v.hasOwnProperty(Jt)&&(Jt==="selected"?a.selected=!1:xs(a,l,Jt,null,v,nt));for(Le in v)nt=v[Le],st=f[Le],v.hasOwnProperty(Le)&&nt!==st&&(nt!=null||st!=null)&&(Le==="selected"?a.selected=nt&&typeof nt!="function"&&typeof nt!="symbol":xs(a,l,Le,nt,v,st));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mn in f)nt=f[Mn],f.hasOwnProperty(Mn)&&nt!=null&&!v.hasOwnProperty(Mn)&&xs(a,l,Mn,null,v,nt);for($e in v)if(nt=v[$e],st=f[$e],v.hasOwnProperty($e)&&nt!==st&&(nt!=null||st!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,l));break;default:xs(a,l,$e,nt,v,st)}return;default:if(kr(l)){for(var ys in f)nt=f[ys],f.hasOwnProperty(ys)&&nt!==void 0&&!v.hasOwnProperty(ys)&&mx(a,l,ys,void 0,v,nt);for(pt in v)nt=v[pt],st=f[pt],!v.hasOwnProperty(pt)||nt===st||nt===void 0&&st===void 0||mx(a,l,pt,nt,v,st);return}}for(var qe in f)nt=f[qe],f.hasOwnProperty(qe)&&nt!=null&&!v.hasOwnProperty(qe)&&xs(a,l,qe,null,v,nt);for(wt in v)nt=v[wt],st=f[wt],!v.hasOwnProperty(wt)||nt===st||nt==null&&st==null||xs(a,l,wt,nt,v,st)}function C3(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),v=0;v<f.length;v++){var N=f[v],O=N.transferSize,K=N.initiatorType,ue=N.duration;if(O&&ue&&C3(K)){for(K=0,ue=N.responseEnd,v+=1;v<f.length;v++){var Le=f[v],$e=Le.startTime;if($e>ue)break;var pt=Le.transferSize,wt=Le.initiatorType;pt&&C3(wt)&&(Le=Le.responseEnd,K+=pt*(Le<ue?1:(ue-$e)/(Le-$e)))}if(--v,l+=8*(O+K)/(N.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var xx=null,yx=null;function wp(a){return a.nodeType===9?a:a.ownerDocument}function S3(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N3(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function vx(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bx=null;function OR(){var a=window.event;return a&&a.type==="popstate"?a===bx?!1:(bx=a,!0):(bx=null,!1)}var T3=typeof setTimeout=="function"?setTimeout:void 0,DR=typeof clearTimeout=="function"?clearTimeout:void 0,I3=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof I3<"u"?function(a){return I3.resolve(null).then(a).catch(LR)}:T3;function LR(a){setTimeout(function(){throw a})}function Tu(a){return a==="head"}function R3(a,l){var f=l,v=0;do{var N=f.nextSibling;if(a.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"||f==="/&"){if(v===0){a.removeChild(N),Vd(l);return}v--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")v++;else if(f==="html")T1(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,T1(f);for(var O=f.firstChild;O;){var K=O.nextSibling,ue=O.nodeName;O[Ba]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=K}}else f==="body"&&T1(a.ownerDocument.body);f=N}while(f);Vd(l)}function O3(a,l){var f=a;a=0;do{var v=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=v}while(f)}function wx(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":wx(f),Hs(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function kR(a,l,f,v){for(;a.nodeType===1;){var N=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[Ba])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(O=a.getAttribute("rel"),O==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(O!==N.rel||a.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||a.getAttribute("title")!==(N.title==null?null:N.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(O=a.getAttribute("src"),(O!==(N.src==null?null:N.src)||a.getAttribute("type")!==(N.type==null?null:N.type)||a.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&O&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var O=N.name==null?null:""+N.name;if(N.type==="hidden"&&a.getAttribute("name")===O)return a}else return a;if(a=nl(a.nextSibling),a===null)break}return null}function MR(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=nl(a.nextSibling),a===null))return null;return a}function D3(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=nl(a.nextSibling),a===null))return null;return a}function _x(a){return a.data==="$?"||a.data==="$~"}function Ax(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function jR(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var v=function(){l(),f.removeEventListener("DOMContentLoaded",v)};f.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function nl(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Ex=null;function P3(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return nl(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function L3(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function k3(a,l,f){switch(l=wp(f),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function T1(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Hs(a)}var rl=new Map,M3=new Set;function _p(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Bc=Se.d;Se.d={f:FR,r:BR,D:UR,C:VR,L:zR,m:HR,X:GR,S:qR,M:WR};function FR(){var a=Bc.f(),l=fp();return a||l}function BR(a){var l=$n(a);l!==null&&l.tag===5&&l.type==="form"?Zb(l):Bc.r(a)}var Fd=typeof document>"u"?null:document;function j3(a,l,f){var v=Fd;if(v&&typeof l=="string"&&l){var N=kn(l);N='link[rel="'+a+'"][href="'+N+'"]',typeof f=="string"&&(N+='[crossorigin="'+f+'"]'),M3.has(N)||(M3.add(N),a={rel:a,crossOrigin:f,href:l},v.querySelector(N)===null&&(l=v.createElement("link"),ji(l,"link",a),rs(l),v.head.appendChild(l)))}}function UR(a){Bc.D(a),j3("dns-prefetch",a,null)}function VR(a,l){Bc.C(a,l),j3("preconnect",a,l)}function zR(a,l,f){Bc.L(a,l,f);var v=Fd;if(v&&a&&l){var N='link[rel="preload"][as="'+kn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(N+='[imagesrcset="'+kn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(N+='[imagesizes="'+kn(f.imageSizes)+'"]')):N+='[href="'+kn(a)+'"]';var O=N;switch(l){case"style":O=Bd(a);break;case"script":O=Ud(a)}rl.has(O)||(a=_({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),rl.set(O,a),v.querySelector(N)!==null||l==="style"&&v.querySelector(I1(O))||l==="script"&&v.querySelector(R1(O))||(l=v.createElement("link"),ji(l,"link",a),rs(l),v.head.appendChild(l)))}}function HR(a,l){Bc.m(a,l);var f=Fd;if(f&&a){var v=l&&typeof l.as=="string"?l.as:"script",N='link[rel="modulepreload"][as="'+kn(v)+'"][href="'+kn(a)+'"]',O=N;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Ud(a)}if(!rl.has(O)&&(a=_({rel:"modulepreload",href:a},l),rl.set(O,a),f.querySelector(N)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(R1(O)))return}v=f.createElement("link"),ji(v,"link",a),rs(v),f.head.appendChild(v)}}}function qR(a,l,f){Bc.S(a,l,f);var v=Fd;if(v&&a){var N=Os(v).hoistableStyles,O=Bd(a);l=l||"default";var K=N.get(O);if(!K){var ue={loading:0,preload:null};if(K=v.querySelector(I1(O)))ue.loading=5;else{a=_({rel:"stylesheet",href:a,"data-precedence":l},f),(f=rl.get(O))&&Cx(a,f);var Le=K=v.createElement("link");rs(Le),ji(Le,"link",a),Le._p=new Promise(function($e,pt){Le.onload=$e,Le.onerror=pt}),Le.addEventListener("load",function(){ue.loading|=1}),Le.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Ap(K,l,v)}K={type:"stylesheet",instance:K,count:1,state:ue},N.set(O,K)}}}function GR(a,l){Bc.X(a,l);var f=Fd;if(f&&a){var v=Os(f).hoistableScripts,N=Ud(a),O=v.get(N);O||(O=f.querySelector(R1(N)),O||(a=_({src:a,async:!0},l),(l=rl.get(N))&&Sx(a,l),O=f.createElement("script"),rs(O),ji(O,"link",a),f.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(N,O))}}function WR(a,l){Bc.M(a,l);var f=Fd;if(f&&a){var v=Os(f).hoistableScripts,N=Ud(a),O=v.get(N);O||(O=f.querySelector(R1(N)),O||(a=_({src:a,async:!0,type:"module"},l),(l=rl.get(N))&&Sx(a,l),O=f.createElement("script"),rs(O),ji(O,"link",a),f.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(N,O))}}function F3(a,l,f,v){var N=(N=Ae.current)?_p(N):null;if(!N)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Bd(f.href),f=Os(N).hoistableStyles,v=f.get(l),v||(v={type:"style",instance:null,count:0,state:null},f.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Bd(f.href);var O=Os(N).hoistableStyles,K=O.get(a);if(K||(N=N.ownerDocument||N,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(a,K),(O=N.querySelector(I1(a)))&&!O._p&&(K.instance=O,K.state.loading=5),rl.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},rl.set(a,f),O||YR(N,a,f,K.state))),l&&v===null)throw Error(r(528,""));return K}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ud(f),f=Os(N).hoistableScripts,v=f.get(l),v||(v={type:"script",instance:null,count:0,state:null},f.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Bd(a){return'href="'+kn(a)+'"'}function I1(a){return'link[rel="stylesheet"]['+a+"]"}function B3(a){return _({},a,{"data-precedence":a.precedence,precedence:null})}function YR(a,l,f,v){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=a.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),ji(l,"link",f),rs(l),a.head.appendChild(l))}function Ud(a){return'[src="'+kn(a)+'"]'}function R1(a){return"script[async]"+a}function U3(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var v=a.querySelector('style[data-href~="'+kn(f.href)+'"]');if(v)return l.instance=v,rs(v),v;var N=_({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),rs(v),ji(v,"style",N),Ap(v,f.precedence,a),l.instance=v;case"stylesheet":N=Bd(f.href);var O=a.querySelector(I1(N));if(O)return l.state.loading|=4,l.instance=O,rs(O),O;v=B3(f),(N=rl.get(N))&&Cx(v,N),O=(a.ownerDocument||a).createElement("link"),rs(O);var K=O;return K._p=new Promise(function(ue,Le){K.onload=ue,K.onerror=Le}),ji(O,"link",v),l.state.loading|=4,Ap(O,f.precedence,a),l.instance=O;case"script":return O=Ud(f.src),(N=a.querySelector(R1(O)))?(l.instance=N,rs(N),N):(v=f,(N=rl.get(O))&&(v=_({},f),Sx(v,N)),a=a.ownerDocument||a,N=a.createElement("script"),rs(N),ji(N,"link",v),a.head.appendChild(N),l.instance=N);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Ap(v,f.precedence,a));return l.instance}function Ap(a,l,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=v.length?v[v.length-1]:null,O=N,K=0;K<v.length;K++){var ue=v[K];if(ue.dataset.precedence===l)O=ue;else if(O!==N)break}O?O.parentNode.insertBefore(a,O.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function Cx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Sx(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ep=null;function V3(a,l,f){if(Ep===null){var v=new Map,N=Ep=new Map;N.set(f,v)}else N=Ep,v=N.get(f),v||(v=new Map,N.set(f,v));if(v.has(a))return v;for(v.set(a,null),f=f.getElementsByTagName(a),N=0;N<f.length;N++){var O=f[N];if(!(O[Ba]||O[wr]||a==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var K=O.getAttribute(l)||"";K=a+K;var ue=v.get(K);ue?ue.push(O):v.set(K,[O])}}return v}function z3(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function XR(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function H3(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function QR(a,l,f,v){if(f.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var N=Bd(v.href),O=l.querySelector(I1(N));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Cp.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=O,rs(O);return}O=l.ownerDocument||l,v=B3(v),(N=rl.get(N))&&Cx(v,N),O=O.createElement("link"),rs(O);var K=O;K._p=new Promise(function(ue,Le){K.onload=ue,K.onerror=Le}),ji(O,"link",v),f.instance=O}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=Cp.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var Nx=0;function KR(a,l){return a.stylesheets&&a.count===0&&Np(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var v=setTimeout(function(){if(a.stylesheets&&Np(a,a.stylesheets),a.unsuspend){var O=a.unsuspend;a.unsuspend=null,O()}},6e4+l);0<a.imgBytes&&Nx===0&&(Nx=62500*RR());var N=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Np(a,a.stylesheets),a.unsuspend)){var O=a.unsuspend;a.unsuspend=null,O()}},(a.imgBytes>Nx?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(v),clearTimeout(N)}}:null}function Cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Sp=null;function Np(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Sp=new Map,l.forEach($R,a),Sp=null,Cp.call(a))}function $R(a,l){if(!(l.state.loading&4)){var f=Sp.get(a);if(f)var v=f.get(null);else{f=new Map,Sp.set(a,f);for(var N=a.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<N.length;O++){var K=N[O];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(f.set(K.dataset.precedence,K),v=K)}v&&f.set(null,v)}N=l.instance,K=N.getAttribute("data-precedence"),O=f.get(K)||v,O===v&&f.set(null,N),f.set(K,N),this.count++,v=Cp.bind(this),N.addEventListener("load",v),N.addEventListener("error",v),O?O.parentNode.insertBefore(N,O.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(N,a.firstChild)),l.state.loading|=4}}var O1={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function JR(a,l,f,v,N,O,K,ue,Le){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=v,this.onUncaughtError=N,this.onCaughtError=O,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function q3(a,l,f,v,N,O,K,ue,Le,$e,pt,wt){return a=new JR(a,l,f,K,Le,$e,pt,wt,ue),l=1,O===!0&&(l|=24),O=wi(3,null,null,l),a.current=O,O.stateNode=a,l=mu(),l.refCount++,a.pooledCache=l,l.refCount++,O.memoizedState={element:v,isDehydrated:f,cache:l},Pt(O),a}function G3(a){return a?(a=ai,a):ai}function W3(a,l,f,v,N,O){N=G3(N),v.context===null?v.context=N:v.pendingContext=N,v=Ln(l),v.payload={element:f},O=O===void 0?null:O,O!==null&&(v.callback=O),f=sr(a,v,l),f!==null&&(Io(f,a,l),Qr(f,a,l))}function Y3(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function Tx(a,l){Y3(a,l),(a=a.alternate)&&Y3(a,l)}function X3(a){if(a.tag===13||a.tag===31){var l=pl(a,67108864);l!==null&&Io(l,a,67108864),Tx(a,67108864)}}function Q3(a){if(a.tag===13||a.tag===31){var l=Uo();l=Gn(l);var f=pl(a,l);f!==null&&Io(f,a,l),Tx(a,l)}}var Tp=!0;function ZR(a,l,f,v){var N=ge.T;ge.T=null;var O=Se.p;try{Se.p=2,Ix(a,l,f,v)}finally{Se.p=O,ge.T=N}}function e9(a,l,f,v){var N=ge.T;ge.T=null;var O=Se.p;try{Se.p=8,Ix(a,l,f,v)}finally{Se.p=O,ge.T=N}}function Ix(a,l,f,v){if(Tp){var N=Rx(v);if(N===null)gx(a,l,v,Ip,f),$3(a,v);else if(n9(N,a,l,f,v))v.stopPropagation();else if($3(a,v),l&4&&-1<t9.indexOf(a)){for(;N!==null;){var O=$n(N);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var K=tn(O.pendingLanes);if(K!==0){var ue=O;for(ue.pendingLanes|=2,ue.entangledLanes|=2;K;){var Le=1<<31-Bt(K);ue.entanglements[1]|=Le,K&=~Le}Zl(O),($r&6)===0&&(hp=Cn()+500,C1(0))}}break;case 31:case 13:ue=pl(O,2),ue!==null&&Io(ue,O,2),fp(),Tx(O,2)}if(O=Rx(v),O===null&&gx(a,l,v,Ip,f),O===N)break;N=O}N!==null&&v.stopPropagation()}else gx(a,l,v,null,f)}}function Rx(a){return a=Ha(a),Ox(a)}var Ip=null;function Ox(a){if(Ip=null,a=Ur(a),a!==null){var l=i(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=u(l),a!==null)return a;a=null}else if(f===31){if(a=d(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Ip=a,null}function K3(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vn()){case gn:return 2;case Xn:return 8;case Dn:case Mt:return 32;case jn:return 268435456;default:return 32}default:return 32}}var Dx=!1,Iu=null,Ru=null,Ou=null,D1=new Map,P1=new Map,Du=[],t9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $3(a,l){switch(a){case"focusin":case"focusout":Iu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Ou=null;break;case"pointerover":case"pointerout":D1.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":P1.delete(l.pointerId)}}function L1(a,l,f,v,N,O){return a===null||a.nativeEvent!==O?(a={blockedOn:l,domEventName:f,eventSystemFlags:v,nativeEvent:O,targetContainers:[N]},l!==null&&(l=$n(l),l!==null&&X3(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),a)}function n9(a,l,f,v,N){switch(l){case"focusin":return Iu=L1(Iu,a,l,f,v,N),!0;case"dragenter":return Ru=L1(Ru,a,l,f,v,N),!0;case"mouseover":return Ou=L1(Ou,a,l,f,v,N),!0;case"pointerover":var O=N.pointerId;return D1.set(O,L1(D1.get(O)||null,a,l,f,v,N)),!0;case"gotpointercapture":return O=N.pointerId,P1.set(O,L1(P1.get(O)||null,a,l,f,v,N)),!0}return!1}function J3(a){var l=Ur(a.target);if(l!==null){var f=i(l);if(f!==null){if(l=f.tag,l===13){if(l=u(f),l!==null){a.blockedOn=l,Rt(a.priority,function(){Q3(f)});return}}else if(l===31){if(l=d(f),l!==null){a.blockedOn=l,Rt(a.priority,function(){Q3(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Rx(a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);Ti=v,f.target.dispatchEvent(v),Ti=null}else return l=$n(f),l!==null&&X3(l),a.blockedOn=f,!1;l.shift()}return!0}function Z3(a,l,f){Rp(a)&&f.delete(l)}function r9(){Dx=!1,Iu!==null&&Rp(Iu)&&(Iu=null),Ru!==null&&Rp(Ru)&&(Ru=null),Ou!==null&&Rp(Ou)&&(Ou=null),D1.forEach(Z3),P1.forEach(Z3)}function Op(a,l){a.blockedOn===l&&(a.blockedOn=null,Dx||(Dx=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r9)))}var Dp=null;function e4(a){Dp!==a&&(Dp=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Dp===a&&(Dp=null);for(var l=0;l<a.length;l+=3){var f=a[l],v=a[l+1],N=a[l+2];if(typeof v!="function"){if(Ox(v||f)===null)continue;break}var O=$n(f);O!==null&&(a.splice(l,3),l-=3,R2(O,{pending:!0,data:N,method:f.method,action:v},v,N))}}))}function Vd(a){function l(Le){return Op(Le,a)}Iu!==null&&Op(Iu,a),Ru!==null&&Op(Ru,a),Ou!==null&&Op(Ou,a),D1.forEach(l),P1.forEach(l);for(var f=0;f<Du.length;f++){var v=Du[f];v.blockedOn===a&&(v.blockedOn=null)}for(;0<Du.length&&(f=Du[0],f.blockedOn===null);)J3(f),f.blockedOn===null&&Du.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var N=f[v],O=f[v+1],K=N[Kn]||null;if(typeof O=="function")K||e4(f);else if(K){var ue=null;if(O&&O.hasAttribute("formAction")){if(N=O,K=O[Kn]||null)ue=K.formAction;else if(Ox(N)!==null)continue}else ue=K.action;typeof ue=="function"?f[v+1]=ue:(f.splice(v,3),v-=3),e4(f)}}}function t4(){function a(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(K){return N=K})},focusReset:"manual",scroll:"manual"})}function l(){N!==null&&(N(),N=null),v||setTimeout(f,20)}function f(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,N=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){v=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),N!==null&&(N(),N=null)}}}function Px(a){this._internalRoot=a}Pp.prototype.render=Px.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,v=Uo();W3(f,v,a,l,null,null)},Pp.prototype.unmount=Px.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;W3(a.current,2,null,a,null,null),fp(),l[ns]=null}};function Pp(a){this._internalRoot=a}Pp.prototype.unstable_scheduleHydration=function(a){if(a){var l=Rr();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Du.length&&l!==0&&l<Du[f].priority;f++);Du.splice(f,0,a),f===0&&J3(a)}};var n4=e.version;if(n4!=="19.2.3")throw Error(r(527,n4,"19.2.3"));Se.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=p(l),a=a!==null?b(a):null,a=a===null?null:a.stateNode,a};var s9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{Kt=Lp.inject(s9),at=Lp}catch{}}return M1.createRoot=function(a,l){if(!s(a))throw Error(r(299));var f=!1,v="",N=cw,O=uw,K=hw;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(N=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError)),l=q3(a,1,!1,null,null,f,v,null,N,O,K,t4),a[ns]=l.current,px(a),new Px(l)},M1.hydrateRoot=function(a,l,f){if(!s(a))throw Error(r(299));var v=!1,N="",O=cw,K=uw,ue=hw,Le=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onUncaughtError!==void 0&&(O=f.onUncaughtError),f.onCaughtError!==void 0&&(K=f.onCaughtError),f.onRecoverableError!==void 0&&(ue=f.onRecoverableError),f.formState!==void 0&&(Le=f.formState)),l=q3(a,1,!0,l,f??null,v,N,Le,O,K,ue,t4),l.context=G3(null),f=l.current,v=Uo(),v=Gn(v),N=Ln(v),N.callback=null,sr(f,N,v),f=v,l.current.lanes=f,on(l,f),Zl(l),a[ns]=l.current,px(a),new Pp(l)},M1.version="19.2.3",M1}var d4;function f9(){if(d4)return Mx.exports;d4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mx.exports=d9(),Mx.exports}var p9=f9();const g9=Em(p9);var f4="popstate";function m9(n={}){function e(r,s){let{pathname:i,search:u,hash:d}=r.location;return zy("",{pathname:i,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:a0(s)}return y9(e,t,null,n)}function Ks(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ol(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x9(){return Math.random().toString(36).substring(2,10)}function p4(n,e){return{usr:n.state,key:n.key,idx:e}}function zy(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Rf(e):e,state:t,key:e&&e.key||r||x9()}}function a0({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Rf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function y9(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,u=s.history,d="POP",g=null,p=b();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function b(){return(u.state||{idx:null}).idx}function _(){d="POP";let M=b(),j=M==null?null:M-p;p=M,g&&g({action:d,location:k.location,delta:j})}function I(M,j){d="PUSH";let J=zy(k.location,M,j);p=b()+1;let Z=p4(J,p),ee=k.createHref(J);try{u.pushState(Z,"",ee)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;s.location.assign(ee)}i&&g&&g({action:d,location:k.location,delta:1})}function S(M,j){d="REPLACE";let J=zy(k.location,M,j);p=b();let Z=p4(J,p),ee=k.createHref(J);u.replaceState(Z,"",ee),i&&g&&g({action:d,location:k.location,delta:0})}function P(M){return v9(M)}let k={get action(){return d},get location(){return n(s,u)},listen(M){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(f4,_),g=M,()=>{s.removeEventListener(f4,_),g=null}},createHref(M){return e(s,M)},createURL:P,encodeLocation(M){let j=P(M);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:S,go(M){return u.go(M)}};return k}function v9(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ks(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:a0(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function RC(n,e,t="/"){return b9(n,e,t,!1)}function b9(n,e,t,r){let s=typeof e=="string"?Rf(e):e,i=Kc(s.pathname||"/",t);if(i==null)return null;let u=OC(n);w9(u);let d=null;for(let g=0;d==null&&g<u.length;++g){let p=D9(i);d=R9(u[g],p,r)}return d}function OC(n,e=[],t=[],r="",s=!1){let i=(u,d,g=s,p)=>{let b={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&g)return;Ks(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let _=Xc([r,b.relativePath]),I=t.concat(b);u.children&&u.children.length>0&&(Ks(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),OC(u.children,e,I,_,g)),!(u.path==null&&!u.index)&&e.push({path:_,score:T9(_,u.index),routesMeta:I})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))i(u,d);else for(let g of DC(u.path))i(u,d,!0,g)}),e}function DC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let u=DC(r.join("/")),d=[];return d.push(...u.map(g=>g===""?i:[i,g].join("/"))),s&&d.push(...u),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function w9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:I9(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _9=/^:[\w-]+$/,A9=3,E9=2,C9=1,S9=10,N9=-2,g4=n=>n==="*";function T9(n,e){let t=n.split("/"),r=t.length;return t.some(g4)&&(r+=N9),e&&(r+=E9),t.filter(s=>!g4(s)).reduce((s,i)=>s+(_9.test(i)?A9:i===""?C9:S9),r)}function I9(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function R9(n,e,t=!1){let{routesMeta:r}=n,s={},i="/",u=[];for(let d=0;d<r.length;++d){let g=r[d],p=d===r.length-1,b=i==="/"?e:e.slice(i.length)||"/",_=Dg({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),I=g.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Dg({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Xc([i,_.pathname]),pathnameBase:M9(Xc([i,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(i=Xc([i,_.pathnameBase]))}return u}function Dg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=O9(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],u=i.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:b,isOptional:_},I)=>{if(b==="*"){let P=d[I]||"";u=i.slice(0,i.length-P.length).replace(/(.)\/+$/,"$1")}const S=d[I];return _&&!S?p[b]=void 0:p[b]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:i,pathnameBase:u,pattern:n}}function O9(n,e=!1,t=!0){Ol(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,g)=>(r.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function D9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ol(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var P9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function L9(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Rf(n):n,i;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?i=m4(t.substring(1),"/"):i=m4(t,e)):i=e,{pathname:i,search:j9(r),hash:F9(s)}}function m4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ux(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yv(n){let e=k9(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xv(n,e,t,r=!1){let s;typeof n=="string"?s=Rf(n):(s={...n},Ks(!s.pathname||!s.pathname.includes("?"),Ux("?","pathname","search",s)),Ks(!s.pathname||!s.pathname.includes("#"),Ux("#","pathname","hash",s)),Ks(!s.search||!s.search.includes("#"),Ux("#","search","hash",s)));let i=n===""||s.pathname==="",u=i?"/":s.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),_-=1;s.pathname=I.join("/")}d=_>=0?e[_]:"/"}let g=L9(s,d),p=u&&u!=="/"&&u.endsWith("/"),b=(i||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}var Xc=n=>n.join("/").replace(/\/\/+/g,"/"),M9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),j9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,F9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,B9=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function U9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function V9(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LC(n,e){let t=n;if(typeof t!="string"||!P9.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,s=!1;if(PC)try{let i=new URL(window.location.href),u=t.startsWith("//")?new URL(i.protocol+t):new URL(t),d=Kc(u.pathname,e);u.origin===i.origin&&d!=null?t=d+u.search+u.hash:s=!0}catch{Ol(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kC=["POST","PUT","PATCH","DELETE"];new Set(kC);var z9=["GET",...kC];new Set(z9);var Of=H.createContext(null);Of.displayName="DataRouter";var Cm=H.createContext(null);Cm.displayName="DataRouterState";var H9=H.createContext(!1),MC=H.createContext({isTransitioning:!1});MC.displayName="ViewTransition";var q9=H.createContext(new Map);q9.displayName="Fetchers";var G9=H.createContext(null);G9.displayName="Await";var $o=H.createContext(null);$o.displayName="Navigation";var E0=H.createContext(null);E0.displayName="Location";var mc=H.createContext({outlet:null,matches:[],isDataRoute:!1});mc.displayName="Route";var Qv=H.createContext(null);Qv.displayName="RouteError";var jC="REACT_ROUTER_ERROR",W9="REDIRECT",Y9="ROUTE_ERROR_RESPONSE";function X9(n){if(n.startsWith(`${jC}:${W9}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Q9(n){if(n.startsWith(`${jC}:${Y9}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new B9(e.status,e.statusText,e.data)}catch{}}function K9(n,{relative:e}={}){Ks(Df(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext($o),{hash:s,pathname:i,search:u}=C0(n,{relative:e}),d=i;return t!=="/"&&(d=i==="/"?t:Xc([t,i])),r.createHref({pathname:d,search:u,hash:s})}function Df(){return H.useContext(E0)!=null}function ou(){return Ks(Df(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(E0).location}var FC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BC(n){H.useContext($o).static||H.useLayoutEffect(n)}function Xh(){let{isDataRoute:n}=H.useContext(mc);return n?cO():$9()}function $9(){Ks(Df(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Of),{basename:e,navigator:t}=H.useContext($o),{matches:r}=H.useContext(mc),{pathname:s}=ou(),i=JSON.stringify(Yv(r)),u=H.useRef(!1);return BC(()=>{u.current=!0}),H.useCallback((g,p={})=>{if(Ol(u.current,FC),!u.current)return;if(typeof g=="number"){t.go(g);return}let b=Xv(g,JSON.parse(i),s,p.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Xc([e,b.pathname])),(p.replace?t.replace:t.push)(b,p.state,p)},[e,t,i,s,n])}H.createContext(null);function C0(n,{relative:e}={}){let{matches:t}=H.useContext(mc),{pathname:r}=ou(),s=JSON.stringify(Yv(t));return H.useMemo(()=>Xv(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function J9(n,e){return UC(n,e)}function UC(n,e,t,r,s){Ks(Df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=H.useContext($o),{matches:u}=H.useContext(mc),d=u[u.length-1],g=d?d.params:{},p=d?d.pathname:"/",b=d?d.pathnameBase:"/",_=d&&d.route;{let J=_&&_.path||"";zC(p,!_||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let I=ou(),S;if(e){let J=typeof e=="string"?Rf(e):e;Ks(b==="/"||J.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${J.pathname}" was given in the \`location\` prop.`),S=J}else S=I;let P=S.pathname||"/",k=P;if(b!=="/"){let J=b.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let M=RC(n,{pathname:k});Ol(_||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ol(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=rO(M&&M.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Xc([b,i.encodeLocation?i.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?b:Xc([b,i.encodeLocation?i.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),u,t,r,s);return e&&j?H.createElement(E0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function Z9(){let n=lO(),e=U9(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:i},"ErrorBoundary")," or"," ",H.createElement("code",{style:i},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:s},t):null,u)}var eO=H.createElement(Z9,null),VC=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Q9(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(mc.Provider,{value:this.props.routeContext},H.createElement(Qv.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(tO,{error:n},e):e}};VC.contextType=H9;var Vx=new WeakMap;function tO({children:n,error:e}){let{basename:t}=H.useContext($o);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=X9(e.digest);if(r){let s=Vx.get(e);if(s)throw s;let i=LC(r.location,t);if(PC&&!Vx.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Vx.set(e,u),u}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return n}function nO({routeContext:n,match:e,children:t}){let r=H.useContext(Of);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(mc.Provider,{value:n},t)}function rO(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,u=t?.errors;if(u!=null){let b=i.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Ks(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),i=i.slice(0,Math.min(i.length,b+1))}let d=!1,g=-1;if(t)for(let b=0;b<i.length;b++){let _=i[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=b),_.route.id){let{loaderData:I,errors:S}=t,P=_.route.loader&&!I.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||P){d=!0,g>=0?i=i.slice(0,g+1):i=[i[0]];break}}}let p=t&&r?(b,_)=>{r(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:V9(t.matches),errorInfo:_})}:void 0;return i.reduceRight((b,_,I)=>{let S,P=!1,k=null,M=null;t&&(S=u&&_.route.id?u[_.route.id]:void 0,k=_.route.errorElement||eO,d&&(g<0&&I===0?(zC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,M=null):g===I&&(P=!0,M=_.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,I+1)),J=()=>{let Z;return S?Z=k:P?Z=M:_.route.Component?Z=H.createElement(_.route.Component,null):_.route.element?Z=_.route.element:Z=b,H.createElement(nO,{match:_,routeContext:{outlet:b,matches:j,isDataRoute:t!=null},children:Z})};return t&&(_.route.ErrorBoundary||_.route.errorElement||I===0)?H.createElement(VC,{location:t.location,revalidation:t.revalidation,component:k,error:S,children:J(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):J()},null)}function Kv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sO(n){let e=H.useContext(Of);return Ks(e,Kv(n)),e}function aO(n){let e=H.useContext(Cm);return Ks(e,Kv(n)),e}function iO(n){let e=H.useContext(mc);return Ks(e,Kv(n)),e}function $v(n){let e=iO(n),t=e.matches[e.matches.length-1];return Ks(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oO(){return $v("useRouteId")}function lO(){let n=H.useContext(Qv),e=aO("useRouteError"),t=$v("useRouteError");return n!==void 0?n:e.errors?.[t]}function cO(){let{router:n}=sO("useNavigate"),e=$v("useNavigate"),t=H.useRef(!1);return BC(()=>{t.current=!0}),H.useCallback(async(s,i={})=>{Ol(t.current,FC),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...i}))},[n,e])}var x4={};function zC(n,e,t){!e&&!x4[n]&&(x4[n]=!0,Ol(!1,t))}H.memo(uO);function uO({routes:n,future:e,state:t,onError:r}){return UC(n,void 0,t,r,e)}function Pg({to:n,replace:e,state:t,relative:r}){Ks(Df(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=H.useContext($o);Ol(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=H.useContext(mc),{pathname:u}=ou(),d=Xh(),g=Xv(n,Yv(i),u,r==="path"),p=JSON.stringify(g);return H.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function to(n){Ks(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:u}){Ks(!Df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:d,navigator:s,static:i,unstable_useTransitions:u,future:{}}),[d,s,i,u]);typeof t=="string"&&(t=Rf(t));let{pathname:p="/",search:b="",hash:_="",state:I=null,key:S="default"}=t,P=H.useMemo(()=>{let k=Kc(p,d);return k==null?null:{location:{pathname:k,search:b,hash:_,state:I,key:S},navigationType:r}},[d,p,b,_,I,S,r]);return Ol(P!=null,`<Router basename="${d}"> is not able to match the URL "${p}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement($o.Provider,{value:g},H.createElement(E0.Provider,{children:e,value:P}))}function dO({children:n,location:e}){return J9(Hy(n),e)}function Hy(n,e=[]){let t=[];return H.Children.forEach(n,(r,s)=>{if(!H.isValidElement(r))return;let i=[...e,s];if(r.type===H.Fragment){t.push.apply(t,Hy(r.props.children,i));return}Ks(r.type===to,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ks(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Hy(r.props.children,i)),t.push(u)}),t}var ug="get",hg="application/x-www-form-urlencoded";function Sm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function fO(n){return Sm(n)&&n.tagName.toLowerCase()==="button"}function pO(n){return Sm(n)&&n.tagName.toLowerCase()==="form"}function gO(n){return Sm(n)&&n.tagName.toLowerCase()==="input"}function mO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xO(n,e){return n.button===0&&(!e||e==="_self")&&!mO(n)}var Mp=null;function yO(){if(Mp===null)try{new FormData(document.createElement("form"),0),Mp=!1}catch{Mp=!0}return Mp}var vO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zx(n){return n!=null&&!vO.has(n)?(Ol(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hg}"`),null):n}function bO(n,e){let t,r,s,i,u;if(pO(n)){let d=n.getAttribute("action");r=d?Kc(d,e):null,t=n.getAttribute("method")||ug,s=zx(n.getAttribute("enctype"))||hg,i=new FormData(n)}else if(fO(n)||gO(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(r=g?Kc(g,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ug,s=zx(n.getAttribute("formenctype"))||zx(d.getAttribute("enctype"))||hg,i=new FormData(d,n),!yO()){let{name:p,type:b,value:_}=n;if(b==="image"){let I=p?`${p}.`:"";i.append(`${I}x`,"0"),i.append(`${I}y`,"0")}else p&&i.append(p,_)}}else{if(Sm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ug,r=null,s=hg,u=n}return i&&s==="text/plain"&&(u=i,i=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:i,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wO(n,e,t,r){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Kc(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function _O(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EO(n,e,t){let r=await Promise.all(n.map(async s=>{let i=e.routes[s.route.id];if(i){let u=await _O(i,t);return u.links?u.links():[]}return[]}));return TO(r.flat(1).filter(AO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function y4(n,e,t,r,s,i){let u=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,d=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return i==="assets"?e.filter((g,p)=>u(g,p)||d(g,p)):i==="data"?e.filter((g,p)=>{let b=r.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(u(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function CO(n,e,{includeHydrateFallback:t}={}){return SO(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function SO(n){return[...new Set(n)]}function NO(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function TO(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let i=JSON.stringify(NO(s));return t.has(i)||(t.add(i),r.push({key:i,link:s})),r},[])}function HC(){let n=H.useContext(Of);return Jv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IO(){let n=H.useContext(Cm);return Jv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zv=H.createContext(void 0);Zv.displayName="FrameworkContext";function qC(){let n=H.useContext(Zv);return Jv(n,"You must render this element inside a <HydratedRouter> element"),n}function RO(n,e){let t=H.useContext(Zv),[r,s]=H.useState(!1),[i,u]=H.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:b,onTouchStart:_}=e,I=H.useRef(null);H.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let k=j=>{j.forEach(J=>{u(J.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return I.current&&M.observe(I.current),()=>{M.disconnect()}}},[n]),H.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let S=()=>{s(!0)},P=()=>{s(!1),u(!1)};return t?n!=="intent"?[i,I,{}]:[i,I,{onFocus:j1(d,S),onBlur:j1(g,P),onMouseEnter:j1(p,S),onMouseLeave:j1(b,P),onTouchStart:j1(_,S)}]:[!1,I,{}]}function j1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OO({page:n,...e}){let{router:t}=HC(),r=H.useMemo(()=>RC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(PO,{page:n,matches:r,...e}):null}function DO(n){let{manifest:e,routeModules:t}=qC(),[r,s]=H.useState([]);return H.useEffect(()=>{let i=!1;return EO(n,e,t).then(u=>{i||s(u)}),()=>{i=!0}},[n,e,t]),r}function PO({page:n,matches:e,...t}){let r=ou(),{future:s,manifest:i,routeModules:u}=qC(),{basename:d}=HC(),{loaderData:g,matches:p}=IO(),b=H.useMemo(()=>y4(n,e,p,i,r,"data"),[n,e,p,i,r]),_=H.useMemo(()=>y4(n,e,p,i,r,"assets"),[n,e,p,i,r]),I=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,M=!1;if(e.forEach(J=>{let Z=i.routes[J.route.id];!Z||!Z.hasLoader||(!b.some(ee=>ee.route.id===J.route.id)&&J.route.id in g&&u[J.route.id]?.shouldRevalidate||Z.hasClientLoader?M=!0:k.add(J.route.id))}),k.size===0)return[];let j=wO(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return M&&k.size>0&&j.searchParams.set("_routes",e.filter(J=>k.has(J.route.id)).map(J=>J.route.id).join(",")),[j.pathname+j.search]},[d,s.unstable_trailingSlashAwareDataRequests,g,r,i,b,e,n,u]),S=H.useMemo(()=>CO(_,i),[_,i]),P=DO(_);return H.createElement(H.Fragment,null,I.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),S.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),P.map(({key:k,link:M})=>H.createElement("link",{key:k,nonce:t.nonce,...M,crossOrigin:M.crossOrigin??t.crossOrigin})))}function LO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kO&&(window.__reactRouterVersion="7.13.0")}catch{}function MO({basename:n,children:e,unstable_useTransitions:t,window:r}){let s=H.useRef();s.current==null&&(s.current=m9({window:r,v5Compat:!0}));let i=s.current,[u,d]=H.useState({action:i.action,location:i.location}),g=H.useCallback(p=>{t===!1?d(p):H.startTransition(()=>d(p))},[t]);return H.useLayoutEffect(()=>i.listen(g),[i,g]),H.createElement(hO,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:i,unstable_useTransitions:t})}var GC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WC=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:i,replace:u,state:d,target:g,to:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:I,...S},P){let{basename:k,unstable_useTransitions:M}=H.useContext($o),j=typeof p=="string"&&GC.test(p),J=LC(p,k);p=J.to;let Z=K9(p,{relative:s}),[ee,we,Re]=RO(r,S),Y=UO(p,{replace:u,state:d,target:g,preventScrollReset:b,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:I,unstable_useTransitions:M});function U(te){e&&e(te),te.defaultPrevented||Y(te)}let F=H.createElement("a",{...S,...Re,href:J.absoluteURL||Z,onClick:J.isExternal||i?e:U,ref:LO(P,we),target:g,"data-discover":!j&&t==="render"?"true":void 0});return ee&&!j?H.createElement(H.Fragment,null,F,H.createElement(OO,{page:Z})):F});WC.displayName="Link";var jO=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:i,to:u,viewTransition:d,children:g,...p},b){let _=C0(u,{relative:p.relative}),I=ou(),S=H.useContext(Cm),{navigator:P,basename:k}=H.useContext($o),M=S!=null&&GO(_)&&d===!0,j=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,J=I.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(J=J.toLowerCase(),Z=Z?Z.toLowerCase():null,j=j.toLowerCase()),Z&&k&&(Z=Kc(Z,k)||Z);const ee=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let we=J===j||!s&&J.startsWith(j)&&J.charAt(ee)==="/",Re=Z!=null&&(Z===j||!s&&Z.startsWith(j)&&Z.charAt(j.length)==="/"),Y={isActive:we,isPending:Re,isTransitioning:M},U=we?e:void 0,F;typeof r=="function"?F=r(Y):F=[r,we?"active":null,Re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let te=typeof i=="function"?i(Y):i;return H.createElement(WC,{...p,"aria-current":U,className:F,ref:b,style:te,to:u,viewTransition:d},typeof g=="function"?g(Y):g)});jO.displayName="NavLink";var FO=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:i,method:u=ug,action:d,onSubmit:g,relative:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:I,...S},P)=>{let{unstable_useTransitions:k}=H.useContext($o),M=HO(),j=qO(d,{relative:p}),J=u.toLowerCase()==="get"?"get":"post",Z=typeof d=="string"&&GC.test(d),ee=we=>{if(g&&g(we),we.defaultPrevented)return;we.preventDefault();let Re=we.nativeEvent.submitter,Y=Re?.getAttribute("formmethod")||u,U=()=>M(Re||we.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:s,state:i,relative:p,preventScrollReset:b,viewTransition:_,unstable_defaultShouldRevalidate:I});k&&t!==!1?H.startTransition(()=>U()):U()};return H.createElement("form",{ref:P,method:J,action:j,onSubmit:r?g:ee,...S,"data-discover":!Z&&n==="render"?"true":void 0})});FO.displayName="Form";function BO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(n){let e=H.useContext(Of);return Ks(e,BO(n)),e}function UO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:g}={}){let p=Xh(),b=ou(),_=C0(n,{relative:i});return H.useCallback(I=>{if(xO(I,e)){I.preventDefault();let S=t!==void 0?t:a0(b)===a0(_),P=()=>p(n,{replace:S,state:r,preventScrollReset:s,relative:i,viewTransition:u,unstable_defaultShouldRevalidate:d});g?H.startTransition(()=>P()):P()}},[b,p,_,t,r,e,n,s,i,u,d,g])}var VO=0,zO=()=>`__${String(++VO)}__`;function HO(){let{router:n}=YC("useSubmit"),{basename:e}=H.useContext($o),t=oO(),r=n.fetch,s=n.navigate;return H.useCallback(async(i,u={})=>{let{action:d,method:g,encType:p,formData:b,body:_}=bO(i,e);if(u.navigate===!1){let I=u.fetcherKey||zO();await r(I,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:_,formMethod:u.method||g,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:b,body:_,formMethod:u.method||g,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function qO(n,{relative:e}={}){let{basename:t}=H.useContext($o),r=H.useContext(mc);Ks(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...C0(n||".",{relative:e})},u=ou();if(n==null){i.search=u.search;let d=new URLSearchParams(i.search),g=d.getAll("index");if(g.some(b=>b==="")){d.delete("index"),g.filter(_=>_).forEach(_=>d.append("index",_));let b=d.toString();i.search=b?`?${b}`:""}}return(!n||n===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Xc([t,i.pathname])),a0(i)}function GO(n,{relative:e}={}){let t=H.useContext(MC);Ks(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YC("useViewTransitionState"),s=C0(n,{relative:e});if(!t.isTransitioning)return!1;let i=Kc(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Kc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Dg(s.pathname,u)!=null||Dg(s.pathname,i)!=null}var e5=IC();const WO=Em(e5);const YO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),v4=n=>{const e=XO(n);return e.charAt(0).toUpperCase()+e.slice(1)},XC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),QO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var KO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $O=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:u,...d},g)=>H.createElement("svg",{ref:g,...KO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:XC("lucide",s),...!i&&!QO(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,b])=>H.createElement(p,b)),...Array.isArray(i)?i:[i]]));const On=(n,e)=>{const t=H.forwardRef(({className:r,...s},i)=>H.createElement($O,{ref:i,iconNode:e,className:XC(`lucide-${YO(v4(n))}`,`lucide-${n}`,r),...s}));return t.displayName=v4(n),t};const JO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZO=On("arrow-left",JO);const eD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tD=On("arrow-right",eD);const nD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],i0=On("briefcase",nD);const rD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],b4=On("building-2",rD);const sD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],t5=On("calculator",sD);const aD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iD=On("calendar",aD);const oD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nm=On("camera",oD);const lD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],cD=On("chart-column",lD);const uD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hD=On("chevron-right",uD);const dD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S0=On("circle-check-big",dD);const fD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],o0=On("circle-dot",fD);const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],gD=On("circle-user",pD);const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yf=On("circle-x",mD);const xD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vf=On("clock",xD);const yD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w4=On("dollar-sign",yD);const vD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QC=On("download",vD);const bD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Pf=On("ellipsis-vertical",bD);const wD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_D=On("eye-off",wD);const AD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KC=On("eye",AD);const ED=[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.8",key:"1kchwa"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}],["path",{d:"M3 13.1a2 2 0 0 0-.999 1.76v3.24a2 2 0 0 0 .969 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01z",key:"19flxy"}],["path",{d:"M7 17v5",key:"1yj1jh"}]],CD=On("file-box",ED);const SD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kh=On("file-text",SD);const ND=[["path",{d:"M11.652 6H18",key:"voqkpr"}],["path",{d:"M12 13v1",key:"176q98"}],["path",{d:"M16 16v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-8a4 4 0 0 0-.8-2.4l-.6-.8A3 3 0 0 1 6 7V6",key:"dzyf92"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7.649 2H17a1 1 0 0 1 1 1v4a3 3 0 0 1-.6 1.8l-.6.8a4 4 0 0 0-.55 1.007",key:"1hvcfn"}]],TD=On("flashlight-off",ND);const ID=[["path",{d:"M12 13v1",key:"176q98"}],["path",{d:"M17 2a1 1 0 0 1 1 1v4a3 3 0 0 1-.6 1.8l-.6.8A4 4 0 0 0 16 12v8a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-8a4 4 0 0 0-.8-2.4l-.6-.8A3 3 0 0 1 6 7V3a1 1 0 0 1 1-1z",key:"17vh7j"}],["path",{d:"M6 6h12",key:"n6hhss"}]],RD=On("flashlight",ID);const OD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],n5=On("image",OD);const DD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],$C=On("import",DD);const PD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],LD=On("info",PD);const kD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MD=On("layout-dashboard",kD);const jD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FD=On("lock",jD);const BD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UD=On("log-out",BD);const VD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JC=On("mail",VD);const zD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ZC=On("map-pin",zD);const HD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_4=On("menu",HD);const qD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Nl=On("package",qD);const GD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],eS=On("pause",GD);const WD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],YD=On("phone",WD);const XD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],A4=On("play",XD);const QD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$c=On("plus",QD);const KD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ui=On("printer",KD);const $D=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Tm=On("qr-code",$D);const JD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ZD=On("rotate-ccw",JD);const eP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tP=On("save",eP);const nP=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],tS=On("scan-line",nP);const rP=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],sP=On("scan",rP);const aP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lf=On("search",aP);const iP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nS=On("send",iP);const oP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rS=On("settings",oP);const lP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Mh=On("square-pen",lP);const cP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uP=On("star",cP);const hP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qh=On("trash-2",hP);const dP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lg=On("trending-up",dP);const fP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sS=On("triangle-alert",fP);const pP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gP=On("user-cog",pP);const mP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xP=On("user-plus",mP);const yP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kg=On("users",yP);const vP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bf=On("x",vP);function E4(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function oh(...n){return e=>{let t=!1;const r=n.map(s=>{const i=E4(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():E4(n[s],null)}}}}function Us(...n){return H.useCallback(oh(...n),n)}var bP=Symbol.for("react.lazy"),Mg=Wv[" use ".trim().toString()];function wP(n){return typeof n=="object"&&n!==null&&"then"in n}function aS(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===bP&&"_payload"in n&&wP(n._payload)}function r5(n){const e=_P(n),t=H.forwardRef((r,s)=>{let{children:i,...u}=r;aS(i)&&typeof Mg=="function"&&(i=Mg(i._payload));const d=H.Children.toArray(i),g=d.find(EP);if(g){const p=g.props.children,b=d.map(_=>_===g?H.Children.count(p)>1?H.Children.only(null):H.isValidElement(p)?p.props.children:null:_);return x.jsx(e,{...u,ref:s,children:H.isValidElement(p)?H.cloneElement(p,void 0,b):null})}return x.jsx(e,{...u,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var iS=r5("Slot");function _P(n){const e=H.forwardRef((t,r)=>{let{children:s,...i}=t;if(aS(s)&&typeof Mg=="function"&&(s=Mg(s._payload)),H.isValidElement(s)){const u=SP(s),d=CP(i,s.props);return s.type!==H.Fragment&&(d.ref=r?oh(r,u):u),H.cloneElement(s,d)}return H.Children.count(s)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var AP=Symbol("radix.slottable");function EP(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===AP}function CP(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...d)=>{const g=i(...d);return s(...d),g}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function SP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function oS(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=oS(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function lS(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=oS(n))&&(r&&(r+=" "),r+=e);return r}const C4=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,S4=lS,cS=(n,e)=>t=>{var r;if(e?.variants==null)return S4(n,t?.class,t?.className);const{variants:s,defaultVariants:i}=e,u=Object.keys(s).map(p=>{const b=t?.[p],_=i?.[p];if(b===null)return null;const I=C4(b)||C4(_);return s[p][I]}),d=t&&Object.entries(t).reduce((p,b)=>{let[_,I]=b;return I===void 0||(p[_]=I),p},{}),g=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,b)=>{let{class:_,className:I,...S}=b;return Object.entries(S).every(P=>{let[k,M]=P;return Array.isArray(M)?M.includes({...i,...d}[k]):{...i,...d}[k]===M})?[...p,_,I]:p},[]);return S4(n,u,g,t?.class,t?.className)},NP=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},TP=(n,e)=>({classGroupId:n,validator:e}),uS=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),jg="-",N4=[],IP="arbitrary..",RP=n=>{const e=DP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return OP(u);const d=u.split(jg),g=d[0]===""&&d.length>1?1:0;return hS(d,g,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const g=r[u],p=t[u];return g?p?NP(p,g):g:p||N4}return t[u]||N4}}},hS=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],i=t.nextPart.get(s);if(i){const p=hS(n,e+1,i);if(p)return p}const u=t.validators;if(u===null)return;const d=e===0?n.join(jg):n.slice(e).join(jg),g=u.length;for(let p=0;p<g;p++){const b=u[p];if(b.validator(d))return b.classGroupId}},OP=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?IP+r:void 0})(),DP=n=>{const{theme:e,classGroups:t}=n;return PP(t,e)},PP=(n,e)=>{const t=uS();for(const r in n){const s=n[r];s5(s,t,r,e)}return t},s5=(n,e,t,r)=>{const s=n.length;for(let i=0;i<s;i++){const u=n[i];LP(u,e,t,r)}},LP=(n,e,t,r)=>{if(typeof n=="string"){kP(n,e,t);return}if(typeof n=="function"){MP(n,e,t,r);return}jP(n,e,t,r)},kP=(n,e,t)=>{const r=n===""?e:dS(e,n);r.classGroupId=t},MP=(n,e,t,r)=>{if(FP(n)){s5(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(TP(t,n))},jP=(n,e,t,r)=>{const s=Object.entries(n),i=s.length;for(let u=0;u<i;u++){const[d,g]=s[u];s5(g,dS(e,d),t,r)}},dS=(n,e)=>{let t=n;const r=e.split(jg),s=r.length;for(let i=0;i<s;i++){const u=r[i];let d=t.nextPart.get(u);d||(d=uS(),t.nextPart.set(u,d)),t=d}return t},FP=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,BP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const s=(i,u)=>{t[i]=u,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(i){let u=t[i];if(u!==void 0)return u;if((u=r[i])!==void 0)return s(i,u),u},set(i,u){i in t?t[i]=u:s(i,u)}}},qy="!",T4=":",UP=[],I4=(n,e,t,r,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:s}),VP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const i=[];let u=0,d=0,g=0,p;const b=s.length;for(let k=0;k<b;k++){const M=s[k];if(u===0&&d===0){if(M===T4){i.push(s.slice(g,k)),g=k+1;continue}if(M==="/"){p=k;continue}}M==="["?u++:M==="]"?u--:M==="("?d++:M===")"&&d--}const _=i.length===0?s:s.slice(g);let I=_,S=!1;_.endsWith(qy)?(I=_.slice(0,-1),S=!0):_.startsWith(qy)&&(I=_.slice(1),S=!0);const P=p&&p>g?p-g:void 0;return I4(i,S,I,P)};if(e){const s=e+T4,i=r;r=u=>u.startsWith(s)?i(u.slice(s.length)):I4(UP,!1,u,void 0,!0)}if(t){const s=r;r=i=>t({className:i,parseClassName:s})}return r},zP=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let s=[];for(let i=0;i<t.length;i++){const u=t[i],d=u[0]==="[",g=e.has(u);d||g?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(u)):s.push(u)}return s.length>0&&(s.sort(),r.push(...s)),r}},HP=n=>({cache:BP(n.cacheSize),parseClassName:VP(n),sortModifiers:zP(n),...RP(n)}),qP=/\s+/,GP=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,u=[],d=n.trim().split(qP);let g="";for(let p=d.length-1;p>=0;p-=1){const b=d[p],{isExternal:_,modifiers:I,hasImportantModifier:S,baseClassName:P,maybePostfixModifierPosition:k}=t(b);if(_){g=b+(g.length>0?" "+g:g);continue}let M=!!k,j=r(M?P.substring(0,k):P);if(!j){if(!M){g=b+(g.length>0?" "+g:g);continue}if(j=r(P),!j){g=b+(g.length>0?" "+g:g);continue}M=!1}const J=I.length===0?"":I.length===1?I[0]:i(I).join(":"),Z=S?J+qy:J,ee=Z+j;if(u.indexOf(ee)>-1)continue;u.push(ee);const we=s(j,M);for(let Re=0;Re<we.length;++Re){const Y=we[Re];u.push(Z+Y)}g=b+(g.length>0?" "+g:g)}return g},WP=(...n)=>{let e=0,t,r,s="";for(;e<n.length;)(t=n[e++])&&(r=fS(t))&&(s&&(s+=" "),s+=r);return s},fS=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=fS(n[r]))&&(t&&(t+=" "),t+=e);return t},YP=(n,...e)=>{let t,r,s,i;const u=g=>{const p=e.reduce((b,_)=>_(b),n());return t=HP(p),r=t.cache.get,s=t.cache.set,i=d,d(g)},d=g=>{const p=r(g);if(p)return p;const b=GP(g,t);return s(g,b),b};return i=u,(...g)=>i(WP(...g))},XP=[],hi=n=>{const e=t=>t[n]||XP;return e.isThemeGetter=!0,e},pS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QP=/^\d+\/\d+$/,KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$P=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ZP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zd=n=>QP.test(n),gr=n=>!!n&&!Number.isNaN(Number(n)),Lu=n=>!!n&&Number.isInteger(Number(n)),Hx=n=>n.endsWith("%")&&gr(n.slice(0,-1)),Uc=n=>KP.test(n),tL=()=>!0,nL=n=>$P.test(n)&&!JP.test(n),mS=()=>!1,rL=n=>ZP.test(n),sL=n=>eL.test(n),aL=n=>!rn(n)&&!sn(n),iL=n=>kf(n,vS,mS),rn=n=>pS.test(n),Nh=n=>kf(n,bS,nL),qx=n=>kf(n,hL,gr),R4=n=>kf(n,xS,mS),oL=n=>kf(n,yS,sL),jp=n=>kf(n,wS,rL),sn=n=>gS.test(n),F1=n=>Mf(n,bS),lL=n=>Mf(n,dL),O4=n=>Mf(n,xS),cL=n=>Mf(n,vS),uL=n=>Mf(n,yS),Fp=n=>Mf(n,wS,!0),kf=(n,e,t)=>{const r=pS.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Mf=(n,e,t=!1)=>{const r=gS.exec(n);return r?r[1]?e(r[1]):t:!1},xS=n=>n==="position"||n==="percentage",yS=n=>n==="image"||n==="url",vS=n=>n==="length"||n==="size"||n==="bg-size",bS=n=>n==="length",hL=n=>n==="number",dL=n=>n==="family-name",wS=n=>n==="shadow",fL=()=>{const n=hi("color"),e=hi("font"),t=hi("text"),r=hi("font-weight"),s=hi("tracking"),i=hi("leading"),u=hi("breakpoint"),d=hi("container"),g=hi("spacing"),p=hi("radius"),b=hi("shadow"),_=hi("inset-shadow"),I=hi("text-shadow"),S=hi("drop-shadow"),P=hi("blur"),k=hi("perspective"),M=hi("aspect"),j=hi("ease"),J=hi("animate"),Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],we=()=>[...ee(),sn,rn],Re=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],U=()=>[sn,rn,g],F=()=>[zd,"full","auto",...U()],te=()=>[Lu,"none","subgrid",sn,rn],z=()=>["auto",{span:["full",Lu,sn,rn]},Lu,sn,rn],q=()=>[Lu,"auto",sn,rn],X=()=>["auto","min","max","fr",sn,rn],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...U()],Se=()=>[zd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],ye=()=>[n,sn,rn],De=()=>[...ee(),O4,R4,{position:[sn,rn]}],rt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],me=()=>["auto","cover","contain",cL,iL,{size:[sn,rn]}],$=()=>[Hx,F1,Nh],le=()=>["","none","full",p,sn,rn],he=()=>["",gr,F1,Nh],Ie=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[gr,Hx,O4,R4],ze=()=>["","none",P,sn,rn],We=()=>["none",gr,sn,rn],it=()=>["none",gr,sn,rn],mt=()=>[gr,sn,rn],Nt=()=>[zd,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Uc],breakpoint:[Uc],color:[tL],container:[Uc],"drop-shadow":[Uc],ease:["in","out","in-out"],font:[aL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Uc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Uc],shadow:[Uc],spacing:["px",gr],text:[Uc],"text-shadow":[Uc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zd,rn,sn,M]}],container:["container"],columns:[{columns:[gr,rn,sn,d]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:we()}],overflow:[{overflow:Re()}],"overflow-x":[{"overflow-x":Re()}],"overflow-y":[{"overflow-y":Re()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Lu,"auto",sn,rn]}],basis:[{basis:[zd,"full","auto",d,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gr,zd,"auto","initial","none",rn]}],grow:[{grow:["",gr,sn,rn]}],shrink:[{shrink:["",gr,sn,rn]}],order:[{order:[Lu,"first","last","none",sn,rn]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:Se()}],w:[{w:[d,"screen",...Se()]}],"min-w":[{"min-w":[d,"screen","none",...Se()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Se()]}],h:[{h:["screen","lh",...Se()]}],"min-h":[{"min-h":["screen","lh","none",...Se()]}],"max-h":[{"max-h":["screen","lh",...Se()]}],"font-size":[{text:["base",t,F1,Nh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,sn,qx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hx,rn]}],"font-family":[{font:[lL,rn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,sn,rn]}],"line-clamp":[{"line-clamp":[gr,"none",sn,qx]}],leading:[{leading:[i,...U()]}],"list-image":[{"list-image":["none",sn,rn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",sn,rn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ye()}],"text-color":[{text:ye()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[gr,"from-font","auto",sn,Nh]}],"text-decoration-color":[{decoration:ye()}],"underline-offset":[{"underline-offset":[gr,"auto",sn,rn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sn,rn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sn,rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:rt()}],"bg-size":[{bg:me()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lu,sn,rn],radial:["",sn,rn],conic:[Lu,sn,rn]},uL,oL]}],"bg-color":[{bg:ye()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:ye()}],"gradient-via":[{via:ye()}],"gradient-to":[{to:ye()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:ye()}],"border-color-x":[{"border-x":ye()}],"border-color-y":[{"border-y":ye()}],"border-color-s":[{"border-s":ye()}],"border-color-e":[{"border-e":ye()}],"border-color-t":[{"border-t":ye()}],"border-color-r":[{"border-r":ye()}],"border-color-b":[{"border-b":ye()}],"border-color-l":[{"border-l":ye()}],"divide-color":[{divide:ye()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gr,sn,rn]}],"outline-w":[{outline:["",gr,F1,Nh]}],"outline-color":[{outline:ye()}],shadow:[{shadow:["","none",b,Fp,jp]}],"shadow-color":[{shadow:ye()}],"inset-shadow":[{"inset-shadow":["none",_,Fp,jp]}],"inset-shadow-color":[{"inset-shadow":ye()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ye()}],"ring-offset-w":[{"ring-offset":[gr,Nh]}],"ring-offset-color":[{"ring-offset":ye()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":ye()}],"text-shadow":[{"text-shadow":["none",I,Fp,jp]}],"text-shadow-color":[{"text-shadow":ye()}],opacity:[{opacity:[gr,sn,rn]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gr]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":ye()}],"mask-image-linear-to-color":[{"mask-linear-to":ye()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":ye()}],"mask-image-t-to-color":[{"mask-t-to":ye()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":ye()}],"mask-image-r-to-color":[{"mask-r-to":ye()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":ye()}],"mask-image-b-to-color":[{"mask-b-to":ye()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":ye()}],"mask-image-l-to-color":[{"mask-l-to":ye()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":ye()}],"mask-image-x-to-color":[{"mask-x-to":ye()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":ye()}],"mask-image-y-to-color":[{"mask-y-to":ye()}],"mask-image-radial":[{"mask-radial":[sn,rn]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":ye()}],"mask-image-radial-to-color":[{"mask-radial-to":ye()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ee()}],"mask-image-conic-pos":[{"mask-conic":[gr]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":ye()}],"mask-image-conic-to-color":[{"mask-conic-to":ye()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:rt()}],"mask-size":[{mask:me()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",sn,rn]}],filter:[{filter:["","none",sn,rn]}],blur:[{blur:ze()}],brightness:[{brightness:[gr,sn,rn]}],contrast:[{contrast:[gr,sn,rn]}],"drop-shadow":[{"drop-shadow":["","none",S,Fp,jp]}],"drop-shadow-color":[{"drop-shadow":ye()}],grayscale:[{grayscale:["",gr,sn,rn]}],"hue-rotate":[{"hue-rotate":[gr,sn,rn]}],invert:[{invert:["",gr,sn,rn]}],saturate:[{saturate:[gr,sn,rn]}],sepia:[{sepia:["",gr,sn,rn]}],"backdrop-filter":[{"backdrop-filter":["","none",sn,rn]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[gr,sn,rn]}],"backdrop-contrast":[{"backdrop-contrast":[gr,sn,rn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gr,sn,rn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gr,sn,rn]}],"backdrop-invert":[{"backdrop-invert":["",gr,sn,rn]}],"backdrop-opacity":[{"backdrop-opacity":[gr,sn,rn]}],"backdrop-saturate":[{"backdrop-saturate":[gr,sn,rn]}],"backdrop-sepia":[{"backdrop-sepia":["",gr,sn,rn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",sn,rn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gr,"initial",sn,rn]}],ease:[{ease:["linear","initial",j,sn,rn]}],delay:[{delay:[gr,sn,rn]}],animate:[{animate:["none",J,sn,rn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,sn,rn]}],"perspective-origin":[{"perspective-origin":we()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[sn,rn,"","none","gpu","cpu"]}],"transform-origin":[{origin:we()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Nt()}],"translate-x":[{"translate-x":Nt()}],"translate-y":[{"translate-y":Nt()}],"translate-z":[{"translate-z":Nt()}],"translate-none":["translate-none"],accent:[{accent:ye()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ye()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sn,rn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sn,rn]}],fill:[{fill:["none",...ye()]}],"stroke-w":[{stroke:[gr,F1,Nh,qx]}],stroke:[{stroke:["none",...ye()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pL=YP(fL);function Cs(...n){return pL(lS(n))}const gL=cS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function cn({className:n,variant:e="default",size:t="default",asChild:r=!1,...s}){const i=r?iS:"button";return x.jsx(i,{"code-path":"src/components/ui/button.tsx:52:5","data-slot":"button","data-variant":e,"data-size":t,className:Cs(gL({variant:e,size:t,className:n})),...s})}function Un(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function mL(n,e){const t=H.createContext(e),r=i=>{const{children:u,...d}=i,g=H.useMemo(()=>d,Object.values(d));return x.jsx(t.Provider,{value:g,children:u})};r.displayName=n+"Provider";function s(i){const u=H.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,s]}function lu(n,e=[]){let t=[];function r(i,u){const d=H.createContext(u),g=t.length;t=[...t,u];const p=_=>{const{scope:I,children:S,...P}=_,k=I?.[n]?.[g]||d,M=H.useMemo(()=>P,Object.values(P));return x.jsx(k.Provider,{value:M,children:S})};p.displayName=i+"Provider";function b(_,I){const S=I?.[n]?.[g]||d,P=H.useContext(S);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${i}\``)}return[p,b]}const s=()=>{const i=t.map(u=>H.createContext(u));return function(d){const g=d?.[n]||i;return H.useMemo(()=>({[`__scope${n}`]:{...d,[n]:g}}),[d,g])}};return s.scopeName=n,[r,xL(s,...e)]}function xL(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const u=r.reduce((d,{useScope:g,scopeName:p})=>{const _=g(i)[`__scope${p}`];return{...d,..._}},{});return H.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var Ku=globalThis?.document?H.useLayoutEffect:()=>{},yL=Wv[" useId ".trim().toString()]||(()=>{}),vL=0;function Dh(n){const[e,t]=H.useState(yL());return Ku(()=>{t(r=>r??String(vL++))},[n]),n||(e?`radix-${e}`:"")}var bL=Wv[" useInsertionEffect ".trim().toString()]||Ku;function jf({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,u]=wL({defaultProp:e,onChange:t}),d=n!==void 0,g=d?n:s;{const b=H.useRef(n!==void 0);H.useEffect(()=>{const _=b.current;_!==d&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=d},[d,r])}const p=H.useCallback(b=>{if(d){const _=_L(b)?b(n):b;_!==n&&u.current?.(_)}else i(b)},[d,n,i,u]);return[g,p]}function wL({defaultProp:n,onChange:e}){const[t,r]=H.useState(n),s=H.useRef(t),i=H.useRef(e);return bL(()=>{i.current=e},[e]),H.useEffect(()=>{s.current!==t&&(i.current?.(t),s.current=t)},[t,s]),[t,r,i]}function _L(n){return typeof n=="function"}function AL(n){const e=EL(n),t=H.forwardRef((r,s)=>{const{children:i,...u}=r,d=H.Children.toArray(i),g=d.find(SL);if(g){const p=g.props.children,b=d.map(_=>_===g?H.Children.count(p)>1?H.Children.only(null):H.isValidElement(p)?p.props.children:null:_);return x.jsx(e,{...u,ref:s,children:H.isValidElement(p)?H.cloneElement(p,void 0,b):null})}return x.jsx(e,{...u,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function EL(n){const e=H.forwardRef((t,r)=>{const{children:s,...i}=t;if(H.isValidElement(s)){const u=TL(s),d=NL(i,s.props);return s.type!==H.Fragment&&(d.ref=r?oh(r,u):u),H.cloneElement(s,d)}return H.Children.count(s)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var CL=Symbol("radix.slottable");function SL(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===CL}function NL(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...d)=>{const g=i(...d);return s(...d),g}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function TL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var IL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jr=IL.reduce((n,e)=>{const t=AL(`Primitive.${e}`),r=H.forwardRef((s,i)=>{const{asChild:u,...d}=s,g=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(g,{...d,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function _S(n,e){n&&e5.flushSync(()=>n.dispatchEvent(e))}function Jc(n){const e=H.useRef(n);return H.useEffect(()=>{e.current=n}),H.useMemo(()=>(...t)=>e.current?.(...t),[])}function RL(n,e=globalThis?.document){const t=Jc(n);H.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var OL="DismissableLayer",Gy="dismissableLayer.update",DL="dismissableLayer.pointerDownOutside",PL="dismissableLayer.focusOutside",D4,AS=H.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),a5=H.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:u,onDismiss:d,...g}=n,p=H.useContext(AS),[b,_]=H.useState(null),I=b?.ownerDocument??globalThis?.document,[,S]=H.useState({}),P=Us(e,Y=>_(Y)),k=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=k.indexOf(M),J=b?k.indexOf(b):-1,Z=p.layersWithOutsidePointerEventsDisabled.size>0,ee=J>=j,we=ML(Y=>{const U=Y.target,F=[...p.branches].some(te=>te.contains(U));!ee||F||(s?.(Y),u?.(Y),Y.defaultPrevented||d?.())},I),Re=jL(Y=>{const U=Y.target;[...p.branches].some(te=>te.contains(U))||(i?.(Y),u?.(Y),Y.defaultPrevented||d?.())},I);return RL(Y=>{J===p.layers.size-1&&(r?.(Y),!Y.defaultPrevented&&d&&(Y.preventDefault(),d()))},I),H.useEffect(()=>{if(b)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(D4=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(b)),p.layers.add(b),P4(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=D4)}},[b,I,t,p]),H.useEffect(()=>()=>{b&&(p.layers.delete(b),p.layersWithOutsidePointerEventsDisabled.delete(b),P4())},[b,p]),H.useEffect(()=>{const Y=()=>S({});return document.addEventListener(Gy,Y),()=>document.removeEventListener(Gy,Y)},[]),x.jsx(Jr.div,{...g,ref:P,style:{pointerEvents:Z?ee?"auto":"none":void 0,...n.style},onFocusCapture:Un(n.onFocusCapture,Re.onFocusCapture),onBlurCapture:Un(n.onBlurCapture,Re.onBlurCapture),onPointerDownCapture:Un(n.onPointerDownCapture,we.onPointerDownCapture)})});a5.displayName=OL;var LL="DismissableLayerBranch",kL=H.forwardRef((n,e)=>{const t=H.useContext(AS),r=H.useRef(null),s=Us(e,r);return H.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),x.jsx(Jr.div,{...n,ref:s})});kL.displayName=LL;function ML(n,e=globalThis?.document){const t=Jc(n),r=H.useRef(!1),s=H.useRef(()=>{});return H.useEffect(()=>{const i=d=>{if(d.target&&!r.current){let g=function(){ES(DL,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=g,e.addEventListener("click",s.current,{once:!0})):g()}else e.removeEventListener("click",s.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function jL(n,e=globalThis?.document){const t=Jc(n),r=H.useRef(!1);return H.useEffect(()=>{const s=i=>{i.target&&!r.current&&ES(PL,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P4(){const n=new CustomEvent(Gy);document.dispatchEvent(n)}function ES(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?_S(s,i):s.dispatchEvent(i)}var Gx="focusScope.autoFocusOnMount",Wx="focusScope.autoFocusOnUnmount",L4={bubbles:!1,cancelable:!0},FL="FocusScope",i5=H.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...u}=n,[d,g]=H.useState(null),p=Jc(s),b=Jc(i),_=H.useRef(null),I=Us(e,k=>g(k)),S=H.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;H.useEffect(()=>{if(r){let k=function(Z){if(S.paused||!d)return;const ee=Z.target;d.contains(ee)?_.current=ee:Fu(_.current,{select:!0})},M=function(Z){if(S.paused||!d)return;const ee=Z.relatedTarget;ee!==null&&(d.contains(ee)||Fu(_.current,{select:!0}))},j=function(Z){if(document.activeElement===document.body)for(const we of Z)we.removedNodes.length>0&&Fu(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",M);const J=new MutationObserver(j);return d&&J.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",M),J.disconnect()}}},[r,d,S.paused]),H.useEffect(()=>{if(d){M4.add(S);const k=document.activeElement;if(!d.contains(k)){const j=new CustomEvent(Gx,L4);d.addEventListener(Gx,p),d.dispatchEvent(j),j.defaultPrevented||(BL(qL(CS(d)),{select:!0}),document.activeElement===k&&Fu(d))}return()=>{d.removeEventListener(Gx,p),setTimeout(()=>{const j=new CustomEvent(Wx,L4);d.addEventListener(Wx,b),d.dispatchEvent(j),j.defaultPrevented||Fu(k??document.body,{select:!0}),d.removeEventListener(Wx,b),M4.remove(S)},0)}}},[d,p,b,S]);const P=H.useCallback(k=>{if(!t&&!r||S.paused)return;const M=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,j=document.activeElement;if(M&&j){const J=k.currentTarget,[Z,ee]=UL(J);Z&&ee?!k.shiftKey&&j===ee?(k.preventDefault(),t&&Fu(Z,{select:!0})):k.shiftKey&&j===Z&&(k.preventDefault(),t&&Fu(ee,{select:!0})):j===J&&k.preventDefault()}},[t,r,S.paused]);return x.jsx(Jr.div,{tabIndex:-1,...u,ref:I,onKeyDown:P})});i5.displayName=FL;function BL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Fu(r,{select:e}),document.activeElement!==t)return}function UL(n){const e=CS(n),t=k4(e,n),r=k4(e.reverse(),n);return[t,r]}function CS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function k4(n,e){for(const t of n)if(!VL(t,{upTo:e}))return t}function VL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function zL(n){return n instanceof HTMLInputElement&&"select"in n}function Fu(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&zL(n)&&e&&n.select()}}var M4=HL();function HL(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=j4(n,e),n.unshift(e)},remove(e){n=j4(n,e),n[0]?.resume()}}}function j4(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function qL(n){return n.filter(e=>e.tagName!=="A")}var GL="Portal",o5=H.forwardRef((n,e)=>{const{container:t,...r}=n,[s,i]=H.useState(!1);Ku(()=>i(!0),[]);const u=t||s&&globalThis?.document?.body;return u?WO.createPortal(x.jsx(Jr.div,{...r,ref:e}),u):null});o5.displayName=GL;function WL(n,e){return H.useReducer((t,r)=>e[t][r]??t,n)}var cu=n=>{const{present:e,children:t}=n,r=YL(e),s=typeof t=="function"?t({present:r.isPresent}):H.Children.only(t),i=Us(r.ref,XL(s));return typeof t=="function"||r.isPresent?H.cloneElement(s,{ref:i}):null};cu.displayName="Presence";function YL(n){const[e,t]=H.useState(),r=H.useRef(null),s=H.useRef(n),i=H.useRef("none"),u=n?"mounted":"unmounted",[d,g]=WL(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return H.useEffect(()=>{const p=Bp(r.current);i.current=d==="mounted"?p:"none"},[d]),Ku(()=>{const p=r.current,b=s.current;if(b!==n){const I=i.current,S=Bp(p);n?g("MOUNT"):S==="none"||p?.display==="none"?g("UNMOUNT"):g(b&&I!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,g]),Ku(()=>{if(e){let p;const b=e.ownerDocument.defaultView??window,_=S=>{const k=Bp(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&k&&(g("ANIMATION_END"),!s.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",p=b.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},I=S=>{S.target===e&&(i.current=Bp(r.current))};return e.addEventListener("animationstart",I),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{b.clearTimeout(p),e.removeEventListener("animationstart",I),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:H.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Bp(n){return n?.animationName||"none"}function XL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Yx=0;function SS(){H.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??F4()),document.body.insertAdjacentElement("beforeend",n[1]??F4()),Yx++,()=>{Yx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yx--}},[])}function F4(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var rc=function(){return rc=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rc.apply(this,arguments)};function NS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function QL(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var dg="right-scroll-bar-position",fg="width-before-scroll-bar",KL="with-scroll-bars-hidden",$L="--removed-body-scroll-bar-size";function Xx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function JL(n,e){var t=H.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var ZL=typeof window<"u"?H.useLayoutEffect:H.useEffect,B4=new WeakMap;function ek(n,e){var t=JL(null,function(r){return n.forEach(function(s){return Xx(s,r)})});return ZL(function(){var r=B4.get(t);if(r){var s=new Set(r),i=new Set(n),u=t.current;s.forEach(function(d){i.has(d)||Xx(d,null)}),i.forEach(function(d){s.has(d)||Xx(d,u)})}B4.set(t,n)},[n]),t}function tk(n){return n}function nk(n,e){e===void 0&&(e=tk);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var u=e(i,r);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(i){for(r=!0;t.length;){var u=t;t=[],u.forEach(i)}t={push:function(d){return i(d)},filter:function(){return t}}},assignMedium:function(i){r=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(i),u=t}var g=function(){var b=u;u=[],b.forEach(i)},p=function(){return Promise.resolve().then(g)};p(),t={push:function(b){u.push(b),p()},filter:function(b){return u=u.filter(b),t}}}};return s}function rk(n){n===void 0&&(n={});var e=nk(null);return e.options=rc({async:!0,ssr:!1},n),e}var TS=function(n){var e=n.sideCar,t=NS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return H.createElement(r,rc({},t))};TS.isSideCarExport=!0;function sk(n,e){return n.useMedium(e),TS}var IS=rk(),Qx=function(){},Im=H.forwardRef(function(n,e){var t=H.useRef(null),r=H.useState({onScrollCapture:Qx,onWheelCapture:Qx,onTouchMoveCapture:Qx}),s=r[0],i=r[1],u=n.forwardProps,d=n.children,g=n.className,p=n.removeScrollBar,b=n.enabled,_=n.shards,I=n.sideCar,S=n.noRelative,P=n.noIsolation,k=n.inert,M=n.allowPinchZoom,j=n.as,J=j===void 0?"div":j,Z=n.gapMode,ee=NS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),we=I,Re=ek([t,e]),Y=rc(rc({},ee),s);return H.createElement(H.Fragment,null,b&&H.createElement(we,{sideCar:IS,removeScrollBar:p,shards:_,noRelative:S,noIsolation:P,inert:k,setCallbacks:i,allowPinchZoom:!!M,lockRef:t,gapMode:Z}),u?H.cloneElement(H.Children.only(d),rc(rc({},Y),{ref:Re})):H.createElement(J,rc({},Y,{className:g,ref:Re}),d))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:fg,zeroRight:dg};var ak=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ik(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=ak();return e&&n.setAttribute("nonce",e),n}function ok(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function lk(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ck=function(){var n=0,e=null;return{add:function(t){n==0&&(e=ik())&&(ok(e,t),lk(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uk=function(){var n=ck();return function(e,t){H.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},RS=function(){var n=uk(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},hk={left:0,top:0,right:0,gap:0},Kx=function(n){return parseInt(n||"",10)||0},dk=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Kx(t),Kx(r),Kx(s)]},fk=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return hk;var e=dk(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},pk=RS(),sf="data-scroll-locked",gk=function(n,e,t,r){var s=n.left,i=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(KL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(sf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dg,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(fg,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fg," .").concat(fg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(sf,`] {
    `).concat($L,": ").concat(d,`px;
  }
`)},U4=function(){var n=parseInt(document.body.getAttribute(sf)||"0",10);return isFinite(n)?n:0},mk=function(){H.useEffect(function(){return document.body.setAttribute(sf,(U4()+1).toString()),function(){var n=U4()-1;n<=0?document.body.removeAttribute(sf):document.body.setAttribute(sf,n.toString())}},[])},xk=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;mk();var i=H.useMemo(function(){return fk(s)},[s]);return H.createElement(pk,{styles:gk(i,!e,s,t?"":"!important")})},Wy=!1;if(typeof window<"u")try{var Up=Object.defineProperty({},"passive",{get:function(){return Wy=!0,!0}});window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{Wy=!1}var Hd=Wy?{passive:!1}:!1,yk=function(n){return n.tagName==="TEXTAREA"},OS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!yk(n)&&t[e]==="visible")},vk=function(n){return OS(n,"overflowY")},bk=function(n){return OS(n,"overflowX")},V4=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=DS(n,r);if(s){var i=PS(n,r),u=i[1],d=i[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},wk=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},_k=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},DS=function(n,e){return n==="v"?vk(e):bk(e)},PS=function(n,e){return n==="v"?wk(e):_k(e)},Ak=function(n,e){return n==="h"&&e==="rtl"?-1:1},Ek=function(n,e,t,r,s){var i=Ak(n,window.getComputedStyle(e).direction),u=i*r,d=t.target,g=e.contains(d),p=!1,b=u>0,_=0,I=0;do{if(!d)break;var S=PS(n,d),P=S[0],k=S[1],M=S[2],j=k-M-i*P;(P||j)&&DS(n,d)&&(_+=j,I+=P);var J=d.parentNode;d=J&&J.nodeType===Node.DOCUMENT_FRAGMENT_NODE?J.host:J}while(!g&&d!==document.body||g&&(e.contains(d)||e===d));return(b&&Math.abs(_)<1||!b&&Math.abs(I)<1)&&(p=!0),p},Vp=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},z4=function(n){return[n.deltaX,n.deltaY]},H4=function(n){return n&&"current"in n?n.current:n},Ck=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Sk=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Nk=0,qd=[];function Tk(n){var e=H.useRef([]),t=H.useRef([0,0]),r=H.useRef(),s=H.useState(Nk++)[0],i=H.useState(RS)[0],u=H.useRef(n);H.useEffect(function(){u.current=n},[n]),H.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var k=QL([n.lockRef.current],(n.shards||[]).map(H4),!0).filter(Boolean);return k.forEach(function(M){return M.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=H.useCallback(function(k,M){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var j=Vp(k),J=t.current,Z="deltaX"in k?k.deltaX:J[0]-j[0],ee="deltaY"in k?k.deltaY:J[1]-j[1],we,Re=k.target,Y=Math.abs(Z)>Math.abs(ee)?"h":"v";if("touches"in k&&Y==="h"&&Re.type==="range")return!1;var U=window.getSelection(),F=U&&U.anchorNode,te=F?F===Re||F.contains(Re):!1;if(te)return!1;var z=V4(Y,Re);if(!z)return!0;if(z?we=Y:(we=Y==="v"?"h":"v",z=V4(Y,Re)),!z)return!1;if(!r.current&&"changedTouches"in k&&(Z||ee)&&(r.current=we),!we)return!0;var q=r.current||we;return Ek(q,M,k,q==="h"?Z:ee)},[]),g=H.useCallback(function(k){var M=k;if(!(!qd.length||qd[qd.length-1]!==i)){var j="deltaY"in M?z4(M):Vp(M),J=e.current.filter(function(we){return we.name===M.type&&(we.target===M.target||M.target===we.shadowParent)&&Ck(we.delta,j)})[0];if(J&&J.should){M.cancelable&&M.preventDefault();return}if(!J){var Z=(u.current.shards||[]).map(H4).filter(Boolean).filter(function(we){return we.contains(M.target)}),ee=Z.length>0?d(M,Z[0]):!u.current.noIsolation;ee&&M.cancelable&&M.preventDefault()}}},[]),p=H.useCallback(function(k,M,j,J){var Z={name:k,delta:M,target:j,should:J,shadowParent:Ik(j)};e.current.push(Z),setTimeout(function(){e.current=e.current.filter(function(ee){return ee!==Z})},1)},[]),b=H.useCallback(function(k){t.current=Vp(k),r.current=void 0},[]),_=H.useCallback(function(k){p(k.type,z4(k),k.target,d(k,n.lockRef.current))},[]),I=H.useCallback(function(k){p(k.type,Vp(k),k.target,d(k,n.lockRef.current))},[]);H.useEffect(function(){return qd.push(i),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:I}),document.addEventListener("wheel",g,Hd),document.addEventListener("touchmove",g,Hd),document.addEventListener("touchstart",b,Hd),function(){qd=qd.filter(function(k){return k!==i}),document.removeEventListener("wheel",g,Hd),document.removeEventListener("touchmove",g,Hd),document.removeEventListener("touchstart",b,Hd)}},[]);var S=n.removeScrollBar,P=n.inert;return H.createElement(H.Fragment,null,P?H.createElement(i,{styles:Sk(s)}):null,S?H.createElement(xk,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Ik(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Rk=sk(IS,Tk);var l5=H.forwardRef(function(n,e){return H.createElement(Im,rc({},n,{ref:e,sideCar:Rk}))});l5.classNames=Im.classNames;var Ok=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Gd=new WeakMap,zp=new WeakMap,Hp={},$x=0,LS=function(n){return n&&(n.host||LS(n.parentNode))},Dk=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=LS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Pk=function(n,e,t,r){var s=Dk(e,Array.isArray(n)?n:[n]);Hp[t]||(Hp[t]=new WeakMap);var i=Hp[t],u=[],d=new Set,g=new Set(s),p=function(_){!_||d.has(_)||(d.add(_),p(_.parentNode))};s.forEach(p);var b=function(_){!_||g.has(_)||Array.prototype.forEach.call(_.children,function(I){if(d.has(I))b(I);else try{var S=I.getAttribute(r),P=S!==null&&S!=="false",k=(Gd.get(I)||0)+1,M=(i.get(I)||0)+1;Gd.set(I,k),i.set(I,M),u.push(I),k===1&&P&&zp.set(I,!0),M===1&&I.setAttribute(t,"true"),P||I.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",I,j)}})};return b(e),d.clear(),$x++,function(){u.forEach(function(_){var I=Gd.get(_)-1,S=i.get(_)-1;Gd.set(_,I),i.set(_,S),I||(zp.has(_)||_.removeAttribute(r),zp.delete(_)),S||_.removeAttribute(t)}),$x--,$x||(Gd=new WeakMap,Gd=new WeakMap,zp=new WeakMap,Hp={})}},kS=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=Ok(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Pk(r,s,t,"aria-hidden")):function(){return null}};function Lk(n){const e=kk(n),t=H.forwardRef((r,s)=>{const{children:i,...u}=r,d=H.Children.toArray(i),g=d.find(jk);if(g){const p=g.props.children,b=d.map(_=>_===g?H.Children.count(p)>1?H.Children.only(null):H.isValidElement(p)?p.props.children:null:_);return x.jsx(e,{...u,ref:s,children:H.isValidElement(p)?H.cloneElement(p,void 0,b):null})}return x.jsx(e,{...u,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function kk(n){const e=H.forwardRef((t,r)=>{const{children:s,...i}=t;if(H.isValidElement(s)){const u=Bk(s),d=Fk(i,s.props);return s.type!==H.Fragment&&(d.ref=r?oh(r,u):u),H.cloneElement(s,d)}return H.Children.count(s)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Mk=Symbol("radix.slottable");function jk(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Mk}function Fk(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...d)=>{const g=i(...d);return s(...d),g}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function Bk(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Rm="Dialog",[MS]=lu(Rm),[Uk,jl]=MS(Rm),jS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:i,modal:u=!0}=n,d=H.useRef(null),g=H.useRef(null),[p,b]=jf({prop:r,defaultProp:s??!1,onChange:i,caller:Rm});return x.jsx(Uk,{scope:e,triggerRef:d,contentRef:g,contentId:Dh(),titleId:Dh(),descriptionId:Dh(),open:p,onOpenChange:b,onOpenToggle:H.useCallback(()=>b(_=>!_),[b]),modal:u,children:t})};jS.displayName=Rm;var FS="DialogTrigger",BS=H.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=jl(FS,t),i=Us(e,s.triggerRef);return x.jsx(Jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":h5(s.open),...r,ref:i,onClick:Un(n.onClick,s.onOpenToggle)})});BS.displayName=FS;var c5="DialogPortal",[Vk,US]=MS(c5,{forceMount:void 0}),VS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,i=jl(c5,e);return x.jsx(Vk,{scope:e,forceMount:t,children:H.Children.map(r,u=>x.jsx(cu,{present:t||i.open,children:x.jsx(o5,{asChild:!0,container:s,children:u})}))})};VS.displayName=c5;var Fg="DialogOverlay",zS=H.forwardRef((n,e)=>{const t=US(Fg,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=jl(Fg,n.__scopeDialog);return i.modal?x.jsx(cu,{present:r||i.open,children:x.jsx(Hk,{...s,ref:e})}):null});zS.displayName=Fg;var zk=Lk("DialogOverlay.RemoveScroll"),Hk=H.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=jl(Fg,t);return x.jsx(l5,{as:zk,allowPinchZoom:!0,shards:[s.contentRef],children:x.jsx(Jr.div,{"data-state":h5(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),jh="DialogContent",HS=H.forwardRef((n,e)=>{const t=US(jh,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,i=jl(jh,n.__scopeDialog);return x.jsx(cu,{present:r||i.open,children:i.modal?x.jsx(qk,{...s,ref:e}):x.jsx(Gk,{...s,ref:e})})});HS.displayName=jh;var qk=H.forwardRef((n,e)=>{const t=jl(jh,n.__scopeDialog),r=H.useRef(null),s=Us(e,t.contentRef,r);return H.useEffect(()=>{const i=r.current;if(i)return kS(i)},[]),x.jsx(qS,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Un(n.onCloseAutoFocus,i=>{i.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Un(n.onPointerDownOutside,i=>{const u=i.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&i.preventDefault()}),onFocusOutside:Un(n.onFocusOutside,i=>i.preventDefault())})}),Gk=H.forwardRef((n,e)=>{const t=jl(jh,n.__scopeDialog),r=H.useRef(!1),s=H.useRef(!1);return x.jsx(qS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const u=i.target;t.triggerRef.current?.contains(u)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),qS=H.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...u}=n,d=jl(jh,t),g=H.useRef(null),p=Us(e,g);return SS(),x.jsxs(x.Fragment,{children:[x.jsx(i5,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:x.jsx(a5,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":h5(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(Yk,{titleId:d.titleId}),x.jsx(Qk,{contentRef:g,descriptionId:d.descriptionId})]})]})}),u5="DialogTitle",GS=H.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=jl(u5,t);return x.jsx(Jr.h2,{id:s.titleId,...r,ref:e})});GS.displayName=u5;var WS="DialogDescription",Wk=H.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=jl(WS,t);return x.jsx(Jr.p,{id:s.descriptionId,...r,ref:e})});Wk.displayName=WS;var YS="DialogClose",XS=H.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=jl(YS,t);return x.jsx(Jr.button,{type:"button",...r,ref:e,onClick:Un(n.onClick,()=>s.onOpenChange(!1))})});XS.displayName=YS;function h5(n){return n?"open":"closed"}var QS="DialogTitleWarning",[sZ,KS]=mL(QS,{contentName:jh,titleName:u5,docsSlug:"dialog"}),Yk=({titleId:n})=>{const e=KS(QS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return H.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Xk="DialogDescriptionWarning",Qk=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KS(Xk).contentName}}.`;return H.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},$S=jS,JS=BS,ZS=VS,e6=zS,t6=HS,Kk=GS,n6=XS;function q4({...n}){return x.jsx($S,{"code-path":"src/components/ui/sheet.tsx:8:10","data-slot":"sheet",...n})}function $k({...n}){return x.jsx(JS,{"code-path":"src/components/ui/sheet.tsx:14:10","data-slot":"sheet-trigger",...n})}function Jk({...n}){return x.jsx(ZS,{"code-path":"src/components/ui/sheet.tsx:26:10","data-slot":"sheet-portal",...n})}function Zk({className:n,...e}){return x.jsx(e6,{"code-path":"src/components/ui/sheet.tsx:34:5","data-slot":"sheet-overlay",className:Cs("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function G4({className:n,children:e,side:t="right",...r}){return x.jsxs(Jk,{"code-path":"src/components/ui/sheet.tsx:54:5",children:[x.jsx(Zk,{"code-path":"src/components/ui/sheet.tsx:55:7"}),x.jsxs(t6,{"code-path":"src/components/ui/sheet.tsx:56:7","data-slot":"sheet-content",className:Cs("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,x.jsxs(n6,{"code-path":"src/components/ui/sheet.tsx:73:9",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[x.jsx(bf,{"code-path":"src/components/ui/sheet.tsx:74:11",className:"size-4"}),x.jsx("span",{"code-path":"src/components/ui/sheet.tsx:75:11",className:"sr-only",children:"Close"})]})]})]})}const W4=n=>{let e;const t=new Set,r=(p,b)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const I=e;e=b??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(S=>S(e,I))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>g,subscribe:p=>(t.add(p),()=>t.delete(p))},g=e=n(r,s,d);return d},eM=(n=>n?W4(n):W4),tM=n=>n;function nM(n,e=tM){const t=qo.useSyncExternalStore(n.subscribe,qo.useCallback(()=>e(n.getState()),[n,e]),qo.useCallback(()=>e(n.getInitialState()),[n,e]));return qo.useDebugValue(t),t}const Y4=n=>{const e=eM(n),t=r=>nM(e,r);return Object.assign(t,e),t},xc=(n=>n?Y4(n):Y4);function rM(n,e){let t;try{t=n()}catch{return}return{getItem:s=>{var i;const u=g=>g===null?null:JSON.parse(g,void 0),d=(i=t.getItem(s))!=null?i:null;return d instanceof Promise?d.then(u):u(d)},setItem:(s,i)=>t.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>t.removeItem(s)}}const Yy=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Yy(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Yy(r)(t)}}}},sM=(n,e)=>(t,r,s)=>{let i={storage:rM(()=>localStorage),partialize:M=>M,version:0,merge:(M,j)=>({...j,...M}),...e},u=!1,d=0;const g=new Set,p=new Set;let b=i.storage;if(!b)return n((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...M)},r,s);const _=()=>{const M=i.partialize({...r()});return b.setItem(i.name,{state:M,version:i.version})},I=s.setState;s.setState=(M,j)=>(I(M,j),_());const S=n((...M)=>(t(...M),_()),r,s);s.getInitialState=()=>S;let P;const k=()=>{var M,j;if(!b)return;const J=++d;u=!1,g.forEach(ee=>{var we;return ee((we=r())!=null?we:S)});const Z=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(M=r())!=null?M:S))||void 0;return Yy(b.getItem.bind(b))(i.name).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==i.version){if(i.migrate){const we=i.migrate(ee.state,ee.version);return we instanceof Promise?we.then(Re=>[!0,Re]):[!0,we]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ee.state];return[!1,void 0]}).then(ee=>{var we;if(J!==d)return;const[Re,Y]=ee;if(P=i.merge(Y,(we=r())!=null?we:S),t(P,!0),Re)return _()}).then(()=>{J===d&&(Z?.(P,void 0),P=r(),u=!0,p.forEach(ee=>ee(P)))}).catch(ee=>{J===d&&Z?.(void 0,ee)})};return s.persist={setOptions:M=>{i={...i,...M},M.storage&&(b=M.storage)},clearStorage:()=>{b?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:M=>(g.add(M),()=>{g.delete(M)}),onFinishHydration:M=>(p.add(M),()=>{p.delete(M)})},i.skipHydration||k(),P||S},aM=sM,iM=()=>{};var X4={};const r6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],u=n[t++],d=n[t++],g=((s&7)<<18|(i&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const i=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|u&63)}}return e.join("")},s6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],u=s+1<n.length,d=u?n[s+1]:0,g=s+2<n.length,p=g?n[s+2]:0,b=i>>2,_=(i&3)<<4|d>>4;let I=(d&15)<<2|p>>6,S=p&63;g||(S=64,u||(I=64)),r.push(t[b],t[_],t[I],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||d==null||p==null||_==null)throw new lM;const I=i<<2|d>>4;if(r.push(I),p!==64){const S=d<<4&240|p>>2;if(r.push(S),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cM=function(n){const e=r6(n);return s6.encodeByteArray(e,!0)},Bg=function(n){return cM(n).replace(/\./g,"")},a6=function(n){try{return s6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hM=()=>uM().__FIREBASE_DEFAULTS__,dM=()=>{if(typeof process>"u"||typeof X4>"u")return;const n=X4.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a6(n[1]);return e&&JSON.parse(e)},Om=()=>{try{return iM()||hM()||dM()||fM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},i6=n=>Om()?.emulatorHosts?.[n],o6=n=>{const e=i6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},l6=()=>Om()?.config,c6=n=>Om()?.[`_${n}`];class pM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Kh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d5(n){return(await fetch(n,{credentials:"include"})).ok}function u6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bg(JSON.stringify(t)),Bg(JSON.stringify(u)),""].join(".")}const K1={};function gM(){const n={prod:[],emulator:[]};for(const e of Object.keys(K1))K1[e]?n.emulator.push(e):n.prod.push(e);return n}function mM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Q4=!1;function f5(n,e){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||K1[n]===e||K1[n]||Q4)return;K1[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",i=gM().prod.length>0;function u(){const I=document.getElementById(r);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,S){I.setAttribute("width","24"),I.setAttribute("id",S),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Q4=!0,u()},I}function b(I,S){I.setAttribute("id",S),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function _(){const I=mM(r),S=t("text"),P=document.getElementById(S)||document.createElement("span"),k=t("learnmore"),M=document.getElementById(k)||document.createElement("a"),j=t("preprendIcon"),J=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Z=I.element;d(Z),b(M,k);const ee=p();g(J,j),Z.append(J,P,M,ee),document.body.appendChild(Z)}i?(P.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function so(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(so())}function yM(){const n=Om()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _M(){const n=so();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AM(){return!yM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const SM="FirebaseError";class yc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SM,Object.setPrototypeOf(this,yc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],u=i?NM(i,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new yc(s,d,r)}}function NM(n,e){return n.replace(TM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const TM=/\{\$([^}]+)}/g;function IM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],u=e[s];if(K4(i)&&K4(u)){if(!Fh(i,u))return!1}else if(i!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function K4(n){return n!==null&&typeof n=="object"}function T0(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z1(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function H1(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RM(n,e){const t=new OM(n,e);return t.subscribe.bind(t)}class OM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Jx),s.error===void 0&&(s.error=Jx),s.complete===void 0&&(s.complete=Jx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jx(){}function ja(n){return n&&n._delegate?n._delegate:n}class $u{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Th="[DEFAULT]";class PM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kM(e))try{this.getOrInitializeService({instanceIdentifier:Th})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Th){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Th){return this.instances.has(e)}getOptions(e=Th){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(i);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Th){return this.component?this.component.multipleInstances?e:Th:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LM(n){return n===Th?void 0:n}function kM(n){return n.instantiationMode==="EAGER"}class MM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Nr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nr||(Nr={}));const jM={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},FM=Nr.INFO,BM={[Nr.DEBUG]:"log",[Nr.VERBOSE]:"log",[Nr.INFO]:"info",[Nr.WARN]:"warn",[Nr.ERROR]:"error"},UM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=BM[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p5{constructor(e){this.name=e,this._logLevel=FM,this._logHandler=UM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...e),this._logHandler(this,Nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...e),this._logHandler(this,Nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...e),this._logHandler(this,Nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...e),this._logHandler(this,Nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...e),this._logHandler(this,Nr.ERROR,...e)}}const VM=(n,e)=>e.some(t=>n instanceof t);let $4,J4;function zM(){return $4||($4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HM(){return J4||(J4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h6=new WeakMap,Xy=new WeakMap,d6=new WeakMap,Zx=new WeakMap,g5=new WeakMap;function qM(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",u)},i=()=>{t(Gu(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&h6.set(t,n)}).catch(()=>{}),g5.set(e,n),e}function GM(n){if(Xy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",u),n.removeEventListener("abort",u)},i=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",u),n.addEventListener("abort",u)});Xy.set(n,e)}let Qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d6.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WM(n){Qy=n(Qy)}function YM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ey(this),e,...t);return d6.set(r,e.sort?e.sort():[e]),Gu(r)}:HM().includes(n)?function(...e){return n.apply(ey(this),e),Gu(h6.get(this))}:function(...e){return Gu(n.apply(ey(this),e))}}function XM(n){return typeof n=="function"?YM(n):(n instanceof IDBTransaction&&GM(n),VM(n,zM())?new Proxy(n,Qy):n)}function Gu(n){if(n instanceof IDBRequest)return qM(n);if(Zx.has(n))return Zx.get(n);const e=XM(n);return e!==n&&(Zx.set(n,e),g5.set(e,n)),e}const ey=n=>g5.get(n);function QM(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const u=indexedDB.open(n,e),d=Gu(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Gu(u.result),g.oldVersion,g.newVersion,Gu(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{i&&g.addEventListener("close",()=>i()),s&&g.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const KM=["get","getKey","getAll","getAllKeys","count"],$M=["put","add","delete","clear"],ty=new Map;function Z4(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=$M.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KM.includes(t)))return;const i=async function(u,...d){const g=this.transaction(u,s?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&g.done]))[0]};return ty.set(e,i),i}WM(n=>({...n,get:(e,t,r)=>Z4(e,t)||n.get(e,t,r),has:(e,t)=>!!Z4(e,t)||n.has(e,t)}));class JM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ZM(n){return n.getComponent()?.type==="VERSION"}const Ky="@firebase/app",e_="0.14.7";const Zc=new p5("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",rj="@firebase/app-check-compat",sj="@firebase/app-check",aj="@firebase/auth",ij="@firebase/auth-compat",oj="@firebase/database",lj="@firebase/data-connect",cj="@firebase/database-compat",uj="@firebase/functions",hj="@firebase/functions-compat",dj="@firebase/installations",fj="@firebase/installations-compat",pj="@firebase/messaging",gj="@firebase/messaging-compat",mj="@firebase/performance",xj="@firebase/performance-compat",yj="@firebase/remote-config",vj="@firebase/remote-config-compat",bj="@firebase/storage",wj="@firebase/storage-compat",_j="@firebase/firestore",Aj="@firebase/ai",Ej="@firebase/firestore-compat",Cj="firebase",Sj="12.8.0";const $y="[DEFAULT]",Nj={[Ky]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[sj]:"fire-app-check",[rj]:"fire-app-check-compat",[aj]:"fire-auth",[ij]:"fire-auth-compat",[oj]:"fire-rtdb",[lj]:"fire-data-connect",[cj]:"fire-rtdb-compat",[uj]:"fire-fn",[hj]:"fire-fn-compat",[dj]:"fire-iid",[fj]:"fire-iid-compat",[pj]:"fire-fcm",[gj]:"fire-fcm-compat",[mj]:"fire-perf",[xj]:"fire-perf-compat",[yj]:"fire-rc",[vj]:"fire-rc-compat",[bj]:"fire-gcs",[wj]:"fire-gcs-compat",[_j]:"fire-fst",[Ej]:"fire-fst-compat",[Aj]:"fire-vertex","fire-js":"fire-js",[Cj]:"fire-js-all"};const Ug=new Map,Tj=new Map,Jy=new Map;function t_(n,e){try{n.container.addComponent(e)}catch(t){Zc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bh(n){const e=n.name;if(Jy.has(e))return Zc.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,n);for(const t of Ug.values())t_(t,n);for(const t of Tj.values())t_(t,n);return!0}function Dm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wo(n){return n==null?!1:n.settings!==void 0}const Ij={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wu=new N0("app","Firebase",Ij);class Rj{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $u("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wu.create("app-deleted",{appName:this._name})}}const $h=Sj;function f6(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:$y,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Wu.create("bad-app-name",{appName:String(s)});if(t||(t=l6()),!t)throw Wu.create("no-options");const i=Ug.get(s);if(i){if(Fh(t,i.options)&&Fh(r,i.config))return i;throw Wu.create("duplicate-app",{appName:s})}const u=new MM(s);for(const g of Jy.values())u.addComponent(g);const d=new Rj(t,r,u);return Ug.set(s,d),d}function m5(n=$y){const e=Ug.get(n);if(!e&&n===$y&&l6())return f6();if(!e)throw Wu.create("no-app",{appName:n});return e}function ic(n,e,t){let r=Nj[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&u.push("and"),i&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zc.warn(u.join(" "));return}Bh(new $u(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Oj="firebase-heartbeat-database",Dj=1,l0="firebase-heartbeat-store";let ny=null;function p6(){return ny||(ny=QM(Oj,Dj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(l0)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wu.create("idb-open",{originalErrorMessage:n.message})})),ny}async function Pj(n){try{const t=(await p6()).transaction(l0),r=await t.objectStore(l0).get(g6(n));return await t.done,r}catch(e){if(e instanceof yc)Zc.warn(e.message);else{const t=Wu.create("idb-get",{originalErrorMessage:e?.message});Zc.warn(t.message)}}}async function n_(n,e){try{const r=(await p6()).transaction(l0,"readwrite");await r.objectStore(l0).put(e,g6(n)),await r.done}catch(t){if(t instanceof yc)Zc.warn(t.message);else{const r=Wu.create("idb-set",{originalErrorMessage:t?.message});Zc.warn(r.message)}}}function g6(n){return`${n.name}!${n.options.appId}`}const Lj=1024,kj=30;class Mj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>kj){const s=Bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:t,unsentEntries:r}=jj(this._heartbeatsCache.heartbeats),s=Bg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Zc.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function jj(n,e=Lj){const t=[];let r=n.slice();for(const s of n){const i=t.find(u=>u.agent===s.agent);if(i){if(i.dates.push(s.date),s_(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),s_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Fj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Pj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(n){return Bg(JSON.stringify({version:2,heartbeats:n})).length}function Bj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Uj(n){Bh(new $u("platform-logger",e=>new JM(e),"PRIVATE")),Bh(new $u("heartbeat",e=>new Mj(e),"PRIVATE")),ic(Ky,e_,n),ic(Ky,e_,"esm2020"),ic("fire-js","")}Uj("");function m6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vj=m6,x6=new N0("auth","Firebase",m6());const Vg=new p5("@firebase/auth");function zj(n,...e){Vg.logLevel<=Nr.WARN&&Vg.warn(`Auth (${$h}): ${n}`,...e)}function pg(n,...e){Vg.logLevel<=Nr.ERROR&&Vg.error(`Auth (${$h}): ${n}`,...e)}function Dl(n,...e){throw x5(n,...e)}function oc(n,...e){return x5(n,...e)}function y6(n,e,t){const r={...Vj(),[e]:t};return new N0("auth","Firebase",r).create(e,{appName:n.name})}function Qc(n){return y6(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return x6.create(n,...e)}function Fn(n,e,...t){if(!n)throw x5(e,...t)}function Gc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pg(e),new Error(e)}function eu(n,e){n||Gc(e)}function Zy(){return typeof self<"u"&&self.location?.href||""}function Hj(){return a_()==="http:"||a_()==="https:"}function a_(){return typeof self<"u"&&self.location?.protocol||null}function qj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hj()||bM()||"connection"in navigator)?navigator.onLine:!0}function Gj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class I0{constructor(e,t){this.shortDelay=e,this.longDelay=t,eu(t>e,"Short delay should be less than long delay!"),this.isMobile=xM()||wM()}get(){return qj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function y5(n,e){eu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class v6{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Yj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xj=new I0(3e4,6e4);function lh(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function uu(n,e,t,r,s={}){return b6(n,s,async()=>{let i={},u={};r&&(e==="GET"?u=r:i={body:JSON.stringify(r)});const d=T0({key:n.config.apiKey,...u}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:g,...i};return vM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Kh(n.emulatorConfig.host)&&(p.credentials="include"),v6.fetch()(await w6(n,n.config.apiHost,t,d),p)})}async function b6(n,e,t){n._canInitEmulator=!1;const r={...Wj,...e};try{const s=new Kj(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await i.json();if("needConfirmation"in u)throw qp(n,"account-exists-with-different-credential",u);if(i.ok&&!("errorMessage"in u))return u;{const d=i.ok?u.errorMessage:u.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qp(n,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw qp(n,"email-already-in-use",u);if(g==="USER_DISABLED")throw qp(n,"user-disabled",u);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw y6(n,b,p);Dl(n,b)}}catch(s){if(s instanceof yc)throw s;Dl(n,"network-request-failed",{message:String(s)})}}async function R0(n,e,t,r,s={}){const i=await uu(n,e,t,r,s);return"mfaPendingCredential"in i&&Dl(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function w6(n,e,t,r){const s=`${e}${t}?${r}`,i=n,u=i.config.emulator?y5(n.config,s):`${n.config.apiScheme}://${s}`;return Yj.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(u).toString():u}function Qj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(oc(this.auth,"network-request-failed")),Xj.get())})}}function qp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=oc(n,e,r);return s.customData._tokenResponse=t,s}function i_(n){return n!==void 0&&n.enterprise!==void 0}class $j{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jj(n,e){return uu(n,"GET","/v2/recaptchaConfig",lh(n,e))}async function Zj(n,e){return uu(n,"POST","/v1/accounts:delete",e)}async function zg(n,e){return uu(n,"POST","/v1/accounts:lookup",e)}function $1(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eF(n,e=!1){const t=ja(n),r=await t.getIdToken(e),s=v5(r);Fn(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,u=i?.sign_in_provider;return{claims:s,token:r,authTime:$1(ry(s.auth_time)),issuedAtTime:$1(ry(s.iat)),expirationTime:$1(ry(s.exp)),signInProvider:u||null,signInSecondFactor:i?.sign_in_second_factor||null}}function ry(n){return Number(n)*1e3}function v5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const s=a6(t);return s?JSON.parse(s):(pg("Failed to decode base64 JWT payload"),null)}catch(s){return pg("Caught error parsing JWT payload as JSON",s?.toString()),null}}function o_(n){const e=v5(n);return Fn(e,"internal-error"),Fn(typeof e.exp<"u","internal-error"),Fn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof yc&&tF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class nF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ev{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$1(this.lastLoginAt),this.creationTime=$1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hg(n){const e=n.auth,t=await n.getIdToken(),r=await wf(n,zg(e,{idToken:t}));Fn(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=s.providerUserInfo?.length?_6(s.providerUserInfo):[],u=sF(n.providerData,i),d=n.isAnonymous,g=!(n.email&&s.passwordHash)&&!u?.length,p=d?g:!1,b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,b)}async function rF(n){const e=ja(n);await Hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sF(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _6(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function aF(n,e){const t=await b6(n,{},async()=>{const r=T0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,u=await w6(n,s,"/v1/token",`key=${i}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:r};return n.emulatorConfig&&Kh(n.emulatorConfig.host)&&(g.credentials="include"),v6.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iF(n,e){return uu(n,"POST","/v2/accounts:revokeToken",lh(n,e))}class af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fn(e.idToken,"internal-error"),Fn(typeof e.idToken<"u","internal-error"),Fn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fn(e.length!==0,"internal-error");const t=o_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await aF(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,u=new af;return r&&(Fn(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Fn(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),i&&(Fn(typeof i=="number","internal-error",{appName:e}),u.expirationTime=i),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new af,this.toJSON())}_performRefresh(){return Gc("not implemented")}}function ku(n,e){Fn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Al{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new nF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wf(this,this.stsTokenManager.getToken(this.auth,e));return Fn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eF(this,e)}reload(){return rF(this)}_assign(e){this!==e&&(Fn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Al({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Fn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wo(this.auth.app))return Promise.reject(Qc(this.auth));const e=await this.getIdToken();return await wf(this,Zj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:_,emailVerified:I,isAnonymous:S,providerData:P,stsTokenManager:k}=t;Fn(_&&k,e,"internal-error");const M=af.fromJSON(this.name,k);Fn(typeof _=="string",e,"internal-error"),ku(r,e.name),ku(s,e.name),Fn(typeof I=="boolean",e,"internal-error"),Fn(typeof S=="boolean",e,"internal-error"),ku(i,e.name),ku(u,e.name),ku(d,e.name),ku(g,e.name),ku(p,e.name),ku(b,e.name);const j=new Al({uid:_,auth:e,email:s,emailVerified:I,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:i,tenantId:d,stsTokenManager:M,createdAt:p,lastLoginAt:b});return P&&Array.isArray(P)&&(j.providerData=P.map(J=>({...J}))),g&&(j._redirectEventId=g),j}static async _fromIdTokenResponse(e,t,r=!1){const s=new af;s.updateFromServerResponse(t);const i=new Al({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hg(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Fn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_6(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!i?.length,d=new af;d.updateFromIdToken(r);const g=new Al({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(g,p),g}}const l_=new Map;function Wc(n){eu(n instanceof Function,"Expected a class definition");let e=l_.get(n);return e?(eu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,l_.set(n,e),e)}class A6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}A6.type="NONE";const c_=A6;function gg(n,e,t){return`firebase:${n}:${e}:${t}`}class of{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=gg(this.userKey,s.apiKey,i),this.fullPersistenceKey=gg("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zg(this.auth,{idToken:e}).catch(()=>{});return t?Al._fromGetAccountInfoResponse(this.auth,t,e):null}return Al._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new of(Wc(c_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let i=s[0]||Wc(c_);const u=gg(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const b=await p._get(u);if(b){let _;if(typeof b=="string"){const I=await zg(e,{idToken:b}).catch(()=>{});if(!I)break;_=await Al._fromGetAccountInfoResponse(e,I,b)}else _=Al._fromJSON(e,b);p!==i&&(d=_),i=p;break}}catch{}const g=s.filter(p=>p._shouldAllowMigration);return!i._shouldAllowMigration||!g.length?new of(i,e,r):(i=g[0],d&&await i._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==i)try{await p._remove(u)}catch{}})),new of(i,e,r))}}function u_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I6(e))return"Blackberry";if(R6(e))return"Webos";if(C6(e))return"Safari";if((e.includes("chrome/")||S6(e))&&!e.includes("edge/"))return"Chrome";if(T6(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function E6(n=so()){return/firefox\//i.test(n)}function C6(n=so()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S6(n=so()){return/crios\//i.test(n)}function N6(n=so()){return/iemobile/i.test(n)}function T6(n=so()){return/android/i.test(n)}function I6(n=so()){return/blackberry/i.test(n)}function R6(n=so()){return/webos/i.test(n)}function b5(n=so()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oF(n=so()){return b5(n)&&!!window.navigator?.standalone}function lF(){return _M()&&document.documentMode===10}function O6(n=so()){return b5(n)||T6(n)||R6(n)||I6(n)||/windows phone/i.test(n)||N6(n)}function D6(n,e=[]){let t;switch(n){case"Browser":t=u_(so());break;case"Worker":t=`${u_(so())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$h}/${r}`}class cF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((u,d)=>{try{const g=e(i);u(g)}catch(g){d(g)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uF(n,e={}){return uu(n,"GET","/v2/passwordPolicy",lh(n,e))}const hF=6;class dF{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hF,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class fF{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h_(this),this.idTokenSubscription=new h_(this),this.beforeStateQueue=new cF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wc(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await of.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zg(this,{idToken:e}),r=await Al._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wo(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!i||i===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wo(this.app))return Promise.reject(Qc(this));const t=e?ja(e):null;return t&&Fn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wo(this.app)?Promise.reject(Qc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wo(this.app)?Promise.reject(Qc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uF(this),t=new dF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new N0("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wc(e)||this._popupRedirectResolver;Fn(t,this,"argument-error"),this.redirectPersistenceManager=await of.create(this,[Wc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fn(d,this,"internal-error"),d.then(()=>{u||i(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,s);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jh(n){return ja(n)}class h_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RM(t=>this.observer=t)}get next(){return Fn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pF(n){Pm=n}function P6(n){return Pm.loadJS(n)}function gF(){return Pm.recaptchaEnterpriseScript}function mF(){return Pm.gapiScript}function xF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yF{constructor(){this.enterprise=new vF}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vF{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bF="recaptcha-enterprise",L6="NO_RECAPTCHA";class wF{constructor(e){this.type=bF,this.auth=Jh(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(u,d)=>{Jj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new $j(g);return i.tenantId==null?i._agentRecaptchaConfig=p:i._tenantRecaptchaConfigs[i.tenantId]=p,u(p.siteKey)}}).catch(g=>{d(g)})})}function s(i,u,d){const g=window.grecaptcha;i_(g)?g.enterprise.ready(()=>{g.enterprise.execute(i,{action:e}).then(p=>{u(p)}).catch(()=>{u(L6)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yF().execute("siteKey",{action:"verify"}):new Promise((i,u)=>{r(this.auth).then(d=>{if(!t&&i_(window.grecaptcha))s(d,i,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=gF();g.length!==0&&(g+=d),P6(g).then(()=>{s(d,i,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function d_(n,e,t,r=!1,s=!1){const i=new wF(n);let u;if(s)u=L6;else try{u=await i.verify(t)}catch{u=await i.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function tv(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await d_(n,e,t,t==="getOobCode");return r(n,i)}else return r(n,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await d_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(i)})}function _F(n,e){const t=Dm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Fh(i,e??{}))return s;Dl(s,"already-initialized")}return t.initialize({options:e})}function AF(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function EF(n,e,t){const r=Jh(n);Fn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=k6(e),{host:u,port:d}=CF(e),g=d===null?"":`:${d}`,p={url:`${i}//${u}${g}/`},b=Object.freeze({host:u,port:d,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Fn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fn(Fh(p,r.config.emulator)&&Fh(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Kh(u)?(d5(`${i}//${u}${g}`),f5("Auth",!0)):SF()}function k6(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CF(n){const e=k6(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:f_(r.substr(i.length+1))}}else{const[i,u]=r.split(":");return{host:i,port:f_(u)}}}function f_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class w5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gc("not implemented")}_getIdTokenResponse(e){return Gc("not implemented")}_linkToIdToken(e,t){return Gc("not implemented")}_getReauthenticationResolver(e){return Gc("not implemented")}}async function NF(n,e){return uu(n,"POST","/v1/accounts:signUp",e)}async function TF(n,e){return R0(n,"POST","/v1/accounts:signInWithPassword",lh(n,e))}async function IF(n,e){return R0(n,"POST","/v1/accounts:signInWithEmailLink",lh(n,e))}async function RF(n,e){return R0(n,"POST","/v1/accounts:signInWithEmailLink",lh(n,e))}class c0 extends w5{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new c0(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new c0(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,t,"signInWithPassword",TF);case"emailLink":return IF(e,{email:this._email,oobCode:this._password});default:Dl(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signUpPassword",NF);case"emailLink":return RF(e,{idToken:t,email:this._email,oobCode:this._password});default:Dl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lf(n,e){return R0(n,"POST","/v1/accounts:signInWithIdp",lh(n,e))}const OF="http://localhost";class Uh extends w5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const u=new Uh(r,s);return u.idToken=i.idToken||void 0,u.accessToken=i.accessToken||void 0,u.secret=i.secret,u.nonce=i.nonce,u.pendingToken=i.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return lf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,lf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,lf(e,t)}buildRequest(){const e={requestUri:OF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=T0(t)}return e}}function DF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PF(n){const e=z1(H1(n)).link,t=e?z1(H1(e)).deep_link_id:null,r=z1(H1(n)).deep_link_id;return(r?z1(H1(r)).link:null)||r||t||e||n}class _5{constructor(e){const t=z1(H1(e)),r=t.apiKey??null,s=t.oobCode??null,i=DF(t.mode??null);Fn(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PF(e);try{return new _5(t)}catch{return null}}}class Ff{constructor(){this.providerId=Ff.PROVIDER_ID}static credential(e,t){return c0._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_5.parseLink(t);return Fn(r,"argument-error"),c0._fromEmailAndCode(e,r.code,r.tenantId)}}Ff.PROVIDER_ID="password";Ff.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ff.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class M6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class O0 extends M6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bu extends O0{constructor(){super("facebook.com")}static credential(e){return Uh._fromParams({providerId:Bu.PROVIDER_ID,signInMethod:Bu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bu.credentialFromTaggedObject(e)}static credentialFromError(e){return Bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bu.credential(e.oauthAccessToken)}catch{return null}}}Bu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bu.PROVIDER_ID="facebook.com";class Uu extends O0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uh._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Uu.credential(t,r)}catch{return null}}}Uu.GOOGLE_SIGN_IN_METHOD="google.com";Uu.PROVIDER_ID="google.com";class Vu extends O0{constructor(){super("github.com")}static credential(e){return Uh._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vu.credential(e.oauthAccessToken)}catch{return null}}}Vu.GITHUB_SIGN_IN_METHOD="github.com";Vu.PROVIDER_ID="github.com";class zu extends O0{constructor(){super("twitter.com")}static credential(e,t){return Uh._fromParams({providerId:zu.PROVIDER_ID,signInMethod:zu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zu.credentialFromTaggedObject(e)}static credentialFromError(e){return zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zu.credential(t,r)}catch{return null}}}zu.TWITTER_SIGN_IN_METHOD="twitter.com";zu.PROVIDER_ID="twitter.com";async function LF(n,e){return R0(n,"POST","/v1/accounts:signUp",lh(n,e))}class Vh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await Al._fromIdTokenResponse(e,r,s),u=p_(r);return new Vh({user:i,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=p_(r);return new Vh({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function p_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class qg extends yc{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new qg(e,t,r,s)}}function j6(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(n,i,e,r):i})}async function kF(n,e,t=!1){const r=await wf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vh._forOperation(n,"link",r)}async function MF(n,e,t=!1){const{auth:r}=n;if(Wo(r.app))return Promise.reject(Qc(r));const s="reauthenticate";try{const i=await wf(n,j6(r,s,e,n),t);Fn(i.idToken,r,"internal-error");const u=v5(i.idToken);Fn(u,r,"internal-error");const{sub:d}=u;return Fn(n.uid===d,r,"user-mismatch"),Vh._forOperation(n,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Dl(r,"user-mismatch"),i}}async function F6(n,e,t=!1){if(Wo(n.app))return Promise.reject(Qc(n));const r="signIn",s=await j6(n,r,e),i=await Vh._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function jF(n,e){return F6(Jh(n),e)}async function B6(n){const e=Jh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FF(n,e,t){if(Wo(n.app))return Promise.reject(Qc(n));const r=Jh(n),u=await tv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LF).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&B6(n),g}),d=await Vh._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function BF(n,e,t){return Wo(n.app)?Promise.reject(Qc(n)):jF(ja(n),Ff.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B6(n),r})}async function UF(n,e){return uu(n,"POST","/v1/accounts:update",e)}async function VF(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ja(n),i={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await wf(r,UF(r.auth,i));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:g})=>g==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function zF(n,e,t,r){return ja(n).onIdTokenChanged(e,t,r)}function HF(n,e,t){return ja(n).beforeAuthStateChanged(e,t)}function U6(n,e,t,r){return ja(n).onAuthStateChanged(e,t,r)}function qF(n){return ja(n).signOut()}const Gg="__sak";class V6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gg,"1"),this.storage.removeItem(Gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GF=1e3,WF=10;class z6 extends V6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,g)=>{this.notifyListeners(u,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},i=this.storage.getItem(r);lF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,WF):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},GF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z6.type="LOCAL";const YF=z6;class H6 extends V6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H6.type="SESSION";const q6=H6;function XF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,i)),g=await XF(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];function A5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class QF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,u;return new Promise((d,g)=>{const p=A5("",20);s.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const I=_;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(b),i=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),d(I.data.response);break;default:clearTimeout(b),clearTimeout(i),g(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function lc(){return window}function KF(n){lc().location.href=n}function G6(){return typeof lc().WorkerGlobalScope<"u"&&typeof lc().importScripts=="function"}async function $F(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JF(){return navigator?.serviceWorker?.controller||null}function ZF(){return G6()?self:null}const W6="firebaseLocalStorageDb",eB=1,Wg="firebaseLocalStorage",Y6="fbase_key";class D0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function km(n,e){return n.transaction([Wg],e?"readwrite":"readonly").objectStore(Wg)}function tB(){const n=indexedDB.deleteDatabase(W6);return new D0(n).toPromise()}function nv(){const n=indexedDB.open(W6,eB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wg,{keyPath:Y6})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Wg)?e(r):(r.close(),await tB(),e(await nv()))})})}async function g_(n,e,t){const r=km(n,!0).put({[Y6]:e,value:t});return new D0(r).toPromise()}async function nB(n,e){const t=km(n,!1).get(e),r=await new D0(t).toPromise();return r===void 0?null:r.value}function m_(n,e){const t=km(n,!0).delete(e);return new D0(t).toPromise()}const rB=800,sB=3;class X6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(ZF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $F(),!this.activeServiceWorker)return;this.sender=new QF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await g_(e,Gg,"1"),await m_(e,Gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>g_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>m_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=km(s,!1).getAll();return new D0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X6.type="LOCAL";const aB=X6;new I0(3e4,6e4);function iB(n,e){return e?Wc(e):(Fn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class E5 extends w5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oB(n){return F6(n.auth,new E5(n),n.bypassAuthState)}function lB(n){const{auth:e,user:t}=n;return Fn(t,e,"internal-error"),MF(t,new E5(n),n.bypassAuthState)}async function cB(n){const{auth:e,user:t}=n;return Fn(t,e,"internal-error"),kF(t,new E5(n),n.bypassAuthState)}class Q6{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:u,type:d}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return cB;case"reauthViaPopup":case"reauthViaRedirect":return lB;default:Dl(this.auth,"internal-error")}}resolve(e){eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uB=new I0(2e3,1e4);class tf extends Q6{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fn(e,this.auth,"internal-error"),e}async onExecution(){eu(this.filter.length===1,"Popup operations only handle one event");const e=A5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uB.get())};e()}}tf.currentPopupAction=null;const hB="pendingRedirect",mg=new Map;class dB extends Q6{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const r=await fB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fB(n,e){const t=mB(e),r=gB(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function pB(n,e){mg.set(n._key(),e)}function gB(n){return Wc(n._redirectPersistence)}function mB(n){return gg(hB,n.config.apiKey,n.name)}async function xB(n,e,t=!1){if(Wo(n.app))return Promise.reject(Qc(n));const r=Jh(n),s=iB(r,e),u=await new dB(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const yB=600*1e3;class vB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!K6(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(oc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yB&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function K6({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K6(n);default:return!1}}async function wB(n,e={}){return uu(n,"GET","/v1/projects",e)}const _B=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AB=/^https?/;async function EB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wB(n);for(const t of e)try{if(CB(t))return}catch{}Dl(n,"unauthorized-domain")}function CB(n){const e=Zy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!AB.test(t))return!1;if(_B.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const SB=new I0(3e4,6e4);function y_(){const n=lc().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NB(n){return new Promise((e,t)=>{function r(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),t(oc(n,"network-request-failed"))},timeout:SB.get()})}if(lc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(lc().gapi?.load)r();else{const s=xF("iframefcb");return lc()[s]=()=>{gapi.load?r():t(oc(n,"network-request-failed"))},P6(`${mF()}?onload=${s}`).catch(i=>t(i))}}).catch(e=>{throw xg=null,e})}let xg=null;function TB(n){return xg=xg||NB(n),xg}const IB=new I0(5e3,15e3),RB="__/auth/iframe",OB="emulator/auth/iframe",DB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LB(n){const e=n.config;Fn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?y5(e,OB):`https://${n.config.authDomain}/${RB}`,r={apiKey:e.apiKey,appName:n.name,v:$h},s=PB.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${T0(r).slice(1)}`}async function kB(n){const e=await TB(n),t=lc().gapi;return Fn(t,n,"internal-error"),e.open({where:document.body,url:LB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const u=oc(n,"network-request-failed"),d=lc().setTimeout(()=>{i(u)},IB.get());function g(){lc().clearTimeout(d),s(r)}r.ping(g).then(g,()=>{i(u)})}))}const MB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jB=500,FB=600,BB="_blank",UB="http://localhost";class v_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VB(n,e,t,r=jB,s=FB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const g={...MB,width:r.toString(),height:s.toString(),top:i,left:u},p=so().toLowerCase();t&&(d=S6(p)?BB:t),E6(p)&&(e=e||UB,g.scrollbars="yes");const b=Object.entries(g).reduce((I,[S,P])=>`${I}${S}=${P},`,"");if(oF(p)&&d!=="_self")return zB(e||"",d),new v_(null);const _=window.open(e||"",d,b);Fn(_,n,"popup-blocked");try{_.focus()}catch{}return new v_(_)}function zB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const HB="__/auth/handler",qB="emulator/auth/handler",GB=encodeURIComponent("fac");async function b_(n,e,t,r,s,i){Fn(n.config.authDomain,n,"auth-domain-config-required"),Fn(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$h,eventId:s};if(e instanceof M6){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,_]of Object.entries({}))u[b]=_}if(e instanceof O0){const b=e.getScopes().filter(_=>_!=="");b.length>0&&(u.scopes=b.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const g=await n._getAppCheckToken(),p=g?`#${GB}=${encodeURIComponent(g)}`:"";return`${WB(n)}?${T0(d).slice(1)}${p}`}function WB({config:n}){return n.emulator?y5(n,qB):`https://${n.authDomain}/${HB}`}const sy="webStorageSupport";class YB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q6,this._completeRedirectFn=xB,this._overrideRedirectResult=pB}async _openPopup(e,t,r,s){eu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await b_(e,t,r,Zy(),s);return VB(e,i,A5())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await b_(e,t,r,Zy(),s);return KF(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(eu(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await kB(e),r=new vB(e);return t.register("authEvent",s=>(Fn(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sy,{type:sy},s=>{const i=s?.[0]?.[sy];i!==void 0&&t(!!i),Dl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O6()||C6()||b5()}}const XB=YB;var w_="@firebase/auth",__="1.12.0";class QB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $B(n){Bh(new $u("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Fn(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D6(n)},p=new fF(r,s,i,g);return AF(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bh(new $u("auth-internal",e=>{const t=Jh(e.getProvider("auth").getImmediate());return(r=>new QB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ic(w_,__,KB(n)),ic(w_,__,"esm2020")}const JB=300,ZB=c6("authIdTokenMaxAge")||JB;let A_=null;const eU=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZB)return;const s=t?.token;A_!==s&&(A_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tU(n=m5()){const e=Dm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_F(n,{popupRedirectResolver:XB,persistence:[aB,YF,q6]}),r=c6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const u=eU(i.toString());HF(t,u,()=>u(t.currentUser)),zF(t,d=>u(d))}}const s=i6("auth");return s&&EF(t,`http://${s}`),t}function nU(){return document.getElementsByTagName("head")?.[0]??document}pF({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=oc("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",nU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$B("Browser");var rU="firebase",sU="12.8.0";ic(rU,sU,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yu,$6;(function(){var n;function e(Y,U){function F(){}F.prototype=U.prototype,Y.F=U.prototype,Y.prototype=new F,Y.prototype.constructor=Y,Y.D=function(te,z,q){for(var X=Array(arguments.length-2),be=2;be<arguments.length;be++)X[be-2]=arguments[be];return U.prototype[z].apply(te,X)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Y,U,F){F||(F=0);const te=Array(16);if(typeof U=="string")for(var z=0;z<16;++z)te[z]=U.charCodeAt(F++)|U.charCodeAt(F++)<<8|U.charCodeAt(F++)<<16|U.charCodeAt(F++)<<24;else for(z=0;z<16;++z)te[z]=U[F++]|U[F++]<<8|U[F++]<<16|U[F++]<<24;U=Y.g[0],F=Y.g[1],z=Y.g[2];let q=Y.g[3],X;X=U+(q^F&(z^q))+te[0]+3614090360&4294967295,U=F+(X<<7&4294967295|X>>>25),X=q+(z^U&(F^z))+te[1]+3905402710&4294967295,q=U+(X<<12&4294967295|X>>>20),X=z+(F^q&(U^F))+te[2]+606105819&4294967295,z=q+(X<<17&4294967295|X>>>15),X=F+(U^z&(q^U))+te[3]+3250441966&4294967295,F=z+(X<<22&4294967295|X>>>10),X=U+(q^F&(z^q))+te[4]+4118548399&4294967295,U=F+(X<<7&4294967295|X>>>25),X=q+(z^U&(F^z))+te[5]+1200080426&4294967295,q=U+(X<<12&4294967295|X>>>20),X=z+(F^q&(U^F))+te[6]+2821735955&4294967295,z=q+(X<<17&4294967295|X>>>15),X=F+(U^z&(q^U))+te[7]+4249261313&4294967295,F=z+(X<<22&4294967295|X>>>10),X=U+(q^F&(z^q))+te[8]+1770035416&4294967295,U=F+(X<<7&4294967295|X>>>25),X=q+(z^U&(F^z))+te[9]+2336552879&4294967295,q=U+(X<<12&4294967295|X>>>20),X=z+(F^q&(U^F))+te[10]+4294925233&4294967295,z=q+(X<<17&4294967295|X>>>15),X=F+(U^z&(q^U))+te[11]+2304563134&4294967295,F=z+(X<<22&4294967295|X>>>10),X=U+(q^F&(z^q))+te[12]+1804603682&4294967295,U=F+(X<<7&4294967295|X>>>25),X=q+(z^U&(F^z))+te[13]+4254626195&4294967295,q=U+(X<<12&4294967295|X>>>20),X=z+(F^q&(U^F))+te[14]+2792965006&4294967295,z=q+(X<<17&4294967295|X>>>15),X=F+(U^z&(q^U))+te[15]+1236535329&4294967295,F=z+(X<<22&4294967295|X>>>10),X=U+(z^q&(F^z))+te[1]+4129170786&4294967295,U=F+(X<<5&4294967295|X>>>27),X=q+(F^z&(U^F))+te[6]+3225465664&4294967295,q=U+(X<<9&4294967295|X>>>23),X=z+(U^F&(q^U))+te[11]+643717713&4294967295,z=q+(X<<14&4294967295|X>>>18),X=F+(q^U&(z^q))+te[0]+3921069994&4294967295,F=z+(X<<20&4294967295|X>>>12),X=U+(z^q&(F^z))+te[5]+3593408605&4294967295,U=F+(X<<5&4294967295|X>>>27),X=q+(F^z&(U^F))+te[10]+38016083&4294967295,q=U+(X<<9&4294967295|X>>>23),X=z+(U^F&(q^U))+te[15]+3634488961&4294967295,z=q+(X<<14&4294967295|X>>>18),X=F+(q^U&(z^q))+te[4]+3889429448&4294967295,F=z+(X<<20&4294967295|X>>>12),X=U+(z^q&(F^z))+te[9]+568446438&4294967295,U=F+(X<<5&4294967295|X>>>27),X=q+(F^z&(U^F))+te[14]+3275163606&4294967295,q=U+(X<<9&4294967295|X>>>23),X=z+(U^F&(q^U))+te[3]+4107603335&4294967295,z=q+(X<<14&4294967295|X>>>18),X=F+(q^U&(z^q))+te[8]+1163531501&4294967295,F=z+(X<<20&4294967295|X>>>12),X=U+(z^q&(F^z))+te[13]+2850285829&4294967295,U=F+(X<<5&4294967295|X>>>27),X=q+(F^z&(U^F))+te[2]+4243563512&4294967295,q=U+(X<<9&4294967295|X>>>23),X=z+(U^F&(q^U))+te[7]+1735328473&4294967295,z=q+(X<<14&4294967295|X>>>18),X=F+(q^U&(z^q))+te[12]+2368359562&4294967295,F=z+(X<<20&4294967295|X>>>12),X=U+(F^z^q)+te[5]+4294588738&4294967295,U=F+(X<<4&4294967295|X>>>28),X=q+(U^F^z)+te[8]+2272392833&4294967295,q=U+(X<<11&4294967295|X>>>21),X=z+(q^U^F)+te[11]+1839030562&4294967295,z=q+(X<<16&4294967295|X>>>16),X=F+(z^q^U)+te[14]+4259657740&4294967295,F=z+(X<<23&4294967295|X>>>9),X=U+(F^z^q)+te[1]+2763975236&4294967295,U=F+(X<<4&4294967295|X>>>28),X=q+(U^F^z)+te[4]+1272893353&4294967295,q=U+(X<<11&4294967295|X>>>21),X=z+(q^U^F)+te[7]+4139469664&4294967295,z=q+(X<<16&4294967295|X>>>16),X=F+(z^q^U)+te[10]+3200236656&4294967295,F=z+(X<<23&4294967295|X>>>9),X=U+(F^z^q)+te[13]+681279174&4294967295,U=F+(X<<4&4294967295|X>>>28),X=q+(U^F^z)+te[0]+3936430074&4294967295,q=U+(X<<11&4294967295|X>>>21),X=z+(q^U^F)+te[3]+3572445317&4294967295,z=q+(X<<16&4294967295|X>>>16),X=F+(z^q^U)+te[6]+76029189&4294967295,F=z+(X<<23&4294967295|X>>>9),X=U+(F^z^q)+te[9]+3654602809&4294967295,U=F+(X<<4&4294967295|X>>>28),X=q+(U^F^z)+te[12]+3873151461&4294967295,q=U+(X<<11&4294967295|X>>>21),X=z+(q^U^F)+te[15]+530742520&4294967295,z=q+(X<<16&4294967295|X>>>16),X=F+(z^q^U)+te[2]+3299628645&4294967295,F=z+(X<<23&4294967295|X>>>9),X=U+(z^(F|~q))+te[0]+4096336452&4294967295,U=F+(X<<6&4294967295|X>>>26),X=q+(F^(U|~z))+te[7]+1126891415&4294967295,q=U+(X<<10&4294967295|X>>>22),X=z+(U^(q|~F))+te[14]+2878612391&4294967295,z=q+(X<<15&4294967295|X>>>17),X=F+(q^(z|~U))+te[5]+4237533241&4294967295,F=z+(X<<21&4294967295|X>>>11),X=U+(z^(F|~q))+te[12]+1700485571&4294967295,U=F+(X<<6&4294967295|X>>>26),X=q+(F^(U|~z))+te[3]+2399980690&4294967295,q=U+(X<<10&4294967295|X>>>22),X=z+(U^(q|~F))+te[10]+4293915773&4294967295,z=q+(X<<15&4294967295|X>>>17),X=F+(q^(z|~U))+te[1]+2240044497&4294967295,F=z+(X<<21&4294967295|X>>>11),X=U+(z^(F|~q))+te[8]+1873313359&4294967295,U=F+(X<<6&4294967295|X>>>26),X=q+(F^(U|~z))+te[15]+4264355552&4294967295,q=U+(X<<10&4294967295|X>>>22),X=z+(U^(q|~F))+te[6]+2734768916&4294967295,z=q+(X<<15&4294967295|X>>>17),X=F+(q^(z|~U))+te[13]+1309151649&4294967295,F=z+(X<<21&4294967295|X>>>11),X=U+(z^(F|~q))+te[4]+4149444226&4294967295,U=F+(X<<6&4294967295|X>>>26),X=q+(F^(U|~z))+te[11]+3174756917&4294967295,q=U+(X<<10&4294967295|X>>>22),X=z+(U^(q|~F))+te[2]+718787259&4294967295,z=q+(X<<15&4294967295|X>>>17),X=F+(q^(z|~U))+te[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+U&4294967295,Y.g[1]=Y.g[1]+(z+(X<<21&4294967295|X>>>11))&4294967295,Y.g[2]=Y.g[2]+z&4294967295,Y.g[3]=Y.g[3]+q&4294967295}r.prototype.v=function(Y,U){U===void 0&&(U=Y.length);const F=U-this.blockSize,te=this.C;let z=this.h,q=0;for(;q<U;){if(z==0)for(;q<=F;)s(this,Y,q),q+=this.blockSize;if(typeof Y=="string"){for(;q<U;)if(te[z++]=Y.charCodeAt(q++),z==this.blockSize){s(this,te),z=0;break}}else for(;q<U;)if(te[z++]=Y[q++],z==this.blockSize){s(this,te),z=0;break}}this.h=z,this.o+=U},r.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var U=1;U<Y.length-8;++U)Y[U]=0;U=this.o*8;for(var F=Y.length-8;F<Y.length;++F)Y[F]=U&255,U/=256;for(this.v(Y),Y=Array(16),U=0,F=0;F<4;++F)for(let te=0;te<32;te+=8)Y[U++]=this.g[F]>>>te&255;return Y};function i(Y,U){var F=d;return Object.prototype.hasOwnProperty.call(F,Y)?F[Y]:F[Y]=U(Y)}function u(Y,U){this.h=U;const F=[];let te=!0;for(let z=Y.length-1;z>=0;z--){const q=Y[z]|0;te&&q==U||(F[z]=q,te=!1)}this.g=F}var d={};function g(Y){return-128<=Y&&Y<128?i(Y,function(U){return new u([U|0],U<0?-1:0)}):new u([Y|0],Y<0?-1:0)}function p(Y){if(isNaN(Y)||!isFinite(Y))return _;if(Y<0)return M(p(-Y));const U=[];let F=1;for(let te=0;Y>=F;te++)U[te]=Y/F|0,F*=4294967296;return new u(U,0)}function b(Y,U){if(Y.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(Y.charAt(0)=="-")return M(b(Y.substring(1),U));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=p(Math.pow(U,8));let te=_;for(let q=0;q<Y.length;q+=8){var z=Math.min(8,Y.length-q);const X=parseInt(Y.substring(q,q+z),U);z<8?(z=p(Math.pow(U,z)),te=te.j(z).add(p(X))):(te=te.j(F),te=te.add(p(X)))}return te}var _=g(0),I=g(1),S=g(16777216);n=u.prototype,n.m=function(){if(k(this))return-M(this).m();let Y=0,U=1;for(let F=0;F<this.g.length;F++){const te=this.i(F);Y+=(te>=0?te:4294967296+te)*U,U*=4294967296}return Y},n.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(P(this))return"0";if(k(this))return"-"+M(this).toString(Y);const U=p(Math.pow(Y,6));var F=this;let te="";for(;;){const z=ee(F,U).g;F=j(F,z.j(U));let q=((F.g.length>0?F.g[0]:F.h)>>>0).toString(Y);if(F=z,P(F))return q+te;for(;q.length<6;)q="0"+q;te=q+te}},n.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function P(Y){if(Y.h!=0)return!1;for(let U=0;U<Y.g.length;U++)if(Y.g[U]!=0)return!1;return!0}function k(Y){return Y.h==-1}n.l=function(Y){return Y=j(this,Y),k(Y)?-1:P(Y)?0:1};function M(Y){const U=Y.g.length,F=[];for(let te=0;te<U;te++)F[te]=~Y.g[te];return new u(F,~Y.h).add(I)}n.abs=function(){return k(this)?M(this):this},n.add=function(Y){const U=Math.max(this.g.length,Y.g.length),F=[];let te=0;for(let z=0;z<=U;z++){let q=te+(this.i(z)&65535)+(Y.i(z)&65535),X=(q>>>16)+(this.i(z)>>>16)+(Y.i(z)>>>16);te=X>>>16,q&=65535,X&=65535,F[z]=X<<16|q}return new u(F,F[F.length-1]&-2147483648?-1:0)};function j(Y,U){return Y.add(M(U))}n.j=function(Y){if(P(this)||P(Y))return _;if(k(this))return k(Y)?M(this).j(M(Y)):M(M(this).j(Y));if(k(Y))return M(this.j(M(Y)));if(this.l(S)<0&&Y.l(S)<0)return p(this.m()*Y.m());const U=this.g.length+Y.g.length,F=[];for(var te=0;te<2*U;te++)F[te]=0;for(te=0;te<this.g.length;te++)for(let z=0;z<Y.g.length;z++){const q=this.i(te)>>>16,X=this.i(te)&65535,be=Y.i(z)>>>16,pe=Y.i(z)&65535;F[2*te+2*z]+=X*pe,J(F,2*te+2*z),F[2*te+2*z+1]+=q*pe,J(F,2*te+2*z+1),F[2*te+2*z+1]+=X*be,J(F,2*te+2*z+1),F[2*te+2*z+2]+=q*be,J(F,2*te+2*z+2)}for(Y=0;Y<U;Y++)F[Y]=F[2*Y+1]<<16|F[2*Y];for(Y=U;Y<2*U;Y++)F[Y]=0;return new u(F,0)};function J(Y,U){for(;(Y[U]&65535)!=Y[U];)Y[U+1]+=Y[U]>>>16,Y[U]&=65535,U++}function Z(Y,U){this.g=Y,this.h=U}function ee(Y,U){if(P(U))throw Error("division by zero");if(P(Y))return new Z(_,_);if(k(Y))return U=ee(M(Y),U),new Z(M(U.g),M(U.h));if(k(U))return U=ee(Y,M(U)),new Z(M(U.g),U.h);if(Y.g.length>30){if(k(Y)||k(U))throw Error("slowDivide_ only works with positive integers.");for(var F=I,te=U;te.l(Y)<=0;)F=we(F),te=we(te);var z=Re(F,1),q=Re(te,1);for(te=Re(te,2),F=Re(F,2);!P(te);){var X=q.add(te);X.l(Y)<=0&&(z=z.add(F),q=X),te=Re(te,1),F=Re(F,1)}return U=j(Y,z.j(U)),new Z(z,U)}for(z=_;Y.l(U)>=0;){for(F=Math.max(1,Math.floor(Y.m()/U.m())),te=Math.ceil(Math.log(F)/Math.LN2),te=te<=48?1:Math.pow(2,te-48),q=p(F),X=q.j(U);k(X)||X.l(Y)>0;)F-=te,q=p(F),X=q.j(U);P(q)&&(q=I),z=z.add(q),Y=j(Y,X)}return new Z(z,Y)}n.B=function(Y){return ee(this,Y).h},n.and=function(Y){const U=Math.max(this.g.length,Y.g.length),F=[];for(let te=0;te<U;te++)F[te]=this.i(te)&Y.i(te);return new u(F,this.h&Y.h)},n.or=function(Y){const U=Math.max(this.g.length,Y.g.length),F=[];for(let te=0;te<U;te++)F[te]=this.i(te)|Y.i(te);return new u(F,this.h|Y.h)},n.xor=function(Y){const U=Math.max(this.g.length,Y.g.length),F=[];for(let te=0;te<U;te++)F[te]=this.i(te)^Y.i(te);return new u(F,this.h^Y.h)};function we(Y){const U=Y.g.length+1,F=[];for(let te=0;te<U;te++)F[te]=Y.i(te)<<1|Y.i(te-1)>>>31;return new u(F,Y.h)}function Re(Y,U){const F=U>>5;U%=32;const te=Y.g.length-F,z=[];for(let q=0;q<te;q++)z[q]=U>0?Y.i(q+F)>>>U|Y.i(q+F+1)<<32-U:Y.i(q+F);return new u(z,Y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$6=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=b,Yu=u}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J6,q1,Z6,yg,rv,eN,tN,nN;(function(){var n,e=Object.defineProperty;function t(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gp=="object"&&Gp];for(var V=0;V<A.length;++V){var Q=A[V];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=t(this);function s(A,V){if(V)e:{var Q=r;A=A.split(".");for(var de=0;de<A.length-1;de++){var He=A[de];if(!(He in Q))break e;Q=Q[He]}A=A[A.length-1],de=Q[A],V=V(de),V!=de&&V!=null&&e(Q,A,{configurable:!0,writable:!0,value:V})}}s("Symbol.dispose",function(A){return A||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(A){return A||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(A){return A||function(V){var Q=[],de;for(de in V)Object.prototype.hasOwnProperty.call(V,de)&&Q.push([de,V[de]]);return Q}});var i=i||{},u=this||self;function d(A){var V=typeof A;return V=="object"&&A!=null||V=="function"}function g(A,V,Q){return A.call.apply(A.bind,arguments)}function p(A,V,Q){return p=g,p.apply(null,arguments)}function b(A,V){var Q=Array.prototype.slice.call(arguments,1);return function(){var de=Q.slice();return de.push.apply(de,arguments),A.apply(this,de)}}function _(A,V){function Q(){}Q.prototype=V.prototype,A.Z=V.prototype,A.prototype=new Q,A.prototype.constructor=A,A.Ob=function(de,He,Je){for(var Ct=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)Ct[Pn-2]=arguments[Pn];return V.prototype[He].apply(de,Ct)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?A=>A&&AsyncContext.Snapshot.wrap(A):A=>A;function S(A){const V=A.length;if(V>0){const Q=Array(V);for(let de=0;de<V;de++)Q[de]=A[de];return Q}return[]}function P(A,V){for(let de=1;de<arguments.length;de++){const He=arguments[de];var Q=typeof He;if(Q=Q!="object"?Q:He?Array.isArray(He)?"array":Q:"null",Q=="array"||Q=="object"&&typeof He.length=="number"){Q=A.length||0;const Je=He.length||0;A.length=Q+Je;for(let Ct=0;Ct<Je;Ct++)A[Q+Ct]=He[Ct]}else A.push(He)}}class k{constructor(V,Q){this.i=V,this.j=Q,this.h=0,this.g=null}get(){let V;return this.h>0?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function M(A){u.setTimeout(()=>{throw A},0)}function j(){var A=Y;let V=null;return A.g&&(V=A.g,A.g=A.g.next,A.g||(A.h=null),V.next=null),V}class J{constructor(){this.h=this.g=null}add(V,Q){const de=Z.get();de.set(V,Q),this.h?this.h.next=de:this.g=de,this.h=de}}var Z=new k(()=>new ee,A=>A.reset());class ee{constructor(){this.next=this.g=this.h=null}set(V,Q){this.h=V,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Re=!1,Y=new J,U=()=>{const A=Promise.resolve(void 0);we=()=>{A.then(F)}};function F(){for(var A;A=j();){try{A.h.call(A.g)}catch(Q){M(Q)}var V=Z;V.j(A),V.h<100&&(V.h++,A.next=V.g,V.g=A)}Re=!1}function te(){this.u=this.u,this.C=this.C}te.prototype.u=!1,te.prototype.dispose=function(){this.u||(this.u=!0,this.N())},te.prototype[Symbol.dispose]=function(){this.dispose()},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(A,V){this.type=A,this.g=this.target=V,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var A=!1,V=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const Q=()=>{};u.addEventListener("test",Q,V),u.removeEventListener("test",Q,V)}catch{}return A})();function X(A){return/^[\s\xa0]*$/.test(A)}function be(A,V){z.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A&&this.init(A,V)}_(be,z),be.prototype.init=function(A,V){const Q=this.type=A.type,de=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;this.target=A.target||A.srcElement,this.g=V,V=A.relatedTarget,V||(Q=="mouseover"?V=A.fromElement:Q=="mouseout"&&(V=A.toElement)),this.relatedTarget=V,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=A.pointerType,this.state=A.state,this.i=A,A.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ge=0;function Se(A,V,Q,de,He){this.listener=A,this.proxy=null,this.src=V,this.type=Q,this.capture=!!de,this.ha=He,this.key=++ge,this.da=this.fa=!1}function ye(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function De(A,V,Q){for(const de in A)V.call(Q,A[de],de,A)}function rt(A,V){for(const Q in A)V.call(void 0,A[Q],Q,A)}function me(A){const V={};for(const Q in A)V[Q]=A[Q];return V}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(A,V){let Q,de;for(let He=1;He<arguments.length;He++){de=arguments[He];for(Q in de)A[Q]=de[Q];for(let Je=0;Je<$.length;Je++)Q=$[Je],Object.prototype.hasOwnProperty.call(de,Q)&&(A[Q]=de[Q])}}function he(A){this.src=A,this.g={},this.h=0}he.prototype.add=function(A,V,Q,de,He){const Je=A.toString();A=this.g[Je],A||(A=this.g[Je]=[],this.h++);const Ct=Ae(A,V,de,He);return Ct>-1?(V=A[Ct],Q||(V.fa=!1)):(V=new Se(V,this.src,Je,!!de,He),V.fa=Q,A.push(V)),V};function Ie(A,V){const Q=V.type;if(Q in A.g){var de=A.g[Q],He=Array.prototype.indexOf.call(de,V,void 0),Je;(Je=He>=0)&&Array.prototype.splice.call(de,He,1),Je&&(ye(V),A.g[Q].length==0&&(delete A.g[Q],A.h--))}}function Ae(A,V,Q,de){for(let He=0;He<A.length;++He){const Je=A[He];if(!Je.da&&Je.listener==V&&Je.capture==!!Q&&Je.ha==de)return He}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),ze={};function We(A,V,Q,de,He){if(Array.isArray(V)){for(let Je=0;Je<V.length;Je++)We(A,V[Je],Q,de,He);return null}return Q=Ot(Q),A&&A[pe]?A.J(V,Q,d(de)?!!de.capture:!1,He):it(A,V,Q,!1,de,He)}function it(A,V,Q,de,He,Je){if(!V)throw Error("Invalid event type");const Ct=d(He)?!!He.capture:!!He;let Pn=Tt(A);if(Pn||(A[Oe]=Pn=new he(A)),Q=Pn.add(V,Q,de,Ct,Je),Q.proxy)return Q;if(de=mt(),Q.proxy=de,de.src=A,de.listener=Q,A.addEventListener)q||(He=Ct),He===void 0&&(He=!1),A.addEventListener(V.toString(),de,He);else if(A.attachEvent)A.attachEvent(Ut(V.toString()),de);else if(A.addListener&&A.removeListener)A.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function mt(){function A(Q){return V.call(A.src,A.listener,Q)}const V=ve;return A}function Nt(A,V,Q,de,He){if(Array.isArray(V))for(var Je=0;Je<V.length;Je++)Nt(A,V[Je],Q,de,He);else de=d(de)?!!de.capture:!!de,Q=Ot(Q),A&&A[pe]?(A=A.i,Je=String(V).toString(),Je in A.g&&(V=A.g[Je],Q=Ae(V,Q,de,He),Q>-1&&(ye(V[Q]),Array.prototype.splice.call(V,Q,1),V.length==0&&(delete A.g[Je],A.h--)))):A&&(A=Tt(A))&&(V=A.g[V.toString()],A=-1,V&&(A=Ae(V,Q,de,He)),(Q=A>-1?V[A]:null)&&vt(Q))}function vt(A){if(typeof A!="number"&&A&&!A.da){var V=A.src;if(V&&V[pe])Ie(V.i,A);else{var Q=A.type,de=A.proxy;V.removeEventListener?V.removeEventListener(Q,de,A.capture):V.detachEvent?V.detachEvent(Ut(Q),de):V.addListener&&V.removeListener&&V.removeListener(de),(Q=Tt(V))?(Ie(Q,A),Q.h==0&&(Q.src=null,V[Oe]=null)):ye(A)}}}function Ut(A){return A in ze?ze[A]:ze[A]="on"+A}function ve(A,V){if(A.da)A=!0;else{V=new be(V,this);const Q=A.listener,de=A.ha||A.src;A.fa&&vt(A),A=Q.call(de,V)}return A}function Tt(A){return A=A[Oe],A instanceof he?A:null}var Zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ot(A){return typeof A=="function"?A:(A[Zt]||(A[Zt]=function(V){return A.handleEvent(V)}),A[Zt])}function et(){te.call(this),this.i=new he(this),this.M=this,this.G=null}_(et,te),et.prototype[pe]=!0,et.prototype.removeEventListener=function(A,V,Q,de){Nt(this,A,V,Q,de)};function jt(A,V){var Q,de=A.G;if(de)for(Q=[];de;de=de.G)Q.push(de);if(A=A.M,de=V.type||V,typeof V=="string")V=new z(V,A);else if(V instanceof z)V.target=V.target||A;else{var He=V;V=new z(de,A),le(V,He)}He=!0;let Je,Ct;if(Q)for(Ct=Q.length-1;Ct>=0;Ct--)Je=V.g=Q[Ct],He=ot(Je,de,!0,V)&&He;if(Je=V.g=A,He=ot(Je,de,!0,V)&&He,He=ot(Je,de,!1,V)&&He,Q)for(Ct=0;Ct<Q.length;Ct++)Je=V.g=Q[Ct],He=ot(Je,de,!1,V)&&He}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var A=this.i;for(const V in A.g){const Q=A.g[V];for(let de=0;de<Q.length;de++)ye(Q[de]);delete A.g[V],A.h--}}this.G=null},et.prototype.J=function(A,V,Q,de){return this.i.add(String(A),V,!1,Q,de)},et.prototype.K=function(A,V,Q,de){return this.i.add(String(A),V,!0,Q,de)};function ot(A,V,Q,de){if(V=A.i.g[String(V)],!V)return!0;V=V.concat();let He=!0;for(let Je=0;Je<V.length;++Je){const Ct=V[Je];if(Ct&&!Ct.da&&Ct.capture==Q){const Pn=Ct.listener,Xr=Ct.ha||Ct.src;Ct.fa&&Ie(A.i,Ct),He=Pn.call(Xr,de)!==!1&&He}}return He&&!de.defaultPrevented}function pn(A,V){if(typeof A!="function")if(A&&typeof A.handleEvent=="function")A=p(A.handleEvent,A);else throw Error("Invalid listener argument");return Number(V)>2147483647?-1:u.setTimeout(A,V||0)}function un(A){A.g=pn(()=>{A.g=null,A.i&&(A.i=!1,un(A))},A.l);const V=A.h;A.h=null,A.m.apply(null,V)}class Cn extends te{constructor(V,Q){super(),this.m=V,this.l=Q,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:un(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(A){te.call(this),this.h=A,this.g={}}_(Vn,te);var gn=[];function Xn(A){De(A.g,function(V,Q){this.g.hasOwnProperty(Q)&&vt(V)},A),A.g={}}Vn.prototype.N=function(){Vn.Z.N.call(this),Xn(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=u.JSON.stringify,Mt=u.JSON.parse,jn=class{stringify(A){return u.JSON.stringify(A,void 0)}parse(A){return u.JSON.parse(A,void 0)}};function Yt(){}function cs(){}var Kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function at(){z.call(this,"d")}_(at,z);function Vt(){z.call(this,"c")}_(Vt,z);var Bt={},Lt=null;function dr(){return Lt=Lt||new et}Bt.Ia="serverreachability";function wn(A){z.call(this,Bt.Ia,A)}_(wn,z);function En(A){const V=dr();jt(V,new wn(V))}Bt.STAT_EVENT="statevent";function en(A,V){z.call(this,Bt.STAT_EVENT,A),this.stat=V}_(en,z);function Xt(A){const V=dr();jt(V,new en(V,A))}Bt.Ja="timingevent";function tn(A,V){z.call(this,Bt.Ja,A),this.size=V}_(tn,z);function Qn(A,V){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){A()},V)}function Gr(){this.g=!0}Gr.prototype.ua=function(){this.g=!1};function Vs(A,V,Q,de,He,Je){A.info(function(){if(A.g)if(Je){var Ct="",Pn=Je.split("&");for(let Jn=0;Jn<Pn.length;Jn++){var Xr=Pn[Jn].split("=");if(Xr.length>1){const Dr=Xr[0];Xr=Xr[1];const na=Dr.split("_");Ct=na.length>=2&&na[1]=="type"?Ct+(Dr+"="+Xr+"&"):Ct+(Dr+"=redacted&")}}}else Ct=null;else Ct=Je;return"XMLHTTP REQ ("+de+") [attempt "+He+"]: "+V+`
`+Q+`
`+Ct})}function Wr(A,V,Q,de,He,Je,Ct){A.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+He+"]: "+V+`
`+Q+`
`+Je+" "+Ct})}function us(A,V,Q,de){A.info(function(){return"XMLHTTP TEXT ("+V+"): "+zs(A,Q)+(de?" "+de:"")})}function on(A,V){A.info(function(){return"TIMEOUT: "+V})}Gr.prototype.info=function(){};function zs(A,V){if(!A.g)return V;if(!V)return null;try{const Je=JSON.parse(V);if(Je){for(A=0;A<Je.length;A++)if(Array.isArray(Je[A])){var Q=Je[A];if(!(Q.length<2)){var de=Q[1];if(Array.isArray(de)&&!(de.length<1)){var He=de[0];if(He!="noop"&&He!="stop"&&He!="close")for(let Ct=1;Ct<de.length;Ct++)de[Ct]=""}}}}return Dn(Je)}catch{return V}}var ti={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oa;function Gn(){}_(Gn,Yt),Gn.prototype.g=function(){return new XMLHttpRequest},oa=new Gn;function br(A){return encodeURIComponent(String(A))}function Rr(A){var V=1;A=A.split(":");const Q=[];for(;V>0&&A.length;)Q.push(A.shift()),V--;return A.length&&Q.push(A.join(":")),Q}function Rt(A,V,Q,de){this.j=A,this.i=V,this.l=Q,this.S=de||1,this.V=new Vn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}var wr={},Kn={};function ns(A,V,Q){A.M=1,A.A=Ca(hs(V)),A.u=Q,A.R=!0,Js(A,null)}function Js(A,V){A.F=Date.now(),Ba(A),A.B=hs(A.A);var Q=A.B,de=A.S;Array.isArray(de)||(de=[String(de)]),kr(Q.i,"t",de),A.C=0,Q=A.j.L,A.h=new vs,A.g=zt(A.j,Q?V:null,!A.u),A.P>0&&(A.O=new Cn(p(A.Y,A,A.g),A.P)),V=A.V,Q=A.g,de=A.ba;var He="readystatechange";Array.isArray(He)||(He&&(gn[0]=He.toString()),He=gn);for(let Je=0;Je<He.length;Je++){const Ct=We(Q,He[Je],de||V.handleEvent,!1,V.h||V);if(!Ct)break;V.g[Ct.key]=Ct}V=A.J?me(A.J):{},A.u?(A.v||(A.v="POST"),V["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.B,A.v,A.u,V)):(A.v="GET",A.g.ea(A.B,A.v,null,V)),En(),Vs(A.i,A.v,A.B,A.l,A.S,A.u)}Rt.prototype.ba=function(A){A=A.target;const V=this.O;V&&Wa(A)==3?V.j():this.Y(A)},Rt.prototype.Y=function(A){try{if(A==this.g)e:{const Pn=Wa(this.g),Xr=this.g.ya(),Jn=this.g.ca();if(!(Pn<3)&&(Pn!=3||this.g&&(this.h.h||this.g.la()||ss(this.g)))){this.K||Pn!=4||Xr==7||(Xr==8||Jn<=0?En(3):En(2)),Ur(this);var V=this.g.ca();this.X=V;var Q=Aa(this);if(this.o=V==200,Wr(this.i,this.v,this.B,this.l,this.S,Pn,V),this.o){if(this.U&&!this.L){t:{if(this.g){var de,He=this.g;if((de=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(de)){var Je=de;break t}}Je=null}if(A=Je)us(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Os(this,A);else{this.o=!1,this.m=3,Xt(12),Ua(this),$n(this);break e}}if(this.R){A=!0;let Dr;for(;!this.K&&this.C<Q.length;)if(Dr=Ni(this,Q),Dr==Kn){Pn==4&&(this.m=4,Xt(14),A=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Dr==wr){this.m=4,Xt(15),us(this.i,this.l,Q,"[Invalid Chunk]"),A=!1;break}else us(this.i,this.l,Dr,null),Os(this,Dr);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Q.length!=0||this.h.h||(this.m=1,Xt(16),A=!1),this.o=this.o&&A,!A)us(this.i,this.l,Q,"[Invalid Chunked Response]"),Ua(this),$n(this);else if(Q.length>0&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.aa&&!Ct.P&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),tt(Ct),Ct.P=!0,Xt(11))}}else us(this.i,this.l,Q,null),Os(this,Q);Pn==4&&Ua(this),this.o&&!this.K&&(Pn==4?Ce(this.j,this):(this.o=!1,Ba(this)))}else Ya(this.g),V==400&&Q.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Ua(this),$n(this)}}}catch{}};function Aa(A){if(!Zs(A))return A.g.la();const V=ss(A.g);if(V==="")return"";let Q="";const de=V.length,He=Wa(A.g)==4;if(!A.h.i){if(typeof TextDecoder>"u")return Ua(A),$n(A),"";A.h.i=new u.TextDecoder}for(let Je=0;Je<de;Je++)A.h.h=!0,Q+=A.h.i.decode(V[Je],{stream:!(He&&Je==de-1)});return V.length=0,A.h.g+=Q,A.C=0,A.h.g}function Zs(A){return A.g?A.v=="GET"&&A.M!=2&&A.j.Aa:!1}function Ni(A,V){var Q=A.C,de=V.indexOf(`
`,Q);return de==-1?Kn:(Q=Number(V.substring(Q,de)),isNaN(Q)?wr:(de+=1,de+Q>V.length?Kn:(V=V.slice(de,de+Q),A.C=de+Q,V)))}Rt.prototype.cancel=function(){this.K=!0,Ua(this)};function Ba(A){A.T=Date.now()+A.H,Hs(A,A.H)}function Hs(A,V){if(A.D!=null)throw Error("WatchDog timer not null");A.D=Qn(p(A.aa,A),V)}function Ur(A){A.D&&(u.clearTimeout(A.D),A.D=null)}Rt.prototype.aa=function(){this.D=null;const A=Date.now();A-this.T>=0?(on(this.i,this.B),this.M!=2&&(En(),Xt(17)),Ua(this),this.m=2,$n(this)):Hs(this,this.T-A)};function $n(A){A.j.I==0||A.K||Ce(A.j,A)}function Ua(A){Ur(A);var V=A.O;V&&typeof V.dispose=="function"&&V.dispose(),A.O=null,Xn(A.V),A.g&&(V=A.g,A.g=null,V.abort(),V.dispose())}function Os(A,V){try{var Q=A.j;if(Q.I!=0&&(Q.g==A||la(Q.h,A))){if(!A.L&&la(Q.h,A)&&Q.I==3){try{var de=Q.Ba.g.parse(V)}catch{de=null}if(Array.isArray(de)&&de.length==3){var He=de;if(He[0]==0){e:if(!Q.v){if(Q.g)if(Q.g.F+3e3<A.F)ne(Q),Oi(Q);else break e;Di(Q),Xt(18)}}else Q.xa=He[1],0<Q.xa-Q.K&&He[2]<37500&&Q.F&&Q.A==0&&!Q.C&&(Q.C=Qn(p(Q.Va,Q),6e3));fr(Q.h)<=1&&Q.ta&&(Q.ta=void 0)}else Ue(Q,11)}else if((A.L||Q.g==A)&&ne(Q),!X(V))for(He=Q.Ba.g.parse(V),V=0;V<He.length;V++){let Jn=He[V];const Dr=Jn[0];if(!(Dr<=Q.K))if(Q.K=Dr,Jn=Jn[1],Q.I==2)if(Jn[0]=="c"){Q.M=Jn[1],Q.ba=Jn[2];const na=Jn[3];na!=null&&(Q.ka=na,Q.j.info("VER="+Q.ka));const Sa=Jn[4];Sa!=null&&(Q.za=Sa,Q.j.info("SVER="+Q.za));const Er=Jn[5];Er!=null&&typeof Er=="number"&&Er>0&&(de=1.5*Er,Q.O=de,Q.j.info("backChannelRequestTimeoutMs_="+de)),de=Q;const ra=A.g;if(ra){const Pi=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pi){var Je=de.h;Je.g||Pi.indexOf("spdy")==-1&&Pi.indexOf("quic")==-1&&Pi.indexOf("h2")==-1||(Je.j=Je.l,Je.g=new Set,Je.h&&(Po(Je,Je.h),Je.h=null))}if(de.G){const mi=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;mi&&(de.wa=mi,_n(de.J,de.G,mi))}}Q.I=3,Q.l&&Q.l.ra(),Q.aa&&(Q.T=Date.now()-A.F,Q.j.info("Handshake RTT: "+Q.T+"ms")),de=Q;var Ct=A;if(de.na=_t(de,de.L?de.ba:null,de.W),Ct.L){ir(de.h,Ct);var Pn=Ct,Xr=de.O;Xr&&(Pn.H=Xr),Pn.D&&(Ur(Pn),Ba(Pn)),de.g=Ct}else gi(de);Q.i.length>0&&pi(Q)}else Jn[0]!="stop"&&Jn[0]!="close"||Ue(Q,7);else Q.I==3&&(Jn[0]=="stop"||Jn[0]=="close"?Jn[0]=="stop"?Ue(Q,7):oo(Q):Jn[0]!="noop"&&Q.l&&Q.l.qa(Jn),Q.A=0)}}En(4)}catch{}}var rs=class{constructor(A,V){this.g=A,this.map=V}};function yt(A){this.l=A||10,u.PerformanceNavigationTiming?(A=u.performance.getEntriesByType("navigation"),A=A.length>0&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Va(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function fr(A){return A.h?1:A.g?A.g.size:0}function la(A,V){return A.h?A.h==V:A.g?A.g.has(V):!1}function Po(A,V){A.g?A.g.add(V):A.h=V}function ir(A,V){A.h&&A.h==V?A.h=null:A.g&&A.g.has(V)&&A.g.delete(V)}yt.prototype.cancel=function(){if(this.i=ar(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function ar(A){if(A.h!=null)return A.i.concat(A.h.G);if(A.g!=null&&A.g.size!==0){let V=A.i;for(const Q of A.g.values())V=V.concat(Q.G);return V}return S(A.i)}var Wn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(A,V){if(A){A=A.split("&");for(let Q=0;Q<A.length;Q++){const de=A[Q].indexOf("=");let He,Je=null;de>=0?(He=A[Q].substring(0,de),Je=A[Q].substring(de+1)):He=A[Q],V(He,Je?decodeURIComponent(Je.replace(/\+/g," ")):"")}}}function qs(A){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let V;A instanceof qs?(this.l=A.l,vn(this,A.j),this.o=A.o,this.g=A.g,ca(this,A.u),this.h=A.h,fi(this,Lo(A.i)),this.m=A.m):A&&(V=String(A).match(Wn))?(this.l=!1,vn(this,V[1]||"",!0),this.o=Ds(V[2]||""),this.g=Ds(V[3]||"",!0),ca(this,V[4]),this.h=Ds(V[5]||"",!0),fi(this,V[6]||"",!0),this.m=Ds(V[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}qs.prototype.toString=function(){const A=[];var V=this.j;V&&A.push(Lr(V,ds,!0),":");var Q=this.g;return(Q||V=="file")&&(A.push("//"),(V=this.o)&&A.push(Lr(V,ds,!0),"@"),A.push(br(Q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.u,Q!=null&&A.push(":",String(Q))),(Q=this.h)&&(this.g&&Q.charAt(0)!="/"&&A.push("/"),A.push(Lr(Q,Q.charAt(0)=="/"?_e:Ye,!0))),(Q=this.i.toString())&&A.push("?",Q),(Q=this.m)&&A.push("#",Lr(Q,fs)),A.join("")},qs.prototype.resolve=function(A){const V=hs(this);let Q=!!A.j;Q?vn(V,A.j):Q=!!A.o,Q?V.o=A.o:Q=!!A.g,Q?V.g=A.g:Q=A.u!=null;var de=A.h;if(Q)ca(V,A.u);else if(Q=!!A.h){if(de.charAt(0)!="/")if(this.g&&!this.h)de="/"+de;else{var He=V.h.lastIndexOf("/");He!=-1&&(de=V.h.slice(0,He+1)+de)}if(He=de,He==".."||He==".")de="";else if(He.indexOf("./")!=-1||He.indexOf("/.")!=-1){de=He.lastIndexOf("/",0)==0,He=He.split("/");const Je=[];for(let Ct=0;Ct<He.length;){const Pn=He[Ct++];Pn=="."?de&&Ct==He.length&&Je.push(""):Pn==".."?((Je.length>1||Je.length==1&&Je[0]!="")&&Je.pop(),de&&Ct==He.length&&Je.push("")):(Je.push(Pn),de=!0)}de=Je.join("/")}else de=He}return Q?V.h=de:Q=A.i.toString()!=="",Q?fi(V,Lo(A.i)):Q=!!A.m,Q&&(V.m=A.m),V};function hs(A){return new qs(A)}function vn(A,V,Q){A.j=Q?Ds(V,!0):V,A.j&&(A.j=A.j.replace(/:$/,""))}function ca(A,V){if(V){if(V=Number(V),isNaN(V)||V<0)throw Error("Bad port number "+V);A.u=V}else A.u=null}function fi(A,V,Q){V instanceof Ns?(A.i=V,ha(A.i,A.l)):(Q||(V=Lr(V,Ft)),A.i=new Ns(V,A.l))}function _n(A,V,Q){A.i.set(V,Q)}function Ca(A){return _n(A,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),A}function Ds(A,V){return A?V?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Lr(A,V,Q){return typeof A=="string"?(A=encodeURI(A).replace(V,kn),Q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function kn(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var ds=/[#\/\?@]/g,Ye=/[#\?:]/g,_e=/[#\?]/g,Ft=/[#\?@]/g,fs=/#/g;function Ns(A,V){this.h=this.g=null,this.i=A||null,this.j=!!V}function ea(A){A.g||(A.g=new Map,A.h=0,A.i&&Ea(A.i,function(V,Q){A.add(decodeURIComponent(V.replace(/\+/g," ")),Q)}))}n=Ns.prototype,n.add=function(A,V){ea(this),this.i=null,A=ao(this,A);let Q=this.g.get(A);return Q||this.g.set(A,Q=[]),Q.push(V),this.h+=1,this};function zi(A,V){ea(A),V=ao(A,V),A.g.has(V)&&(A.i=null,A.h-=A.g.get(V).length,A.g.delete(V))}function ua(A,V){return ea(A),V=ao(A,V),A.g.has(V)}n.forEach=function(A,V){ea(this),this.g.forEach(function(Q,de){Q.forEach(function(He){A.call(V,He,de,this)},this)},this)};function ln(A,V){ea(A);let Q=[];if(typeof V=="string")ua(A,V)&&(Q=Q.concat(A.g.get(ao(A,V))));else for(A=Array.from(A.g.values()),V=0;V<A.length;V++)Q=Q.concat(A[V]);return Q}n.set=function(A,V){return ea(this),this.i=null,A=ao(this,A),ua(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[V]),this.h+=1,this},n.get=function(A,V){return A?(A=ln(this,A),A.length>0?String(A[0]):V):V};function kr(A,V,Q){zi(A,V),Q.length>0&&(A.i=null,A.g.set(ao(A,V),S(Q)),A.h+=Q.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],V=Array.from(this.g.keys());for(let de=0;de<V.length;de++){var Q=V[de];const He=br(Q);Q=ln(this,Q);for(let Je=0;Je<Q.length;Je++){let Ct=He;Q[Je]!==""&&(Ct+="="+br(Q[Je])),A.push(Ct)}}return this.i=A.join("&")};function Lo(A){const V=new Ns;return V.i=A.i,A.g&&(V.g=new Map(A.g),V.h=A.h),V}function ao(A,V){return V=String(V),A.j&&(V=V.toLowerCase()),V}function ha(A,V){V&&!A.j&&(ea(A),A.i=null,A.g.forEach(function(Q,de){const He=de.toLowerCase();de!=He&&(zi(this,de),kr(this,He,Q))},A)),A.j=V}function za(A,V){const Q=new Gr;if(u.Image){const de=new Image;de.onload=b(Ha,Q,"TestLoadImage: loaded",!0,V,de),de.onerror=b(Ha,Q,"TestLoadImage: error",!1,V,de),de.onabort=b(Ha,Q,"TestLoadImage: abort",!1,V,de),de.ontimeout=b(Ha,Q,"TestLoadImage: timeout",!1,V,de),u.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=A}else V(!1)}function Ti(A,V){const Q=new Gr,de=new AbortController,He=setTimeout(()=>{de.abort(),Ha(Q,"TestPingServer: timeout",!1,V)},1e4);fetch(A,{signal:de.signal}).then(Je=>{clearTimeout(He),Je.ok?Ha(Q,"TestPingServer: ok",!0,V):Ha(Q,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(He),Ha(Q,"TestPingServer: error",!1,V)})}function Ha(A,V,Q,de,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),de(Q)}catch{}}function Yr(){this.g=new jn}function hn(A){this.i=A.Sb||null,this.h=A.ab||!1}_(hn,Yt),hn.prototype.g=function(){return new qa(this.i,this.h)};function qa(A,V){et.call(this),this.H=A,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(qa,et),n=qa.prototype,n.open=function(A,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=A,this.D=V,this.readyState=1,dn(this)},n.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const V={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};A&&(V.body=A),(this.H||u).fetch(new Request(this.D,V)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},n.Pa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,dn(this)),this.g&&(this.readyState=3,dn(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xn(this)}else A.text().then(this.Oa.bind(this),this.ga.bind(this))};function xn(A){A.j.read().then(A.Ma.bind(A)).catch(A.ga.bind(A))}n.Ma=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var V=A.value?A.value:new Uint8Array(0);(V=this.B.decode(V,{stream:!A.done}))&&(this.response=this.responseText+=V)}A.done?po(this):dn(this),this.readyState==3&&xn(this)}},n.Oa=function(A){this.g&&(this.response=this.responseText=A,po(this))},n.Na=function(A){this.g&&(this.response=A,po(this))},n.ga=function(){this.g&&po(this)};function po(A){A.readyState=4,A.l=null,A.j=null,A.B=null,dn(A)}n.setRequestHeader=function(A,V){this.A.append(A,V)},n.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],V=this.h.entries();for(var Q=V.next();!Q.done;)Q=Q.value,A.push(Q[0]+": "+Q[1]),Q=V.next();return A.join(`\r
`)};function dn(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function lr(A){let V="";return De(A,function(Q,de){V+=de,V+=":",V+=Q,V+=`\r
`}),V}function ko(A,V,Q){e:{for(de in Q){var de=!1;break e}de=!0}de||(Q=lr(Q),typeof A=="string"?Q!=null&&br(Q):_n(A,V,Q))}function _r(A){et.call(this),this.headers=new Map,this.L=A||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(_r,et);var Ga=/^https?$/i,ni=["POST","PUT"];n=_r.prototype,n.Fa=function(A){this.H=A},n.ea=function(A,V,Q,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);V=V?V.toUpperCase():"GET",this.D=A,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oa.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(V,String(A),!0),this.B=!1}catch(Je){Ii(this,Je);return}if(A=Q||"",Q=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var He in de)Q.set(He,de[He]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const Je of de.keys())Q.set(Je,de.get(Je));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(Q.keys()).find(Je=>Je.toLowerCase()=="content-type"),He=u.FormData&&A instanceof u.FormData,!(Array.prototype.indexOf.call(ni,V,void 0)>=0)||de||He||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Je,Ct]of Q)this.g.setRequestHeader(Je,Ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(A),this.v=!1}catch(Je){Ii(this,Je)}};function Ii(A,V){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=V,A.o=5,io(A),ri(A)}function io(A){A.A||(A.A=!0,jt(A,"complete"),jt(A,"error"))}n.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=A||7,jt(this,"complete"),jt(this,"abort"),ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),_r.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},n.Xa=function(){ta(this)};function ta(A){if(A.h&&typeof i<"u"){if(A.v&&Wa(A)==4)setTimeout(A.Ca.bind(A),0);else if(jt(A,"readystatechange"),Wa(A)==4){A.h=!1;try{const Je=A.ca();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var Q;if(!(Q=V)){var de;if(de=Je===0){let Ct=String(A.D).match(Wn)[1]||null;!Ct&&u.self&&u.self.location&&(Ct=u.self.location.protocol.slice(0,-1)),de=!Ga.test(Ct?Ct.toLowerCase():"")}Q=de}if(Q)jt(A,"complete"),jt(A,"success");else{A.o=6;try{var He=Wa(A)>2?A.g.statusText:""}catch{He=""}A.l=He+" ["+A.ca()+"]",io(A)}}finally{ri(A)}}}}function ri(A,V){if(A.g){A.m&&(clearTimeout(A.m),A.m=null);const Q=A.g;A.g=null,V||jt(A,"ready");try{Q.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wa(A){return A.g?A.g.readyState:0}n.ca=function(){try{return Wa(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(A){if(this.g){var V=this.g.responseText;return A&&V.indexOf(A)==0&&(V=V.substring(A.length)),Mt(V)}};function ss(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.F){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(A){const V={};A=(A.g&&Wa(A)>=2&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<A.length;de++){if(X(A[de]))continue;var Q=Rr(A[de]);const He=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Je=V[He]||[];V[He]=Je,Je.push(Q)}rt(V,function(de){return de.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(A,V,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[A]||V}function Ri(A){this.za=0,this.i=[],this.j=new Gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,A),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,A),this.Za=Or("retryDelaySeedMs",1e4,A),this.Ta=Or("forwardChannelMaxRetries",2,A),this.va=Or("forwardChannelRequestTimeoutMs",2e4,A),this.ma=A&&A.xmlHttpFactory||void 0,this.Ua=A&&A.Rb||void 0,this.Aa=A&&A.useFetchStreams||!1,this.O=void 0,this.L=A&&A.supportsCrossDomainXhr||!1,this.M="",this.h=new yt(A&&A.concurrentRequestLimit),this.Ba=new Yr,this.S=A&&A.fastHandshake||!1,this.R=A&&A.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=A&&A.Pb||!1,A&&A.ua&&this.j.ua(),A&&A.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&A&&A.detectBufferingProxy||!1,this.ia=void 0,A&&A.longPollingTimeout&&A.longPollingTimeout>0&&(this.ia=A.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ri.prototype,n.ka=8,n.I=1,n.connect=function(A,V,Q,de){Xt(0),this.W=A,this.H=V||{},Q&&de!==void 0&&(this.H.OSID=Q,this.H.OAID=de),this.F=this.X,this.J=_t(this,null,this.W),pi(this)};function oo(A){if(Hi(A),A.I==3){var V=A.V++,Q=hs(A.J);if(_n(Q,"SID",A.M),_n(Q,"RID",V),_n(Q,"TYPE","terminate"),Xa(A,Q),V=new Rt(A,A.j,V),V.M=2,V.A=Ca(hs(Q)),Q=!1,u.navigator&&u.navigator.sendBeacon)try{Q=u.navigator.sendBeacon(V.A.toString(),"")}catch{}!Q&&u.Image&&(new Image().src=V.A,Q=!0),Q||(V.g=zt(V.j,null),V.g.ea(V.A)),V.F=Date.now(),Ba(V)}ut(A)}function Oi(A){A.g&&(tt(A),A.g.cancel(),A.g=null)}function Hi(A){Oi(A),A.v&&(u.clearTimeout(A.v),A.v=null),ne(A),A.h.cancel(),A.m&&(typeof A.m=="number"&&u.clearTimeout(A.m),A.m=null)}function pi(A){if(!Va(A.h)&&!A.m){A.m=!0;var V=A.Ea;we||U(),Re||(we(),Re=!0),Y.add(V,A),A.D=0}}function Mo(A,V){return fr(A.h)>=A.h.j-(A.m?1:0)?!1:A.m?(A.i=V.G.concat(A.i),!0):A.I==1||A.I==2||A.D>=(A.Sa?0:A.Ta)?!1:(A.m=Qn(p(A.Ea,A,V),ke(A,A.D)),A.D++,!0)}n.Ea=function(A){if(this.m)if(this.m=null,this.I==1){if(!A){this.V=Math.floor(Math.random()*1e5),A=this.V++;const He=new Rt(this,this.j,A);let Je=this.o;if(this.U&&(Je?(Je=me(Je),le(Je,this.U)):Je=this.U),this.u!==null||this.R||(He.J=Je,Je=null),this.S)e:{for(var V=0,Q=0;Q<this.i.length;Q++){t:{var de=this.i[Q];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(V+=de,V>4096){V=Q;break e}if(V===4096||Q===this.i.length-1){V=Q+1;break e}}V=1e3}else V=1e3;V=si(this,He,V),Q=hs(this.J),_n(Q,"RID",A),_n(Q,"CVER",22),this.G&&_n(Q,"X-HTTP-Session-Id",this.G),Xa(this,Q),Je&&(this.R?V="headers="+br(lr(Je))+"&"+V:this.u&&ko(Q,this.u,Je)),Po(this.h,He),this.Ra&&_n(Q,"TYPE","init"),this.S?(_n(Q,"$req",V),_n(Q,"SID","null"),He.U=!0,ns(He,Q,null)):ns(He,Q,V),this.I=2}}else this.I==3&&(A?pr(this,A):this.i.length==0||Va(this.h)||pr(this))};function pr(A,V){var Q;V?Q=V.l:Q=A.V++;const de=hs(A.J);_n(de,"SID",A.M),_n(de,"RID",Q),_n(de,"AID",A.K),Xa(A,de),A.u&&A.o&&ko(de,A.u,A.o),Q=new Rt(A,A.j,Q,A.D+1),A.u===null&&(Q.J=A.o),V&&(A.i=V.G.concat(A.i)),V=si(A,Q,1e3),Q.H=Math.round(A.va*.5)+Math.round(A.va*.5*Math.random()),Po(A.h,Q),ns(Q,de,V)}function Xa(A,V){A.H&&De(A.H,function(Q,de){_n(V,de,Q)}),A.l&&De({},function(Q,de){_n(V,de,Q)})}function si(A,V,Q){Q=Math.min(A.i.length,Q);const de=A.l?p(A.l.Ka,A.l,A):null;e:{var He=A.i;let Pn=-1;for(;;){const Xr=["count="+Q];Pn==-1?Q>0?(Pn=He[0].g,Xr.push("ofs="+Pn)):Pn=0:Xr.push("ofs="+Pn);let Jn=!0;for(let Dr=0;Dr<Q;Dr++){var Je=He[Dr].g;const na=He[Dr].map;if(Je-=Pn,Je<0)Pn=Math.max(0,He[Dr].g-100),Jn=!1;else try{Je="req"+Je+"_"||"";try{var Ct=na instanceof Map?na:Object.entries(na);for(const[Sa,Er]of Ct){let ra=Er;d(Er)&&(ra=Dn(Er)),Xr.push(Je+Sa+"="+encodeURIComponent(ra))}}catch(Sa){throw Xr.push(Je+"type="+encodeURIComponent("_badmap")),Sa}}catch{de&&de(na)}}if(Jn){Ct=Xr.join("&");break e}}Ct=void 0}return A=A.i.splice(0,Q),V.G=A,Ct}function gi(A){if(!A.g&&!A.v){A.Y=1;var V=A.Da;we||U(),Re||(we(),Re=!0),Y.add(V,A),A.A=0}}function Di(A){return A.g||A.v||A.A>=3?!1:(A.Y++,A.v=Qn(p(A.Da,A),ke(A,A.A)),A.A++,!0)}n.Da=function(){if(this.v=null,D(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var A=4*this.T;this.j.info("BP detection timer enabled: "+A),this.B=Qn(p(this.Wa,this),A)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),Oi(this),D(this))};function tt(A){A.B!=null&&(u.clearTimeout(A.B),A.B=null)}function D(A){A.g=new Rt(A,A.j,"rpc",A.Y),A.u===null&&(A.g.J=A.o),A.g.P=0;var V=hs(A.na);_n(V,"RID","rpc"),_n(V,"SID",A.M),_n(V,"AID",A.K),_n(V,"CI",A.F?"0":"1"),!A.F&&A.ia&&_n(V,"TO",A.ia),_n(V,"TYPE","xmlhttp"),Xa(A,V),A.u&&A.o&&ko(V,A.u,A.o),A.O&&(A.g.H=A.O);var Q=A.g;A=A.ba,Q.M=1,Q.A=Ca(hs(V)),Q.u=null,Q.R=!0,Js(Q,A)}n.Va=function(){this.C!=null&&(this.C=null,Oi(this),Di(this),Xt(19))};function ne(A){A.C!=null&&(u.clearTimeout(A.C),A.C=null)}function Ce(A,V){var Q=null;if(A.g==V){ne(A),tt(A),A.g=null;var de=2}else if(la(A.h,V))Q=V.G,ir(A.h,V),de=1;else return;if(A.I!=0){if(V.o)if(de==1){Q=V.u?V.u.length:0,V=Date.now()-V.F;var He=A.D;de=dr(),jt(de,new tn(de,Q)),pi(A)}else gi(A);else if(He=V.m,He==3||He==0&&V.X>0||!(de==1&&Mo(A,V)||de==2&&Di(A)))switch(Q&&Q.length>0&&(V=A.h,V.i=V.i.concat(Q)),He){case 1:Ue(A,5);break;case 4:Ue(A,10);break;case 3:Ue(A,6);break;default:Ue(A,2)}}}function ke(A,V){let Q=A.Qa+Math.floor(Math.random()*A.Za);return A.isActive()||(Q*=2),Q*V}function Ue(A,V){if(A.j.info("Error code "+V),V==2){var Q=p(A.bb,A),de=A.Ua;const He=!de;de=new qs(de||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vn(de,"https"),Ca(de),He?za(de.toString(),Q):Ti(de.toString(),Q)}else Xt(2);A.I=0,A.l&&A.l.pa(V),ut(A),Hi(A)}n.bb=function(A){A?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function ut(A){if(A.I=0,A.ja=[],A.l){const V=ar(A.h);(V.length!=0||A.i.length!=0)&&(P(A.ja,V),P(A.ja,A.i),A.h.i.length=0,S(A.i),A.i.length=0),A.l.oa()}}function _t(A,V,Q){var de=Q instanceof qs?hs(Q):new qs(Q);if(de.g!="")V&&(de.g=V+"."+de.g),ca(de,de.u);else{var He=u.location;de=He.protocol,V=V?V+"."+He.hostname:He.hostname,He=+He.port;const Je=new qs(null);de&&vn(Je,de),V&&(Je.g=V),He&&ca(Je,He),Q&&(Je.h=Q),de=Je}return Q=A.G,V=A.wa,Q&&V&&_n(de,Q,V),_n(de,"VER",A.ka),Xa(A,de),de}function zt(A,V,Q){if(V&&!A.L)throw Error("Can't create secondary domain capable XhrIo object.");return V=A.Aa&&!A.ma?new _r(new hn({ab:Q})):new _r(A.ma),V.Fa(A.L),V}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dt(){}n=Dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function bn(){}bn.prototype.g=function(A,V){return new kt(A,V)};function kt(A,V){et.call(this),this.g=new Ri(V),this.l=A,this.h=V&&V.messageUrlParams||null,A=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(A?A["X-WebChannel-Content-Type"]=V.messageContentType:A={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.sa&&(A?A["X-WebChannel-Client-Profile"]=V.sa:A={"X-WebChannel-Client-Profile":V.sa}),this.g.U=A,(A=V&&V.Qb)&&!X(A)&&(this.g.u=A),this.A=V&&V.supportsCrossDomainXhr||!1,this.v=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!X(V)&&(this.g.G=V,A=this.h,A!==null&&V in A&&(A=this.h,V in A&&delete A[V])),this.j=new An(this)}_(kt,et),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){oo(this.g)},kt.prototype.o=function(A){var V=this.g;if(typeof A=="string"){var Q={};Q.__data__=A,A=Q}else this.v&&(Q={},Q.__data__=Dn(A),A=Q);V.i.push(new rs(V.Ya++,A)),V.I==3&&pi(V)},kt.prototype.N=function(){this.g.l=null,delete this.j,oo(this.g),delete this.g,kt.Z.N.call(this)};function rr(A){at.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var V=A.__sm__;if(V){e:{for(const Q in V){A=Q;break e}A=void 0}(this.i=A)&&(A=this.i,V=V!==null&&A in V?V[A]:void 0),this.data=V}else this.data=A}_(rr,at);function Ar(){Vt.call(this),this.status=1}_(Ar,Vt);function An(A){this.g=A}_(An,Dt),An.prototype.ra=function(){jt(this.g,"a")},An.prototype.qa=function(A){jt(this.g,new rr(A))},An.prototype.pa=function(A){jt(this.g,new Ar)},An.prototype.oa=function(){jt(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,nN=function(){return new bn},tN=function(){return dr()},eN=Bt,rv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ti.NO_ERROR=0,ti.TIMEOUT=8,ti.HTTP_ERROR=6,yg=ti,Ss.COMPLETE="complete",Z6=Ss,cs.EventType=Kt,Kt.OPEN="a",Kt.CLOSE="b",Kt.ERROR="c",Kt.MESSAGE="d",et.prototype.listen=et.prototype.J,q1=cs,_r.prototype.listenOnce=_r.prototype.K,_r.prototype.getLastError=_r.prototype.Ha,_r.prototype.getLastErrorCode=_r.prototype.ya,_r.prototype.getStatus=_r.prototype.ca,_r.prototype.getResponseJson=_r.prototype.La,_r.prototype.getResponseText=_r.prototype.la,_r.prototype.send=_r.prototype.ea,_r.prototype.setWithCredentials=_r.prototype.Fa,J6=_r}).apply(typeof Gp<"u"?Gp:typeof self<"u"?self:typeof window<"u"?window:{});class no{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}no.UNAUTHENTICATED=new no(null),no.GOOGLE_CREDENTIALS=new no("google-credentials-uid"),no.FIRST_PARTY=new no("first-party-uid"),no.MOCK_USER=new no("mock-user");let Bf="12.8.0";function aU(n){Bf=n}const zh=new p5("@firebase/firestore");function Qd(){return zh.logLevel}function Wt(n,...e){if(zh.logLevel<=Nr.DEBUG){const t=e.map(C5);zh.debug(`Firestore (${Bf}): ${n}`,...t)}}function tu(n,...e){if(zh.logLevel<=Nr.ERROR){const t=e.map(C5);zh.error(`Firestore (${Bf}): ${n}`,...t)}}function _f(n,...e){if(zh.logLevel<=Nr.WARN){const t=e.map(C5);zh.warn(`Firestore (${Bf}): ${n}`,...t)}}function C5(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Bn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,rN(n,r,t)}function rN(n,e,t){let r=`FIRESTORE (${Bf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw tu(r),new Error(r)}function es(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||rN(e,s,r)}function nr(n,e){return n}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends yc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(no.UNAUTHENTICATED)))}shutdown(){}}class oU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lU{constructor(e){this.t=e,this.currentUser=no.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){es(this.o===void 0,42304);let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let i=new Xu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xu,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const g=i;e.enqueueRetryable((async()=>{await g.promise,await s(this.currentUser)}))},d=g=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xu)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(es(typeof r.accessToken=="string",31837,{l:r}),new sN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return es(e===null||typeof e=="string",2055,{h:e}),new no(e)}}class cU{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=no.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uU{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cU(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(no.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hU{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){es(this.o===void 0,3512);const r=i=>{i.error!=null&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const u=i.token!==this.m;return this.m=i.token,Wt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(es(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new C_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class S5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Tr(n,e){return n<e?-1:n>e?1:0}function sv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return ay(s)===ay(i)?Tr(s,i):ay(s)?1:-1}return Tr(n.length,e.length)}const fU=55296,pU=57343;function ay(n){const e=n.charCodeAt(0);return e>=fU&&e<=pU}function Af(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const S_="__name__";class nc{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return nc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nc?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=nc.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Tr(e.length,t.length)}static compareSegments(e,t){const r=nc.isNumericId(e),s=nc.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?nc.extractNumericId(e).compare(nc.extractNumericId(t)):sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yu.fromString(e.substring(4,e.length-2))}}class Rs extends nc{construct(e,t,r){return new Rs(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ht(bt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Rs(t)}static emptyPath(){return new Rs([])}}const gU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends nc{construct(e,t,r){return new Bi(e,t,r)}static isValidIdentifier(e){return gU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new Bi([S_])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ht(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ht(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[s+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ht(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(i(),s++)}if(i(),u)throw new Ht(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(t)}static emptyPath(){return new Bi([])}}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(Rs.fromString(e))}static fromName(e){return new Rn(Rs.fromString(e).popFirst(5))}static empty(){return new Rn(Rs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rs.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new Rs(e.slice()))}}function aN(n,e,t){if(!t)throw new Ht(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mU(n,e,t,r){if(e===!0&&r===!0)throw new Ht(bt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function N_(n){if(!Rn.isDocumentKey(n))throw new Ht(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T_(n){if(Rn.isDocumentKey(n))throw new Ht(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bn(12329,{type:typeof n})}function Tl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ht(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mm(n);throw new Ht(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ei(n,e){const t={typeString:n};return e&&(t.value=e),t}function P0(n,e){if(!iN(n))throw new Ht(bt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&u!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new Ht(bt.INVALID_ARGUMENT,t);return!0}const I_=-62135596800,R_=1e6;class Fs{static now(){return Fs.fromMillis(Date.now())}static fromDate(e){return Fs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*R_);return new Fs(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ht(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ht(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<I_)throw new Ht(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Tr(this.nanoseconds,e.nanoseconds):Tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(P0(e,Fs._jsonSchema))return new Fs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fs._jsonSchemaVersion="firestore/timestamp/1.0",Fs._jsonSchema={type:ei("string",Fs._jsonSchemaVersion),seconds:ei("number"),nanoseconds:ei("number")};class Yn{static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new Fs(0,0))}static max(){return new Yn(new Fs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const u0=-1;function xU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Yn.fromTimestamp(r===1e9?new Fs(t+1,0):new Fs(t,r));return new Ju(s,Rn.empty(),e)}function yU(n){return new Ju(n.readTime,n.key,u0)}class Ju{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ju(Yn.min(),Rn.empty(),u0)}static max(){return new Ju(Yn.max(),Rn.empty(),u0)}}function vU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Rn.comparator(n.documentKey,e.documentKey),t!==0?t:Tr(n.largestBatchId,e.largestBatchId))}const bU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uf(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==bU)throw n;Wt("LocalStore","Unexpectedly lost primary lease")}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Et.reject(t)}static resolve(e){return new Et(((t,r)=>{t(e)}))}static reject(e){return new Et(((t,r)=>{r(e)}))}static waitFor(e){return new Et(((t,r)=>{let s=0,i=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++i,u&&i===s&&t()}),(g=>r(g)))})),u=!0,i===s&&t()}))}static or(e){let t=Et.resolve(!1);for(const r of e)t=t.next((s=>s?Et.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Et(((r,s)=>{const i=e.length,u=new Array(i);let d=0;for(let g=0;g<i;g++){const p=g;t(e[p]).next((b=>{u[p]=b,++d,d===i&&r(u)}),(b=>s(b)))}}))}static doWhile(e,t){return new Et(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}function _U(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vf(n){return n.name==="IndexedDbTransactionError"}class jm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jm.ce=-1;const N5=-1;function Fm(n){return n==null}function Yg(n){return n===0&&1/n==-1/0}function AU(n){return typeof n=="number"&&Number.isInteger(n)&&!Yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const oN="";function EU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O_(e)),e=CU(n.get(t),e);return O_(e)}function CU(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case oN:t+="";break;default:t+=i}}return t}function O_(n){return n+oN+""}function D_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ch(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ia{constructor(e,t){this.comparator=e,this.root=t||Fi.EMPTY}insert(e,t){return new ia(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new ia(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Fi.RED,this.left=s??Fi.EMPTY,this.right=i??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Fi(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Fi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bn(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Bn(57766)}get value(){throw Bn(16141)}get color(){throw Bn(16727)}get left(){throw Bn(29726)}get right(){throw Bn(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new ia(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new di(Bi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Af(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class cN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cN("Invalid base64 string: "+i):i}})(e);return new Vi(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let u=0;u<s.length;++u)i+=String.fromCharCode(s[u]);return i})(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const SU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(n){if(es(!!n,39018),typeof n=="string"){let e=0;const t=SU.exec(n);if(es(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pa(n.seconds),nanos:Pa(n.nanos)}}function Pa(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eh(n){return typeof n=="string"?Vi.fromBase64String(n):Vi.fromUint8Array(n)}const uN="server_timestamp",hN="__type__",dN="__previous_value__",fN="__local_write_time__";function T5(n){return(n?.mapValue?.fields||{})[hN]?.stringValue===uN}function Bm(n){const e=n.mapValue.fields[dN];return T5(e)?Bm(e):e}function h0(n){const e=Zu(n.mapValue.fields[fN].timestampValue);return new Fs(e.seconds,e.nanos)}class NU{constructor(e,t,r,s,i,u,d,g,p,b,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=_}}const Xg="(default)";class d0{constructor(e,t){this.projectId=e,this.database=t||Xg}static empty(){return new d0("","")}get isDefaultDatabase(){return this.database===Xg}isEqual(e){return e instanceof d0&&e.projectId===this.projectId&&e.database===this.database}}function TU(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ht(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d0(n.options.projectId,e)}const pN="__type__",IU="__max__",Yp={mapValue:{}},gN="__vector__",Qg="value";function th(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T5(n)?4:OU(n)?9007199254740991:RU(n)?10:11:Bn(28295,{value:n})}function fc(n,e){if(n===e)return!0;const t=th(n);if(t!==th(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return h0(n).isEqual(h0(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const u=Zu(s.timestampValue),d=Zu(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return eh(s.bytesValue).isEqual(eh(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Pa(s.geoPointValue.latitude)===Pa(i.geoPointValue.latitude)&&Pa(s.geoPointValue.longitude)===Pa(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Pa(s.integerValue)===Pa(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const u=Pa(s.doubleValue),d=Pa(i.doubleValue);return u===d?Yg(u)===Yg(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Af(n.arrayValue.values||[],e.arrayValue.values||[],fc);case 10:case 11:return(function(s,i){const u=s.mapValue.fields||{},d=i.mapValue.fields||{};if(D_(u)!==D_(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(d[g]===void 0||!fc(u[g],d[g])))return!1;return!0})(n,e);default:return Bn(52216,{left:n})}}function f0(n,e){return(n.values||[]).find((t=>fc(t,e)))!==void 0}function Ef(n,e){if(n===e)return 0;const t=th(n),r=th(e);if(t!==r)return Tr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tr(n.booleanValue,e.booleanValue);case 2:return(function(i,u){const d=Pa(i.integerValue||i.doubleValue),g=Pa(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(n,e);case 3:return L_(n.timestampValue,e.timestampValue);case 4:return L_(h0(n),h0(e));case 5:return sv(n.stringValue,e.stringValue);case 6:return(function(i,u){const d=eh(i),g=eh(u);return d.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(i,u){const d=i.split("/"),g=u.split("/");for(let p=0;p<d.length&&p<g.length;p++){const b=Tr(d[p],g[p]);if(b!==0)return b}return Tr(d.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,u){const d=Tr(Pa(i.latitude),Pa(u.latitude));return d!==0?d:Tr(Pa(i.longitude),Pa(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return(function(i,u){const d=i.fields||{},g=u.fields||{},p=d[Qg]?.arrayValue,b=g[Qg]?.arrayValue,_=Tr(p?.values?.length||0,b?.values?.length||0);return _!==0?_:k_(p,b)})(n.mapValue,e.mapValue);case 11:return(function(i,u){if(i===Yp.mapValue&&u===Yp.mapValue)return 0;if(i===Yp.mapValue)return 1;if(u===Yp.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),p=u.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let _=0;_<g.length&&_<b.length;++_){const I=sv(g[_],b[_]);if(I!==0)return I;const S=Ef(d[g[_]],p[b[_]]);if(S!==0)return S}return Tr(g.length,b.length)})(n.mapValue,e.mapValue);default:throw Bn(23264,{he:t})}}function L_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Tr(n,e);const t=Zu(n),r=Zu(e),s=Tr(t.seconds,r.seconds);return s!==0?s:Tr(t.nanos,r.nanos)}function k_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Ef(t[s],r[s]);if(i)return i}return Tr(t.length,r.length)}function Cf(n){return av(n)}function av(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Zu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return eh(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Rn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=av(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const u of r)i?i=!1:s+=",",s+=`${u}:${av(t.fields[u])}`;return s+"}"})(n.mapValue):Bn(61005,{value:n})}function vg(n){switch(th(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bm(n);return e?16+vg(e):16;case 5:return 2*n.stringValue.length;case 6:return eh(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+vg(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return ch(r.fields,((i,u)=>{s+=i.length+vg(u)})),s})(n.mapValue);default:throw Bn(13486,{value:n})}}function M_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iv(n){return!!n&&"integerValue"in n}function I5(n){return!!n&&"arrayValue"in n}function j_(n){return!!n&&"nullValue"in n}function F_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bg(n){return!!n&&"mapValue"in n}function RU(n){return(n?.mapValue?.fields||{})[pN]?.stringValue===gN}function J1(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ch(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=J1(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=J1(n.arrayValue.values[t]);return e}return{...n}}function OU(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IU}class Oo{constructor(e){this.value=e}static empty(){return new Oo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=J1(t)}setAll(e){let t=Bi.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=J1(u):s.push(d.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());bg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];bg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ch(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Oo(J1(this.value))}}function mN(n){const e=[];return ch(n.fields,((t,r)=>{const s=new Bi([t]);if(bg(r)){const i=mN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const u of i)e.push(s.child(u))}else e.push(s)})),new Yo(e)}class ro{constructor(e,t,r,s,i,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=u,this.documentState=d}static newInvalidDocument(e){return new ro(e,0,Yn.min(),Yn.min(),Yn.min(),Oo.empty(),0)}static newFoundDocument(e,t,r,s){return new ro(e,1,t,Yn.min(),r,s,0)}static newNoDocument(e,t){return new ro(e,2,t,Yn.min(),Yn.min(),Oo.empty(),0)}static newUnknownDocument(e,t){return new ro(e,3,t,Yn.min(),Yn.min(),Oo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ro&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ro(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kg{constructor(e,t){this.position=e,this.inclusive=t}}function B_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],u=n.position[s];if(i.field.isKeyField()?r=Rn.comparator(Rn.fromName(u.referenceValue),t.key):r=Ef(u,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function U_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fc(n.position[t],e.position[t]))return!1;return!0}class p0{constructor(e,t="asc"){this.field=e,this.dir=t}}function DU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class xN{}class Za extends xN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LU(e,t,r):t==="array-contains"?new jU(e,r):t==="in"?new FU(e,r):t==="not-in"?new BU(e,r):t==="array-contains-any"?new UU(e,r):new Za(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kU(e,r):new MU(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ef(t,this.value)):t!==null&&th(this.value)===th(t)&&this.matchesComparison(Ef(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pl extends xN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Pl(e,t)}matches(e){return yN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yN(n){return n.op==="and"}function vN(n){return PU(n)&&yN(n)}function PU(n){for(const e of n.filters)if(e instanceof Pl)return!1;return!0}function ov(n){if(n instanceof Za)return n.field.canonicalString()+n.op.toString()+Cf(n.value);if(vN(n))return n.filters.map((e=>ov(e))).join(",");{const e=n.filters.map((t=>ov(t))).join(",");return`${n.op}(${e})`}}function bN(n,e){return n instanceof Za?(function(r,s){return s instanceof Za&&r.op===s.op&&r.field.isEqual(s.field)&&fc(r.value,s.value)})(n,e):n instanceof Pl?(function(r,s){return s instanceof Pl&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,u,d)=>i&&bN(u,s.filters[d])),!0):!1})(n,e):void Bn(19439)}function wN(n){return n instanceof Za?(function(t){return`${t.field.canonicalString()} ${t.op} ${Cf(t.value)}`})(n):n instanceof Pl?(function(t){return t.op.toString()+" {"+t.getFilters().map(wN).join(" ,")+"}"})(n):"Filter"}class LU extends Za{constructor(e,t,r){super(e,t,r),this.key=Rn.fromName(r.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class kU extends Za{constructor(e,t){super(e,"in",t),this.keys=_N("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MU extends Za{constructor(e,t){super(e,"not-in",t),this.keys=_N("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _N(n,e){return(e.arrayValue?.values||[]).map((t=>Rn.fromName(t.referenceValue)))}class jU extends Za{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return I5(t)&&f0(t.arrayValue,this.value)}}class FU extends Za{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&f0(this.value.arrayValue,t)}}class BU extends Za{constructor(e,t){super(e,"not-in",t)}matches(e){if(f0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!f0(this.value.arrayValue,t)}}class UU extends Za{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!I5(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>f0(this.value.arrayValue,r)))}}class VU{constructor(e,t=null,r=[],s=[],i=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=u,this.endAt=d,this.Te=null}}function V_(n,e=null,t=[],r=[],s=null,i=null,u=null){return new VU(n,e,t,r,s,i,u)}function R5(n){const e=nr(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>ov(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Cf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Cf(r))).join(",")),e.Te=t}return e.Te}function O5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U_(n.startAt,e.startAt)&&U_(n.endAt,e.endAt)}function lv(n){return Rn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class zf{constructor(e,t=null,r=[],s=[],i=null,u="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=u,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zU(n,e,t,r,s,i,u,d){return new zf(n,e,t,r,s,i,u,d)}function Um(n){return new zf(n)}function z_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HU(n){return Rn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function AN(n){return n.collectionGroup!==null}function Z1(n){const e=nr(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new di(Bi.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new p0(i,r))})),t.has(Bi.keyField().canonicalString())||e.Ie.push(new p0(Bi.keyField(),r))}return e.Ie}function cc(n){const e=nr(n);return e.Ee||(e.Ee=qU(e,Z1(n))),e.Ee}function qU(n,e){if(n.limitType==="F")return V_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new p0(s.field,i)}));const t=n.endAt?new Kg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kg(n.startAt.position,n.startAt.inclusive):null;return V_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cv(n,e){const t=n.filters.concat([e]);return new zf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function GU(n,e){const t=n.explicitOrderBy.concat([e]);return new zf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function uv(n,e,t){return new zf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vm(n,e){return O5(cc(n),cc(e))&&n.limitType===e.limitType}function EN(n){return`${R5(cc(n))}|lt:${n.limitType}`}function Kd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>wN(s))).join(", ")}]`),Fm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Cf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Cf(s))).join(",")),`Target(${r})`})(cc(n))}; limitType=${n.limitType})`}function zm(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Rn.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of Z1(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,g){const p=B_(u,d,g);return u.inclusive?p<=0:p<0})(r.startAt,Z1(r),s)||r.endAt&&!(function(u,d,g){const p=B_(u,d,g);return u.inclusive?p>=0:p>0})(r.endAt,Z1(r),s))})(n,e)}function WU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CN(n){return(e,t)=>{let r=!1;for(const s of Z1(n)){const i=YU(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function YU(n,e,t){const r=n.field.isKeyField()?Rn.comparator(e.key,t.key):(function(i,u,d){const g=u.data.field(i),p=d.data.field(i);return g!==null&&p!==null?Ef(g,p):Bn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bn(19790,{direction:n.dir})}}class Zh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ch(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return lN(this.inner)}size(){return this.innerSize}}const XU=new ia(Rn.comparator);function nu(){return XU}const SN=new ia(Rn.comparator);function G1(...n){let e=SN;for(const t of n)e=e.insert(t.key,t);return e}function NN(n){let e=SN;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Oh(){return e0()}function TN(){return e0()}function e0(){return new Zh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const QU=new ia(Rn.comparator),KU=new di(Rn.comparator);function Ir(...n){let e=KU;for(const t of n)e=e.add(t);return e}const $U=new di(Tr);function JU(){return $U}function D5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function IN(n){return{integerValue:""+n}}function ZU(n,e){return AU(e)?IN(e):D5(n,e)}class Hm{constructor(){this._=void 0}}function eV(n,e,t){return n instanceof g0?(function(s,i){const u={fields:{[hN]:{stringValue:uN},[fN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&T5(i)&&(i=Bm(i)),i&&(u.fields[dN]=i),{mapValue:u}})(t,e):n instanceof m0?ON(n,e):n instanceof x0?DN(n,e):(function(s,i){const u=RN(s,i),d=H_(u)+H_(s.Ae);return iv(u)&&iv(s.Ae)?IN(d):D5(s.serializer,d)})(n,e)}function tV(n,e,t){return n instanceof m0?ON(n,e):n instanceof x0?DN(n,e):t}function RN(n,e){return n instanceof $g?(function(r){return iv(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class g0 extends Hm{}class m0 extends Hm{constructor(e){super(),this.elements=e}}function ON(n,e){const t=PN(e);for(const r of n.elements)t.some((s=>fc(s,r)))||t.push(r);return{arrayValue:{values:t}}}class x0 extends Hm{constructor(e){super(),this.elements=e}}function DN(n,e){let t=PN(e);for(const r of n.elements)t=t.filter((s=>!fc(s,r)));return{arrayValue:{values:t}}}class $g extends Hm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function H_(n){return Pa(n.integerValue||n.doubleValue)}function PN(n){return I5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nV{constructor(e,t){this.field=e,this.transform=t}}function rV(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof m0&&s instanceof m0||r instanceof x0&&s instanceof x0?Af(r.elements,s.elements,fc):r instanceof $g&&s instanceof $g?fc(r.Ae,s.Ae):r instanceof g0&&s instanceof g0})(n.transform,e.transform)}class sV{constructor(e,t){this.version=e,this.transformResults=t}}class Il{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Il}static exists(e){return new Il(void 0,e)}static updateTime(e){return new Il(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qm{}function LN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new P5(n.key,Il.none()):new L0(n.key,n.data,Il.none());{const t=n.data,r=Oo.empty();let s=new di(Bi.comparator);for(let i of e.fields)if(!s.has(i)){let u=t.field(i);u===null&&i.length>1&&(i=i.popLast(),u=t.field(i)),u===null?r.delete(i):r.set(i,u),s=s.add(i)}return new uh(n.key,r,new Yo(s.toArray()),Il.none())}}function aV(n,e,t){n instanceof L0?(function(s,i,u){const d=s.value.clone(),g=G_(s.fieldTransforms,i,u.transformResults);d.setAll(g),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof uh?(function(s,i,u){if(!wg(s.precondition,i))return void i.convertToUnknownDocument(u.version);const d=G_(s.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(kN(s)),g.setAll(d),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(n,e,t):(function(s,i,u){i.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function t0(n,e,t,r){return n instanceof L0?(function(i,u,d,g){if(!wg(i.precondition,u))return d;const p=i.value.clone(),b=W_(i.fieldTransforms,g,u);return p.setAll(b),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof uh?(function(i,u,d,g){if(!wg(i.precondition,u))return d;const p=W_(i.fieldTransforms,g,u),b=u.data;return b.setAll(kN(i)),b.setAll(p),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),d===null?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(i,u,d){return wg(i.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function iV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=RN(r.transform,s||null);i!=null&&(t===null&&(t=Oo.empty()),t.set(r.field,i))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Af(r,s,((i,u)=>rV(i,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class L0 extends qm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uh extends qm{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kN(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function G_(n,e,t){const r=new Map;es(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const i=n[s],u=i.transform,d=e.data.field(i.field);r.set(i.field,tV(u,d,t[s]))}return r}function W_(n,e,t){const r=new Map;for(const s of n){const i=s.transform,u=t.data.field(s.field);r.set(s.field,eV(i,u,e))}return r}class P5 extends qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lV{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aV(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=t0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=t0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=TN();return this.mutations.forEach((s=>{const i=e.get(s.key),u=i.overlayedDocument;let d=this.applyToLocalView(u,i.mutatedFields);d=t.has(s.key)?null:d;const g=LN(u,d);g!==null&&r.set(s.key,g),u.isValidDocument()||u.convertToNoDocument(Yn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ir())}isEqual(e){return this.batchId===e.batchId&&Af(this.mutations,e.mutations,((t,r)=>q_(t,r)))&&Af(this.baseMutations,e.baseMutations,((t,r)=>q_(t,r)))}}class L5{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){es(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return QU})();const i=e.mutations;for(let u=0;u<i.length;u++)s=s.insert(i[u].key,r[u].version);return new L5(e,t,r,s)}}class cV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uV{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ja,Br;function hV(n){switch(n){case bt.OK:return Bn(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return Bn(15467,{code:n})}}function MN(n){if(n===void 0)return tu("GRPC error has no .code"),bt.UNKNOWN;switch(n){case Ja.OK:return bt.OK;case Ja.CANCELLED:return bt.CANCELLED;case Ja.UNKNOWN:return bt.UNKNOWN;case Ja.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Ja.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Ja.INTERNAL:return bt.INTERNAL;case Ja.UNAVAILABLE:return bt.UNAVAILABLE;case Ja.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Ja.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Ja.NOT_FOUND:return bt.NOT_FOUND;case Ja.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Ja.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Ja.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Ja.ABORTED:return bt.ABORTED;case Ja.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Ja.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Ja.DATA_LOSS:return bt.DATA_LOSS;default:return Bn(39323,{code:n})}}(Br=Ja||(Ja={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";function dV(){return new TextEncoder}const fV=new Yu([4294967295,4294967295],0);function Y_(n){const e=dV().encode(n),t=new $6;return t.update(e),new Uint8Array(t.digest())}function X_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Yu([t,r],0),new Yu([s,i],0)]}class k5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new W1(`Invalid padding: ${t}`);if(r<0)throw new W1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new W1(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new W1(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Yu.fromNumber(r)));return s.compare(fV)===1&&(s=new Yu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Y_(e),[r,s]=X_(t);for(let i=0;i<this.hashCount;i++){const u=this.ye(r,s,i);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),u=new k5(i,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=Y_(e),[r,s]=X_(t);for(let i=0;i<this.hashCount;i++){const u=this.ye(r,s,i);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class W1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gm{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,k0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gm(Yn.min(),s,new ia(Tr),nu(),Ir())}}class k0{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new k0(r,t,Ir(),Ir(),Ir())}}class _g{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class jN{constructor(e,t){this.targetId=e,this.Ce=t}}class FN{constructor(e,t,r=Vi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=Vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ir(),t=Ir(),r=Ir();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Bn(38017,{changeType:i})}})),new k0(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=K_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,es(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pV{constructor(e){this.Ge=e,this.ze=new Map,this.je=nu(),this.He=Xp(),this.Je=Xp(),this.Ze=new ia(Tr)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Bn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(lv(i))if(r===0){const u=new Rn(i.path);this.et(t,u,ro.newNoDocument(u,Yn.min()))}else es(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),g=d?this.ct(d,e,u):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let u,d;try{u=eh(r).toUint8Array()}catch(g){if(g instanceof cN)return _f("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new k5(u,s,i)}catch(g){return _f(g instanceof W1?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${i.path.canonicalString()}`;e.mightContain(d)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,u)=>{const d=this.ot(u);if(d){if(i.current&&lv(d.target)){const g=new Rn(d.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,ro.newNoDocument(g,e))}i.Be&&(t.set(u,i.ke()),i.Ke())}}));let r=Ir();this.Je.forEach(((i,u)=>{let d=!0;u.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(i))})),this.je.forEach(((i,u)=>u.setReadTime(e)));const s=new Gm(e,t,this.Ze,this.je,r);return this.je=nu(),this.He=Xp(),this.Je=Xp(),this.Ze=new ia(Tr),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Q_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new di(Tr),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new di(Tr),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Wt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xp(){return new ia(Rn.comparator)}function K_(){return new ia(Rn.comparator)}const gV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xV={and:"AND",or:"OR"};class yV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hv(n,e){return n.useProto3Json||Fm(e)?e:{value:e}}function Jg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vV(n,e){return Jg(n,e.toTimestamp())}function uc(n){return es(!!n,49232),Yn.fromTimestamp((function(t){const r=Zu(t);return new Fs(r.seconds,r.nanos)})(n))}function M5(n,e){return dv(n,e).canonicalString()}function dv(n,e){const t=(function(s){return new Rs(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function UN(n){const e=Rs.fromString(n);return es(GN(e),10190,{key:e.toString()}),e}function fv(n,e){return M5(n.databaseId,e.path)}function iy(n,e){const t=UN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ht(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ht(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rn(zN(t))}function VN(n,e){return M5(n.databaseId,e)}function bV(n){const e=UN(n);return e.length===4?Rs.emptyPath():zN(e)}function pv(n){return new Rs(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zN(n){return es(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $_(n,e,t){return{name:fv(n,e),fields:t.value.mapValue.fields}}function wV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Bn(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(p,b){return p.useProto3Json?(es(b===void 0||typeof b=="string",58123),Vi.fromBase64String(b||"")):(es(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Vi.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const b=p.code===void 0?bt.UNKNOWN:MN(p.code);return new Ht(b,p.message||"")})(u);t=new FN(r,s,i,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iy(n,r.document.name),i=uc(r.document.updateTime),u=r.document.createTime?uc(r.document.createTime):Yn.min(),d=new Oo({mapValue:{fields:r.document.fields}}),g=ro.newFoundDocument(s,i,u,d),p=r.targetIds||[],b=r.removedTargetIds||[];t=new _g(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iy(n,r.document),i=r.readTime?uc(r.readTime):Yn.min(),u=ro.newNoDocument(s,i),d=r.removedTargetIds||[];t=new _g([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iy(n,r.document),i=r.removedTargetIds||[];t=new _g([],i,s,null)}else{if(!("filter"in e))return Bn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,u=new uV(s,i),d=r.targetId;t=new jN(d,u)}}return t}function _V(n,e){let t;if(e instanceof L0)t={update:$_(n,e.key,e.value)};else if(e instanceof P5)t={delete:fv(n,e.key)};else if(e instanceof uh)t={update:$_(n,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof oV))return Bn(16599,{dt:e.type});t={verify:fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,u){const d=u.transform;if(d instanceof g0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof m0)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof x0)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $g)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Bn(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:vV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Bn(27497)})(n,e.precondition)),t}function AV(n,e){return n&&n.length>0?(es(e!==void 0,14353),n.map((t=>(function(s,i){let u=s.updateTime?uc(s.updateTime):uc(i);return u.isEqual(Yn.min())&&(u=uc(i)),new sV(u,s.transformResults||[])})(t,e)))):[]}function EV(n,e){return{documents:[VN(n,e.path)]}}function CV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VN(n,s);const i=(function(p){if(p.length!==0)return qN(Pl.create(p,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const u=(function(p){if(p.length!==0)return p.map((b=>(function(I){return{field:$d(I.field),direction:TV(I.dir)}})(b)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=hv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function SV(n){let e=bV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){es(r===1,65062);const b=t.from[0];b.allDescendants?s=b.collectionId:e=e.child(b.collectionId)}let i=[];t.where&&(i=(function(_){const I=HN(_);return I instanceof Pl&&vN(I)?I.getFilters():[I]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((I=>(function(P){return new p0(Jd(P.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let I;return I=typeof _=="object"?_.value:_,Fm(I)?null:I})(t.limit));let g=null;t.startAt&&(g=(function(_){const I=!!_.before,S=_.values||[];return new Kg(S,I)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const I=!_.before,S=_.values||[];return new Kg(S,I)})(t.endAt)),zU(e,s,u,i,d,"F",g,p)}function NV(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bn(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jd(t.unaryFilter.field);return Za.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Jd(t.unaryFilter.field);return Za.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jd(t.unaryFilter.field);return Za.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jd(t.unaryFilter.field);return Za.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bn(61313);default:return Bn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Za.create(Jd(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bn(58110);default:return Bn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Pl.create(t.compositeFilter.filters.map((r=>HN(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Bn(1026)}})(t.compositeFilter.op))})(n):Bn(30097,{filter:n})}function TV(n){return gV[n]}function IV(n){return mV[n]}function RV(n){return xV[n]}function $d(n){return{fieldPath:n.canonicalString()}}function Jd(n){return Bi.fromServerFormat(n.fieldPath)}function qN(n){return n instanceof Za?(function(t){if(t.op==="=="){if(F_(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NAN"}};if(j_(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(F_(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NAN"}};if(j_(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(t.field),op:IV(t.op),value:t.value}}})(n):n instanceof Pl?(function(t){const r=t.getFilters().map((s=>qN(s)));return r.length===1?r[0]:{compositeFilter:{op:RV(t.op),filters:r}}})(n):Bn(54877,{filter:n})}function OV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function GN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function WN(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Hu{constructor(e,t,r,s,i=Yn.min(),u=Yn.min(),d=Vi.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DV{constructor(e){this.yt=e}}function PV(n){const e=SV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uv(e,e.limit,"L"):e}class LV{constructor(){this.Sn=new kV}addToCollectionParentIndex(e,t){return this.Sn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}deleteAllFieldIndexes(e){return Et.resolve()}createTargetIndexes(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(Ju.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(Ju.min())}updateCollectionGroup(e,t,r){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class kV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new di(Rs.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new di(Rs.comparator)).toArray()}}const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YN=41943040;class Ro{static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(YN,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class Sf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sf(0)}static ar(){return new Sf(-1)}}const Z_="LruGarbageCollector",MV=1048576;function eA([n,e],[t,r]){const s=Tr(n,t);return s===0?Tr(e,r):s}class jV{constructor(e){this.Pr=e,this.buffer=new di(eA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Wt(Z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vf(t)?Wt(Z_,"Ignoring IndexedDB error during garbage collection: ",t):await Uf(t)}await this.Ar(3e5)}))}}class BV{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Et.resolve(jm.ce);const r=new jV(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(J_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,i,u,d,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,t)))).next((_=>(i=_,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Qd()<=Nr.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${i} targets in `+(g-d)+`ms
	Removed ${_} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:_}))))}}function UV(n,e){return new BV(n,e)}class VV{constructor(){this.changes=new Zh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ro.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Et.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&t0(r.mutation,s,Yo.empty(),Fs.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ir()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ir()){const s=Oh();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let u=G1();return i.forEach(((d,g)=>{u=u.insert(d,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Oh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ir())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let i=nu();const u=e0(),d=(function(){return e0()})();return t.forEach(((g,p)=>{const b=r.get(p.key);s.has(p.key)&&(b===void 0||b.mutation instanceof uh)?i=i.insert(p.key,p):b!==void 0?(u.set(p.key,b.mutation.getFieldMask()),t0(b.mutation,p,b.mutation.getFieldMask(),Fs.now())):u.set(p.key,Yo.empty())})),this.recalculateAndSaveOverlays(e,i).next((g=>(g.forEach(((p,b)=>u.set(p,b))),t.forEach(((p,b)=>d.set(p,new zV(b,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=e0();let s=new ia(((u,d)=>u-d)),i=Ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let b=r.get(g)||Yo.empty();b=d.applyToLocalView(p,b),r.set(g,b);const _=(s.get(d.batchId)||Ir()).add(g);s=s.insert(d.batchId,_)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,b=g.value,_=TN();b.forEach((I=>{if(!i.has(I)){const S=LN(t.get(I),r.get(I));S!==null&&_.set(I,S),i=i.add(I)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Et.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return HU(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const u=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Et.resolve(Oh());let d=u0,g=i;return u.next((p=>Et.forEach(p,((b,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),i.get(b)?Et.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{g=g.insert(b,I)}))))).next((()=>this.populateOverlays(e,p,i))).next((()=>this.computeViews(e,g,p,Ir()))).next((b=>({batchId:d,changes:NN(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rn(t)).next((r=>{let s=G1();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let u=G1();return this.indexManager.getCollectionParents(e,i).next((d=>Et.forEach(d,(g=>{const p=(function(_,I){return new zf(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,g.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((b=>{b.forEach(((_,I)=>{u=u.insert(_,I)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((u=>{i.forEach(((g,p)=>{const b=p.getKey();u.get(b)===null&&(u=u.insert(b,ro.newInvalidDocument(b)))}));let d=G1();return u.forEach(((g,p)=>{const b=i.get(g);b!==void 0&&t0(b.mutation,p,Yo.empty(),Fs.now()),zm(t,p)&&(d=d.insert(g,p))})),d}))}}class qV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Et.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:uc(s.createTime)}})(t)),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:PV(s.bundledQuery),readTime:uc(s.readTime)}})(t)),Et.resolve()}}class GV{constructor(){this.overlays=new ia(Rn.comparator),this.Lr=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oh();return Et.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.bt(e,t,i)})),Et.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(r)),Et.resolve()}getOverlaysForCollection(e,t,r){const s=Oh(),i=t.length+1,u=new Rn(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===i&&g.largestBatchId>r&&s.set(g.getKey(),g)}return Et.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new ia(((p,b)=>p-b));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let b=i.get(p.largestBatchId);b===null&&(b=Oh(),i=i.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const d=Oh(),g=i.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>d.set(p,b))),!(d.size()>=s)););return Et.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new cV(t,r));let i=this.Lr.get(t);i===void 0&&(i=Ir(),this.Lr.set(t,i)),this.Lr.set(t,i.add(r.key))}}class WV{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return Et.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Et.resolve()}}class j5{constructor(){this.kr=new di(Ci.Kr),this.qr=new di(Ci.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Ci(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Ci(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Rn(new Rs([])),r=new Ci(t,e),s=new Ci(t,e+1),i=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),i.push(u.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Rn(new Rs([])),r=new Ci(t,e),s=new Ci(t,e+1);let i=Ir();return this.qr.forEachInRange([r,s],(u=>{i=i.add(u.key)})),i}containsKey(e){const t=new Ci(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ci{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Rn.comparator(e.key,t.key)||Tr(e.Hr,t.Hr)}static Ur(e,t){return Tr(e.Hr,t.Hr)||Rn.comparator(e.key,t.key)}}class YV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new di(Ci.Kr)}checkEmpty(e){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lV(i,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Jr=this.Jr.add(new Ci(d.key,i)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Et.resolve(u)}lookupMutationBatch(e,t){return Et.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),i=s<0?0:s;return Et.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?N5:this.Yn-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ci(t,0),s=new Ci(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],(u=>{const d=this.Zr(u.Hr);i.push(d)})),Et.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new di(Tr);return t.forEach((s=>{const i=new Ci(s,0),u=new Ci(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,u],(d=>{r=r.add(d.Hr)}))})),Et.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;Rn.isDocumentKey(i)||(i=i.child(""));const u=new Ci(new Rn(i),0);let d=new di(Tr);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(g.Hr)),!0)}),u),Et.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){es(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Et.forEach(t.mutations,(s=>{const i=new Ci(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Ci(t,0),s=this.Jr.firstAfterOrEqual(r);return Et.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Et.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XV{constructor(e){this.ti=e,this.docs=(function(){return new ia(Rn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Et.resolve(r?r.document.mutableCopy():ro.newInvalidDocument(t))}getEntries(e,t){let r=nu();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ro.newInvalidDocument(s))})),Et.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=nu();const u=t.path,d=new Rn(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||vU(yU(b),r)<=0||(s.has(b.key)||zm(t,b))&&(i=i.insert(b.key,b.mutableCopy()))}return Et.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Bn(9500)}ni(e,t){return Et.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new QV(this)}getSize(e){return Et.resolve(this.size)}}class QV extends VV{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Et.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class KV{constructor(e){this.persistence=e,this.ri=new Zh((t=>R5(t)),O5),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.ii=0,this.si=new j5,this.targetCount=0,this.oi=Sf._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Et.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Sf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.lr(t),Et.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(u),i.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),Et.waitFor(i).next((()=>s))}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Et.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Et.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((u=>{i.push(s.markPotentiallyOrphaned(e,u))})),Et.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Et.resolve(r)}containsKey(e,t){return Et.resolve(this.si.containsKey(t))}}class XN{constructor(e,t){this._i={},this.overlays={},this.ai=new jm(0),this.ui=!1,this.ui=!0,this.ci=new WV,this.referenceDelegate=e(this),this.li=new KV(this),this.indexManager=new LV,this.remoteDocumentCache=(function(s){return new XV(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DV(t),this.Pi=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new YV(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Wt("MemoryPersistence","Starting transaction:",e);const s=new $V(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((i=>this.referenceDelegate.Ii(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ei(e,t){return Et.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class $V extends wU{constructor(e){super(),this.currentSequenceNumber=e}}class F5{constructor(e){this.persistence=e,this.Ri=new j5,this.Ai=null}static Vi(e){return new F5(e)}get di(){if(this.Ai)return this.Ai;throw Bn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Et.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.di.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.di,(r=>{const s=Rn.fromPath(r);return this.mi(e,s).next((i=>{i||t.removeEntry(s,Yn.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Et.or([()=>Et.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Zg{constructor(e,t){this.persistence=e,this.fi=new Zh((r=>EU(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=UV(this,t)}static Vi(e,t){return new Zg(e,t)}Ti(){}Ii(e){return Et.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Et.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((i=>i?Et.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(r++,i.removeEntry(u,Yn.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Et.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Et.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Et.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Et.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vg(e.data.value)),t}wr(e,t,r){return Et.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Et.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class B5{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Ir(),s=Ir();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new B5(e,t.fromCache,r,s)}}class JV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AM()?8:_U(so())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.gs(e,t).next((u=>{i.result=u})).next((()=>{if(!i.result)return this.ps(e,t,s,r).next((u=>{i.result=u}))})).next((()=>{if(i.result)return;const u=new JV;return this.ys(e,t,u).next((d=>{if(i.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>i.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Qd()<=Nr.DEBUG&&Wt("QueryEngine","SDK will not create cache indexes for query:",Kd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Et.resolve()):(Qd()<=Nr.DEBUG&&Wt("QueryEngine","Query:",Kd(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Qd()<=Nr.DEBUG&&Wt("QueryEngine","The SDK decides to create cache indexes for query:",Kd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cc(t))):Et.resolve())}gs(e,t){if(z_(t))return Et.resolve(null);let r=cc(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=uv(t,null,"F"),r=cc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const u=Ir(...i);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.bs(t,d);return this.Ss(t,p,u,g.readTime)?this.gs(e,uv(t,null,"F")):this.Ds(e,p,t,g)}))))})))))}ps(e,t,r,s){return z_(t)||s.isEqual(Yn.min())?Et.resolve(null):this.fs.getDocuments(e,r).next((i=>{const u=this.bs(t,i);return this.Ss(t,u,r,s)?Et.resolve(null):(Qd()<=Nr.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kd(t)),this.Ds(e,u,t,xU(s,u0)).next((d=>d)))}))}bs(e,t){let r=new di(CN(e));return t.forEach(((s,i)=>{zm(e,i)&&(r=r.add(i))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,t,r){return Qd()<=Nr.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",Kd(t)),this.fs.getDocumentsMatchingQuery(e,t,Ju.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((u=>{i=i.insert(u.key,u)})),i)))}}const U5="LocalStore",ez=3e8;class tz{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ia(Tr),this.Fs=new Zh((i=>R5(i)),O5),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function nz(n,e,t,r){return new tz(n,e,t,r)}async function QN(n,e){const t=nr(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const u=[],d=[];let g=Ir();for(const p of s){u.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of i){d.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function rz(n,e){const t=nr(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,b){const _=p.batch,I=_.keys();let S=Et.resolve();return I.forEach((P=>{S=S.next((()=>b.getEntry(g,P))).next((k=>{const M=p.docVersions.get(P);es(M!==null,48541),k.version.compareTo(M)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),b.addEntry(k)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(g,_)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=Ir();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function KN(n){const e=nr(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function sz(n,e){const t=nr(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((b,_)=>{const I=s.get(_);if(!I)return;d.push(t.li.removeMatchingKeys(i,b.removedDocuments,_).next((()=>t.li.addMatchingKeys(i,b.addedDocuments,_))));let S=I.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Vi.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):b.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(b.resumeToken,r)),s=s.insert(_,S),(function(k,M,j){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=ez?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(I,S,b)&&d.push(t.li.updateTargetData(i,S))}));let g=nu(),p=Ir();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(i,b))})),d.push(az(i,u,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!r.isEqual(Yn.min())){const b=t.li.getLastRemoteSnapshotVersion(i).next((_=>t.li.setTargetsMetadata(i,i.currentSequenceNumber,r)));d.push(b)}return Et.waitFor(d).next((()=>u.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,g,p))).next((()=>g))})).then((i=>(t.vs=s,i)))}function az(n,e,t){let r=Ir(),s=Ir();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let u=nu();return t.forEach(((d,g)=>{const p=i.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),g.isNoDocument()&&g.version.isEqual(Yn.min())?(e.removeEntry(d,g.readTime),u=u.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(d,g)):Wt(U5,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:u,Ls:s}}))}function iz(n,e){const t=nr(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=N5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oz(n,e){const t=nr(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((i=>i?(s=i,Et.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new Hu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function gv(n,e,t){const r=nr(n),s=r.vs.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Vf(u))throw u;Wt(U5,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function tA(n,e,t){const r=nr(n);let s=Yn.min(),i=Ir();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,p,b){const _=nr(g),I=_.Fs.get(b);return I!==void 0?Et.resolve(_.vs.get(I)):_.li.getTargetData(p,b)})(r,u,cc(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,d.targetId).next((g=>{i=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:Yn.min(),t?i:Ir()))).next((d=>(lz(r,WU(e),d),{documents:d,ks:i})))))}function lz(n,e,t){let r=n.Ms.get(e)||Yn.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Ms.set(e,r)}class nA{constructor(){this.activeTargetIds=JU()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cz{constructor(){this.vo=new nA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uz{Mo(e){}shutdown(){}}const rA="ConnectivityMonitor";class sA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Wt(rA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Wt(rA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qp=null;function mv(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}const oy="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dz{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Xg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,i){const u=mv(),d=this.Qo(e,t.toUriEncodedString());Wt(oy,`Sending RPC '${e}' ${u}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,s,i);const{host:p}=new URL(d),b=Kh(p);return this.zo(e,d,g,r,b).then((_=>(Wt(oy,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw _f(oy,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_}))}jo(e,t,r,s,i,u){return this.Wo(e,t,r,s,i)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}Qo(e,t){const r=hz[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class fz{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Qi="WebChannelConnection",B1=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class cf extends dz{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cf.c_){const e=tN();B1(e,eN.STAT_EVENT,(t=>{t.stat===rv.PROXY?Wt(Qi,"STAT_EVENT: detected buffering proxy"):t.stat===rv.NOPROXY&&Wt(Qi,"STAT_EVENT: detected no buffering proxy")})),cf.c_=!0}}zo(e,t,r,s,i){const u=mv();return new Promise(((d,g)=>{const p=new J6;p.setWithCredentials(!0),p.listenOnce(Z6.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yg.NO_ERROR:const _=p.getResponseJson();Wt(Qi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case yg.TIMEOUT:Wt(Qi,`RPC '${e}' ${u} timed out`),g(new Ht(bt.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:const I=p.getStatus();if(Wt(Qi,`RPC '${e}' ${u} failed with status:`,I,"response text:",p.getResponseText()),I>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S?.error;if(P&&P.status&&P.message){const k=(function(j){const J=j.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(J)>=0?J:bt.UNKNOWN})(P.status);g(new Ht(k,P.message))}else g(new Ht(bt.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new Ht(bt.UNAVAILABLE,"Connection failed."));break;default:Bn(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Wt(Qi,`RPC '${e}' ${u} completed.`)}}));const b=JSON.stringify(s);Wt(Qi,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",b,r,15)}))}T_(e,t,r){const s=mv(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const p=i.join("");Wt(Qi,`Creating RPC '${e}' stream ${s}: ${p}`,d);const b=u.createWebChannel(p,d);this.I_(b);let _=!1,I=!1;const S=new fz({Ho:P=>{I?Wt(Qi,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(_||(Wt(Qi,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Wt(Qi,`RPC '${e}' stream ${s} sending:`,P),b.send(P))},Jo:()=>b.close()});return B1(b,q1.EventType.OPEN,(()=>{I||(Wt(Qi,`RPC '${e}' stream ${s} transport opened.`),S.i_())})),B1(b,q1.EventType.CLOSE,(()=>{I||(I=!0,Wt(Qi,`RPC '${e}' stream ${s} transport closed`),S.o_(),this.E_(b))})),B1(b,q1.EventType.ERROR,(P=>{I||(I=!0,_f(Qi,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),S.o_(new Ht(bt.UNAVAILABLE,"The operation could not be completed")))})),B1(b,q1.EventType.MESSAGE,(P=>{if(!I){const k=P.data[0];es(!!k,16349);const M=k,j=M?.error||M[0]?.error;if(j){Wt(Qi,`RPC '${e}' stream ${s} received error:`,j);const J=j.status;let Z=(function(Re){const Y=Ja[Re];if(Y!==void 0)return MN(Y)})(J),ee=j.message;Z===void 0&&(Z=bt.INTERNAL,ee="Unknown error status: "+J+" with message "+j.message),I=!0,S.o_(new Ht(Z,ee)),b.close()}else Wt(Qi,`RPC '${e}' stream ${s} received:`,k),S.__(k)}})),cf.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nN()}}function pz(n){return new cf(n)}function ly(){return typeof document<"u"?document:null}function Wm(n){return new yV(n,!0)}cf.c_=!1;class $N{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Wt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const aA="PersistentStream";class JN{constructor(e,t,r,s,i,u,d,g){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $N(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(tu(t.toString()),tu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ht(bt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Wt(aA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Wt(aA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gz extends JN{constructor(e,t,r,s,i,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wV(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Yn.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Yn.min():u.readTime?uc(u.readTime):Yn.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=pv(this.serializer),t.addTarget=(function(i,u){let d;const g=u.target;if(d=lv(g)?{documents:EV(i,g)}:{query:CV(i,g).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=BN(i,u.resumeToken);const p=hv(i,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Yn.min())>0){d.readTime=Jg(i,u.snapshotVersion.toTimestamp());const p=hv(i,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=NV(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=pv(this.serializer),t.removeTarget=e,this.K_(t)}}class mz extends JN{constructor(e,t,r,s,i,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return es(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,es(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){es(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AV(e.writeResults,e.commitTime),r=uc(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=pv(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>_V(this.serializer,r)))};this.K_(t)}}class xz{}class yz extends xz{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ht(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,u])=>this.connection.Wo(e,dv(t,r),s,i,u))).catch((i=>{throw i.name==="FirebaseError"?(i.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ht(bt.UNKNOWN,i.toString())}))}jo(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,dv(t,r),s,u,d,i))).catch((u=>{throw u.name==="FirebaseError"?(u.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ht(bt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vz(n,e,t,r){return new yz(n,e,t,r)}class bz{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tu(t),this.aa=!1):Wt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hh="RemoteStore";class wz{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ed(this)&&(Wt(Hh,"Restarting streams for network reachability change."),await(async function(g){const p=nr(g);p.Ea.add(4),await M0(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ym(p)})(this))}))})),this.Va=new bz(r,s)}}async function Ym(n){if(ed(n))for(const e of n.Ra)await e(!0)}async function M0(n){for(const e of n.Ra)await e(!1)}function ZN(n,e){const t=nr(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),q5(t)?H5(t):Hf(t).O_()&&z5(t,e))}function V5(n,e){const t=nr(n),r=Hf(t);t.Ia.delete(e),r.O_()&&e8(t,e),t.Ia.size===0&&(r.O_()?r.L_():ed(t)&&t.Va.set("Unknown"))}function z5(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hf(n).Z_(e)}function e8(n,e){n.da.$e(e),Hf(n).X_(e)}function H5(n){n.da=new pV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Hf(n).start(),n.Va.ua()}function q5(n){return ed(n)&&!Hf(n).x_()&&n.Ia.size>0}function ed(n){return nr(n).Ea.size===0}function t8(n){n.da=void 0}async function _z(n){n.Va.set("Online")}async function Az(n){n.Ia.forEach(((e,t)=>{z5(n,e)}))}async function Ez(n,e){t8(n),q5(n)?(n.Va.ha(e),H5(n)):n.Va.set("Unknown")}async function Cz(n,e,t){if(n.Va.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await(async function(s,i){const u=i.cause;for(const d of i.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(r){Wt(Hh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await em(n,r)}else if(e instanceof _g?n.da.Xe(e):e instanceof jN?n.da.st(e):n.da.tt(e),!t.isEqual(Yn.min()))try{const r=await KN(n.localStore);t.compareTo(r)>=0&&await(function(i,u){const d=i.da.Tt(u);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=i.Ia.get(p);b&&i.Ia.set(p,b.withResumeToken(g.resumeToken,u))}})),d.targetMismatches.forEach(((g,p)=>{const b=i.Ia.get(g);if(!b)return;i.Ia.set(g,b.withResumeToken(Vi.EMPTY_BYTE_STRING,b.snapshotVersion)),e8(i,g);const _=new Hu(b.target,g,p,b.sequenceNumber);z5(i,_)})),i.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){Wt(Hh,"Failed to raise snapshot:",r),await em(n,r)}}async function em(n,e,t){if(!Vf(e))throw e;n.Ea.add(1),await M0(n),n.Va.set("Offline"),t||(t=()=>KN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Wt(Hh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ym(n)}))}function n8(n,e){return e().catch((t=>em(n,t,e)))}async function Xm(n){const e=nr(n),t=nh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:N5;for(;Sz(e);)try{const s=await iz(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,Nz(e,s)}catch(s){await em(e,s)}r8(e)&&s8(e)}function Sz(n){return ed(n)&&n.Ta.length<10}function Nz(n,e){n.Ta.push(e);const t=nh(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function r8(n){return ed(n)&&!nh(n).x_()&&n.Ta.length>0}function s8(n){nh(n).start()}async function Tz(n){nh(n).ra()}async function Iz(n){const e=nh(n);for(const t of n.Ta)e.ea(t.mutations)}async function Rz(n,e,t){const r=n.Ta.shift(),s=L5.from(r,e,t);await n8(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Xm(n)}async function Oz(n,e){e&&nh(n).Y_&&await(async function(r,s){if((function(u){return hV(u)&&u!==bt.ABORTED})(s.code)){const i=r.Ta.shift();nh(r).B_(),await n8(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Xm(r)}})(n,e),r8(n)&&s8(n)}async function iA(n,e){const t=nr(n);t.asyncQueue.verifyOperationInProgress(),Wt(Hh,"RemoteStore received new credentials");const r=ed(t);t.Ea.add(3),await M0(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ym(t)}async function Dz(n,e){const t=nr(n);e?(t.Ea.delete(2),await Ym(t)):e||(t.Ea.add(2),await M0(t),t.Va.set("Unknown"))}function Hf(n){return n.ma||(n.ma=(function(t,r,s){const i=nr(t);return i.sa(),new gz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Zo:_z.bind(null,n),Yo:Az.bind(null,n),t_:Ez.bind(null,n),J_:Cz.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),q5(n)?H5(n):n.Va.set("Unknown")):(await n.ma.stop(),t8(n))}))),n.ma}function nh(n){return n.fa||(n.fa=(function(t,r,s){const i=nr(t);return i.sa(),new mz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Tz.bind(null,n),t_:Oz.bind(null,n),ta:Iz.bind(null,n),na:Rz.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Xm(n)):(await n.fa.stop(),n.Ta.length>0&&(Wt(Hh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class G5{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const u=Date.now()+r,d=new G5(e,t,u,s,i);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W5(n,e){if(tu("AsyncQueue",`${e}: ${n}`),Vf(n))return new Ht(bt.UNAVAILABLE,`${e}: ${n}`);throw n}class uf{static emptySet(e){return new uf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rn.comparator(t.key,r.key):(t,r)=>Rn.comparator(t.key,r.key),this.keyedMap=G1(),this.sortedSet=new ia(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new uf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oA{constructor(){this.ga=new ia(Rn.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bn(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Nf{constructor(e,t,r,s,i,u,d,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,i){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Nf(e,t,uf.emptySet(t),u,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class Pz{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Lz{constructor(){this.queries=lA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=nr(t),i=s.queries;s.queries=lA(),i.forEach(((u,d)=>{for(const g of d.ba)g.onError(r)}))})(this,new Ht(bt.ABORTED,"Firestore shutting down"))}}function lA(){return new Zh((n=>EN(n)),Vm)}async function a8(n,e){const t=nr(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new Pz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=W5(u,`Initialization of query '${Kd(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,i),i.ba.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&Y5(t)}async function i8(n,e){const t=nr(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const u=i.ba.indexOf(e);u>=0&&(i.ba.splice(u,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function kz(n,e){const t=nr(n);let r=!1;for(const s of e){const i=s.query,u=t.queries.get(i);if(u){for(const d of u.ba)d.Fa(s)&&(r=!0);u.wa=s}}r&&Y5(t)}function Mz(n,e,t){const r=nr(n),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(t);r.queries.delete(e)}function Y5(n){n.Ca.forEach((e=>{e.next()}))}var xv,cA;(cA=xv||(xv={})).Ma="default",cA.Cache="cache";class o8{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Nf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xv.Cache}}class l8{constructor(e){this.key=e}}class c8{constructor(e){this.key=e}}class jz{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ir(),this.mutatedKeys=Ir(),this.eu=CN(e),this.tu=new uf(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new oA,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const g=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((b,_)=>{const I=s.get(b),S=zm(this.query,_)?_:null,P=!!I&&this.mutatedKeys.has(I.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;I&&S?I.data.isEqual(S.data)?P!==k&&(r.track({type:3,doc:S}),M=!0):this.su(I,S)||(r.track({type:2,doc:S}),M=!0,(g&&this.eu(S,g)>0||p&&this.eu(S,p)<0)&&(d=!0)):!I&&S?(r.track({type:0,doc:S}),M=!0):I&&!S&&(r.track({type:1,doc:I}),M=!0,(g||p)&&(d=!0)),M&&(S?(u=u.add(S),i=k?i.add(b):i.delete(b)):(u=u.delete(b),i=i.delete(b)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),i=i.delete(b.key),r.track({type:1,doc:b})}return{tu:u,iu:r,Ss:d,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((b,_)=>(function(S,P){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bn(20277,{Vt:M})}};return k(S)-k(P)})(b.type,_.type)||this.eu(b.doc,_.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],g=this.Ya.size===0&&this.current&&!s?1:0,p=g!==this.Xa;return this.Xa=g,u.length!==0||p?{snapshot:new Nf(this.query,e.tu,i,u,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ir(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new c8(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new l8(r))})),t}cu(e){this.Za=e.ks,this.Ya=Ir();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const X5="SyncEngine";class Fz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bz{constructor(e){this.key=e,this.hu=!1}}class Uz{constructor(e,t,r,s,i,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Zh((d=>EN(d)),Vm),this.Iu=new Map,this.Eu=new Set,this.Ru=new ia(Rn.comparator),this.Au=new Map,this.Vu=new j5,this.du={},this.mu=new Map,this.fu=Sf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vz(n,e,t=!0){const r=g8(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await u8(r,e,t,!0),s}async function zz(n,e){const t=g8(n);await u8(t,e,!0,!1)}async function u8(n,e,t,r){const s=await oz(n.localStore,cc(e)),i=s.targetId,u=n.sharedClientState.addLocalQueryTarget(i,t);let d;return r&&(d=await Hz(n,e,i,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&ZN(n.remoteStore,s),d}async function Hz(n,e,t,r,s){n.pu=(_,I,S)=>(async function(k,M,j,J){let Z=M.view.ru(j);Z.Ss&&(Z=await tA(k.localStore,M.query,!1).then((({documents:Y})=>M.view.ru(Y,Z))));const ee=J&&J.targetChanges.get(M.targetId),we=J&&J.targetMismatches.get(M.targetId)!=null,Re=M.view.applyChanges(Z,k.isPrimaryClient,ee,we);return hA(k,M.targetId,Re.au),Re.snapshot})(n,_,I,S);const i=await tA(n.localStore,e,!0),u=new jz(e,i.ks),d=u.ru(i.documents),g=k0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,g);hA(n,t,p.au);const b=new Fz(e,t,u);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function qz(n,e,t){const r=nr(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((u=>!Vm(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&V5(r.remoteStore,s.targetId),yv(r,s.targetId)})).catch(Uf)):(yv(r,s.targetId),await gv(r.localStore,s.targetId,!0))}async function Gz(n,e){const t=nr(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),V5(t.remoteStore,r.targetId))}async function Wz(n,e,t){const r=Zz(n);try{const s=await(function(u,d){const g=nr(u),p=Fs.now(),b=d.reduce(((S,P)=>S.add(P.key)),Ir());let _,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let P=nu(),k=Ir();return g.xs.getEntries(S,b).next((M=>{P=M,P.forEach(((j,J)=>{J.isValidDocument()||(k=k.add(j))}))})).next((()=>g.localDocuments.getOverlayedDocuments(S,P))).next((M=>{_=M;const j=[];for(const J of d){const Z=iV(J,_.get(J.key).overlayedDocument);Z!=null&&j.push(new uh(J.key,Z,mN(Z.value.mapValue),Il.exists(!0)))}return g.mutationQueue.addMutationBatch(S,p,j,d)})).next((M=>{I=M;const j=M.applyToLocalDocumentSet(_,k);return g.documentOverlayCache.saveOverlays(S,M.batchId,j)}))})).then((()=>({batchId:I.batchId,changes:NN(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,g){let p=u.du[u.currentUser.toKey()];p||(p=new ia(Tr)),p=p.insert(d,g),u.du[u.currentUser.toKey()]=p})(r,s.batchId,t),await j0(r,s.changes),await Xm(r.remoteStore)}catch(s){const i=W5(s,"Failed to persist write");t.reject(i)}}async function h8(n,e){const t=nr(n);try{const r=await sz(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const u=t.Au.get(i);u&&(es(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?es(u.hu,14607):s.removedDocuments.size>0&&(es(u.hu,42227),u.hu=!1))})),await j0(t,r,e)}catch(r){await Uf(r)}}function uA(n,e,t){const r=nr(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const g=nr(u);g.onlineState=d;let p=!1;g.queries.forEach(((b,_)=>{for(const I of _.ba)I.va(d)&&(p=!0)})),p&&Y5(g)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yz(n,e,t){const r=nr(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let u=new ia(Rn.comparator);u=u.insert(i,ro.newNoDocument(i,Yn.min()));const d=Ir().add(i),g=new Gm(Yn.min(),new Map,new ia(Tr),u,d);await h8(r,g),r.Ru=r.Ru.remove(i),r.Au.delete(e),Q5(r)}else await gv(r.localStore,e,!1).then((()=>yv(r,e,t))).catch(Uf)}async function Xz(n,e){const t=nr(n),r=e.batch.batchId;try{const s=await rz(t.localStore,e);f8(t,r,null),d8(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await j0(t,s)}catch(s){await Uf(s)}}async function Qz(n,e,t){const r=nr(n);try{const s=await(function(u,d){const g=nr(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,d).next((_=>(es(_!==null,37113),b=_.keys(),g.mutationQueue.removeMutationBatch(p,_)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(r.localStore,e);f8(r,e,t),d8(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await j0(r,s)}catch(s){await Uf(s)}}function d8(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function f8(n,e,t){const r=nr(n);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||p8(n,r)}))}function p8(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(V5(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Q5(n))}function hA(n,e,t){for(const r of t)r instanceof l8?(n.Vu.addReference(r.key,e),Kz(n,r)):r instanceof c8?(Wt(X5,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||p8(n,r.key)):Bn(19791,{wu:r})}function Kz(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Wt(X5,"New document in limbo: "+t),n.Eu.add(r),Q5(n))}function Q5(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Rn(Rs.fromString(e)),r=n.fu.next();n.Au.set(r,new Bz(t)),n.Ru=n.Ru.insert(t,r),ZN(n.remoteStore,new Hu(cc(Um(t.path)),r,"TargetPurposeLimboResolution",jm.ce))}}async function j0(n,e,t){const r=nr(n),s=[],i=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{u.push(r.pu(g,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){s.push(p);const b=B5.Es(g.targetId,p);i.push(b)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(g,p){const b=nr(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Et.forEach(p,(I=>Et.forEach(I.Ts,(S=>b.persistence.referenceDelegate.addReference(_,I.targetId,S))).next((()=>Et.forEach(I.Is,(S=>b.persistence.referenceDelegate.removeReference(_,I.targetId,S)))))))))}catch(_){if(!Vf(_))throw _;Wt(U5,"Failed to update sequence numbers: "+_)}for(const _ of p){const I=_.targetId;if(!_.fromCache){const S=b.vs.get(I),P=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(P);b.vs=b.vs.insert(I,k)}}})(r.localStore,i))}async function $z(n,e){const t=nr(n);if(!t.currentUser.isEqual(e)){Wt(X5,"User change. New user:",e.toKey());const r=await QN(t.localStore,e);t.currentUser=e,(function(i,u){i.mu.forEach((d=>{d.forEach((g=>{g.reject(new Ht(bt.CANCELLED,u))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await j0(t,r.Ns)}}function Jz(n,e){const t=nr(n),r=t.Au.get(e);if(r&&r.hu)return Ir().add(r.key);{let s=Ir();const i=t.Iu.get(e);if(!i)return s;for(const u of i){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function g8(n){const e=nr(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yz.bind(null,e),e.Pu.J_=kz.bind(null,e.eventManager),e.Pu.yu=Mz.bind(null,e.eventManager),e}function Zz(n){const e=nr(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qz.bind(null,e),e}class tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nz(this.persistence,new ZV,e.initialUser,this.serializer)}Cu(e){return new XN(F5.Vi,this.serializer)}Du(e){return new cz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tm.provider={build:()=>new tm};class eH extends tm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){es(this.persistence.referenceDelegate instanceof Zg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new XN((r=>Zg.Vi(r,t)),this.serializer)}}class vv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$z.bind(null,this.syncEngine),await Dz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lz})()}createDatastore(e){const t=Wm(e.databaseInfo.databaseId),r=pz(e.databaseInfo);return vz(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,u,d){return new wz(r,s,i,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>uA(this.syncEngine,t,0)),(function(){return sA.v()?new sA:new uz})())}createSyncEngine(e,t){return(function(s,i,u,d,g,p,b){const _=new Uz(s,i,u,d,g,p);return b&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=nr(t);Wt(Hh,"RemoteStore shutting down."),r.Ea.add(5),await M0(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vv.provider={build:()=>new vv};class m8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const rh="FirestoreClient";class tH{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=no.UNAUTHENTICATED,this.clientId=S5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async u=>{Wt(rh,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Wt(rh,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=W5(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cy(n,e){n.asyncQueue.verifyOperationInProgress(),Wt(rh,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await QN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function dA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nH(n);Wt(rh,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iA(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>iA(e.remoteStore,s))),n._onlineComponents=e}async function nH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Wt(rh,"Using user provided OfflineComponentProvider");try{await cy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===bt.FAILED_PRECONDITION||s.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;_f("Error using user provided cache. Falling back to memory cache: "+t),await cy(n,new tm)}}else Wt(rh,"Using default OfflineComponentProvider"),await cy(n,new eH(void 0));return n._offlineComponents}async function x8(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Wt(rh,"Using user provided OnlineComponentProvider"),await dA(n,n._uninitializedComponentsProvider._online)):(Wt(rh,"Using default OnlineComponentProvider"),await dA(n,new vv))),n._onlineComponents}function rH(n){return x8(n).then((e=>e.syncEngine))}async function bv(n){const e=await x8(n),t=e.eventManager;return t.onListen=Vz.bind(null,e.syncEngine),t.onUnlisten=qz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Gz.bind(null,e.syncEngine),t}function sH(n,e,t,r){const s=new m8(r),i=new o8(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>a8(await bv(n),i))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>i8(await bv(n),i)))}}function aH(n,e,t={}){const r=new Xu;return n.asyncQueue.enqueueAndForget((async()=>(function(i,u,d,g,p){const b=new m8({next:I=>{b.Nu(),u.enqueueAndForget((()=>i8(i,_)));const S=I.docs.has(d);!S&&I.fromCache?p.reject(new Ht(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&I.fromCache&&g&&g.source==="server"?p.reject(new Ht(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),_=new o8(Um(d.path),b,{includeMetadataChanges:!0,Ka:!0});return a8(i,_)})(await bv(n),n.asyncQueue,e,t,r))),r.promise}function iH(n,e){const t=new Xu;return n.asyncQueue.enqueueAndForget((async()=>Wz(await rH(n),e,t))),t.promise}function y8(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const oH="ComponentProvider",fA=new Map;function lH(n,e,t,r,s){return new NU(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,y8(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const v8="firestore.googleapis.com",pA=!0;class gA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ht(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v8,this.ssl=pA}else this.host=e.host,this.ssl=e.ssl??pA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MV)throw new Ht(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y8(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ht(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ht(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ht(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ht(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iU;switch(r.type){case"firstParty":return new uU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ht(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fA.get(t);r&&(Wt(oH,"Removing Datastore"),fA.delete(t),r.terminate())})(this),Promise.resolve()}}function cH(n,e,t,r={}){n=Tl(n,Qm);const s=Kh(e),i=n._getSettings(),u={...i,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(d5(`https://${d}`),f5("Firestore",!0)),i.host!==v8&&i.host!==d&&_f("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...i,host:d,ssl:s,emulatorOptions:r};if(!Fh(g,u)&&(n._setSettings(g),r.mockUserToken)){let p,b;if(typeof r.mockUserToken=="string")p=r.mockUserToken,b=no.MOCK_USER;else{p=u6(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ht(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new no(_)}n._authCredentials=new oU(new sN(p,b))}}class td{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class _a{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _a(this.firestore,e,this._key)}toJSON(){return{type:_a._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(P0(t,_a._jsonSchema))return new _a(e,r||null,new Rn(Rs.fromString(t.referencePath)))}}_a._jsonSchemaVersion="firestore/documentReference/1.0",_a._jsonSchema={type:ei("string",_a._jsonSchemaVersion),referencePath:ei("string")};class Qu extends td{constructor(e,t,r){super(e,t,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _a(this.firestore,null,new Rn(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function qf(n,e,...t){if(n=ja(n),aN("collection","path",e),n instanceof Qm){const r=Rs.fromString(e,...t);return T_(r),new Qu(n,null,r)}{if(!(n instanceof _a||n instanceof Qu))throw new Ht(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rs.fromString(e,...t));return T_(r),new Qu(n.firestore,null,r)}}function $s(n,e,...t){if(n=ja(n),arguments.length===1&&(e=S5.newId()),aN("doc","path",e),n instanceof Qm){const r=Rs.fromString(e,...t);return N_(r),new _a(n,null,new Rn(r))}{if(!(n instanceof _a||n instanceof Qu))throw new Ht(bt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rs.fromString(e,...t));return N_(r),new _a(n.firestore,n instanceof Qu?n.converter:null,new Rn(r))}}const mA="AsyncQueue";class xA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $N(this,"async_queue_retry"),this._c=()=>{const r=ly();r&&Wt(mA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ly();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ly();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Xu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vf(e))throw e;Wt(mA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,tu("INTERNAL UNHANDLED ERROR: ",yA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=G5.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Bn(47125,{Pc:yA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class qh extends Qm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new xA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xA(e),this._firestoreClient=void 0,await e}}}function uH(n,e){const t=typeof n=="object"?n:m5(),r=typeof n=="string"?n:Xg,s=Dm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=o6("firestore");i&&cH(s,...i)}return s}function K5(n){if(n._terminated)throw new Ht(bt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hH(n),n._firestoreClient}function hH(n){const e=n._freezeSettings(),t=lH(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tH(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(Vi.fromBase64String(e))}catch(t){throw new Ht(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new al(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:al._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(P0(e,al._jsonSchema))return al.fromBase64String(e.bytes)}}al._jsonSchemaVersion="firestore/bytes/1.0",al._jsonSchema={type:ei("string",al._jsonSchemaVersion),bytes:ei("string")};class $5{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ht(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Km{constructor(e){this._methodName=e}}class hc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ht(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ht(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tr(this._lat,e._lat)||Tr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hc._jsonSchemaVersion}}static fromJSON(e){if(P0(e,hc._jsonSchema))return new hc(e.latitude,e.longitude)}}hc._jsonSchemaVersion="firestore/geoPoint/1.0",hc._jsonSchema={type:ei("string",hc._jsonSchemaVersion),latitude:ei("number"),longitude:ei("number")};class Rl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(P0(e,Rl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rl(e.vectorValues);throw new Ht(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rl._jsonSchemaVersion="firestore/vectorValue/1.0",Rl._jsonSchema={type:ei("string",Rl._jsonSchemaVersion),vectorValues:ei("object")};const dH=/^__.*__$/;class fH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new L0(e,this.data,t,this.fieldTransforms)}}class b8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function w8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bn(40011,{dataSource:n})}}class J5{constructor(e,t,r,s,i,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new J5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return nm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(w8(this.dataSource)&&dH.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wm(e)}createContext(e,t,r,s=!1){return new J5({dataSource:e,methodName:t,targetDoc:r,path:Bi.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z5(n){const e=n._freezeSettings(),t=Wm(n._databaseId);return new pH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gH(n,e,t,r,s,i={}){const u=n.createContext(i.merge||i.mergeFields?2:0,e,t,s);tb("Data must be an object, but it was:",u,r);const d=_8(r,u);let g,p;if(i.merge)g=new Yo(u.fieldMask),p=u.fieldTransforms;else if(i.mergeFields){const b=[];for(const _ of i.mergeFields){const I=Tf(e,_,t);if(!u.contains(I))throw new Ht(bt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);C8(b,I)||b.push(I)}g=new Yo(b),p=u.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,p=u.fieldTransforms;return new fH(new Oo(d),g,p)}class $m extends Km{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $m}}class eb extends Km{_toFieldTransform(e){return new nV(e.path,new g0)}isEqual(e){return e instanceof eb}}function mH(n,e,t,r){const s=n.createContext(1,e,t);tb("Data must be an object, but it was:",s,r);const i=[],u=Oo.empty();ch(r,((g,p)=>{const b=E8(e,g,t);p=ja(p);const _=s.childContextForFieldPath(b);if(p instanceof $m)i.push(b);else{const I=F0(p,_);I!=null&&(i.push(b),u.set(b,I))}}));const d=new Yo(i);return new b8(u,d,s.fieldTransforms)}function xH(n,e,t,r,s,i){const u=n.createContext(1,e,t),d=[Tf(e,r,t)],g=[s];if(i.length%2!=0)throw new Ht(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<i.length;I+=2)d.push(Tf(e,i[I])),g.push(i[I+1]);const p=[],b=Oo.empty();for(let I=d.length-1;I>=0;--I)if(!C8(p,d[I])){const S=d[I];let P=g[I];P=ja(P);const k=u.childContextForFieldPath(S);if(P instanceof $m)p.push(S);else{const M=F0(P,k);M!=null&&(p.push(S),b.set(S,M))}}const _=new Yo(p);return new b8(b,_,u.fieldTransforms)}function yH(n,e,t,r=!1){return F0(t,n.createContext(r?4:3,e))}function F0(n,e){if(A8(n=ja(n)))return tb("Unsupported field value:",e,n),_8(n,e);if(n instanceof Km)return(function(r,s){if(!w8(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const i=[];let u=0;for(const d of r){let g=F0(d,s.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=ja(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fs.fromDate(r);return{timestampValue:Jg(s.serializer,i)}}if(r instanceof Fs){const i=new Fs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jg(s.serializer,i)}}if(r instanceof hc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:BN(s.serializer,r._byteString)};if(r instanceof _a){const i=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(i))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:M5(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rl)return(function(u,d){const g=u instanceof Rl?u.toArray():u;return{mapValue:{fields:{[pN]:{stringValue:gN},[Qg]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw d.createError("VectorValues must only contain numeric values.");return D5(d.serializer,b)}))}}}}}})(r,s);if(WN(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Mm(r)}`)})(n,e)}function _8(n,e){const t={};return lN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ch(n,((r,s)=>{const i=F0(s,e.childContextForField(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function A8(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fs||n instanceof hc||n instanceof al||n instanceof _a||n instanceof Km||n instanceof Rl||WN(n))}function tb(n,e,t){if(!A8(t)||!iN(t)){const r=Mm(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Tf(n,e,t){if((e=ja(e))instanceof $5)return e._internalPath;if(typeof e=="string")return E8(n,e);throw nm("Field path arguments must be of type string or ",n,!1,void 0,t)}const vH=new RegExp("[~\\*/\\[\\]]");function E8(n,e,t){if(e.search(vH)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $5(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nm(n,e,t,r,s){const i=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(i||u)&&(g+=" (found",i&&(g+=` in field ${r}`),u&&(g+=` in document ${s}`),g+=")"),new Ht(bt.INVALID_ARGUMENT,d+n+g)}function C8(n,e){return n.some((t=>t.isEqual(e)))}class bH{convertValue(e,t="none"){switch(th(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ch(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){const t=e.fields?.[Qg].arrayValue?.values?.map((r=>Pa(r.doubleValue)));return new Rl(t)}convertGeoPoint(e){return new hc(Pa(e.latitude),Pa(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(h0(e));default:return null}}convertTimestamp(e){const t=Zu(e);return new Fs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rs.fromString(e);es(GN(r),9688,{name:e});const s=new d0(r.get(1),r.get(3)),i=new Rn(r.popFirst(5));return s.isEqual(t)||tu(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class S8 extends bH{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _a(this.firestore,null,t)}}function Fa(){return new eb("serverTimestamp")}const vA="@firebase/firestore",bA="4.10.0";function wA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class N8{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _a(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Tf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wH extends N8{data(){return super.data()}}function _H(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ht(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{}class T8 extends nb{}function Gf(n,e,...t){let r=[];e instanceof nb&&r.push(e),r=r.concat(t),(function(i){const u=i.filter((g=>g instanceof sb)).length,d=i.filter((g=>g instanceof rb)).length;if(u>1||u>0&&d>0)throw new Ht(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class rb extends T8{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new rb(e,t,r)}_apply(e){const t=this._parse(e);return I8(e._query,t),new td(e.firestore,e.converter,cv(e._query,t))}_parse(e){const t=Z5(e.firestore);return(function(i,u,d,g,p,b,_){let I;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ht(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){AA(_,b);const P=[];for(const k of _)P.push(_A(g,i,k));I={arrayValue:{values:P}}}else I=_A(g,i,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||AA(_,b),I=yH(d,u,_,b==="in"||b==="not-in");return Za.create(p,b,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class sb extends nb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sb(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Pl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let u=s;const d=i.getFlattenedFilters();for(const g of d)I8(u,g),u=cv(u,g)})(e._query,t),new td(e.firestore,e.converter,cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ab extends T8{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ab(e,t)}_apply(e){const t=(function(s,i,u){if(s.startAt!==null)throw new Ht(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ht(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new p0(i,u)})(e._query,this._field,this._direction);return new td(e.firestore,e.converter,GU(e._query,t))}}function Wf(n,e="asc"){const t=e,r=Tf("orderBy",n);return ab._create(r,t)}function _A(n,e,t){if(typeof(t=ja(t))=="string"){if(t==="")throw new Ht(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AN(e)&&t.indexOf("/")!==-1)throw new Ht(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Rs.fromString(t));if(!Rn.isDocumentKey(r))throw new Ht(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M_(n,new Rn(r))}if(t instanceof _a)return M_(n,t._key);throw new Ht(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mm(t)}.`)}function AA(n,e){if(!Array.isArray(n)||n.length===0)throw new Ht(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I8(n,e){const t=(function(s,i){for(const u of s)for(const d of u.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ht(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ht(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function AH(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Y1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ph extends N8{constructor(e,t,r,s,i,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ag(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ph._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ph._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ph._jsonSchema={type:ei("string",Ph._jsonSchemaVersion),bundleSource:ei("string","DocumentSnapshot"),bundleName:ei("string"),bundle:ei("string")};class Ag extends Ph{data(e={}){return super.data(e)}}class hf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Y1(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ag(this._firestore,this._userDataWriter,r.key,r,new Y1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ht(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const g=new Ag(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Y1(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>i||d.type!==3)).map((d=>{const g=new Ag(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Y1(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,b=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:EH(d.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bn(61501,{type:n})}}hf._jsonSchemaVersion="firestore/querySnapshot/1.0",hf._jsonSchema={type:ei("string",hf._jsonSchemaVersion),bundleSource:ei("string","QuerySnapshot"),bundleName:ei("string"),bundle:ei("string")};function ib(n){n=Tl(n,_a);const e=Tl(n.firestore,qh),t=K5(e);return aH(t,n._key).then((r=>R8(e,n,r)))}function hh(n,e,t){n=Tl(n,_a);const r=Tl(n.firestore,qh),s=AH(n.converter,e),i=Z5(r);return ob(r,[gH(i,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Il.none())])}function Yf(n,e,t,...r){n=Tl(n,_a);const s=Tl(n.firestore,qh),i=Z5(s);let u;return u=typeof(e=ja(e))=="string"||e instanceof $5?xH(i,"updateDoc",n._key,e,t,r):mH(i,"updateDoc",n._key,e),ob(s,[u.toMutation(n._key,Il.exists(!0))])}function Xf(n){return ob(Tl(n.firestore,qh),[new P5(n._key,Il.none())])}function nd(n,...e){n=ja(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wA(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(wA(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let i,u,d;if(n instanceof _a)u=Tl(n.firestore,qh),d=Um(n._key.path),i={next:p=>{e[r]&&e[r](R8(u,n,p))},error:e[r+1],complete:e[r+2]};else{const p=Tl(n,td);u=Tl(p.firestore,qh),d=p._query;const b=new S8(u);i={next:_=>{e[r]&&e[r](new hf(u,b,p,_))},error:e[r+1],complete:e[r+2]},_H(n._query)}const g=K5(u);return sH(g,d,s,i)}function ob(n,e){const t=K5(n);return iH(t,e)}function R8(n,e,t){const r=t.docs.get(e._key),s=new S8(n);return new Ph(n,s,e._key,r,new Y1(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){aU($h),Bh(new $u("firestore",((r,{instanceIdentifier:s,options:i})=>{const u=r.getProvider("app").getImmediate(),d=new qh(new lU(r.getProvider("auth-internal")),new hU(u,r.getProvider("app-check-internal")),TU(u,s),u);return i={useFetchStreams:t,...i},d._setSettings(i),d}),"PUBLIC").setMultipleInstances(!0)),ic(vA,bA,e),ic(vA,bA,"esm2020")})();const O8="firebasestorage.googleapis.com",CH="storageBucket",SH=120*1e3,NH=600*1e3;class vc extends yc{constructor(e,t,r=0){super(uy(e),`Firebase Storage: ${t} (${uy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pc||(pc={}));function uy(n){return"storage/"+n}function TH(){const n="An unknown error occurred, please check the error payload for server response.";return new vc(pc.UNKNOWN,n)}function IH(){return new vc(pc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RH(){return new vc(pc.CANCELED,"User canceled the upload/download.")}function OH(n){return new vc(pc.INVALID_URL,"Invalid URL '"+n+"'.")}function DH(n){return new vc(pc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function EA(n){return new vc(pc.INVALID_ARGUMENT,n)}function D8(){return new vc(pc.APP_DELETED,"The Firebase app was deleted.")}function PH(n){return new vc(pc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class El{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=El.makeFromUrl(e,t)}catch{return new El(e,"")}if(r.path==="")return r;throw DH(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),g={bucket:1,path:3};function p(ee){ee.path_=decodeURIComponent(ee.path)}const b="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${b}/b/${s}/o${I}`,"i"),P={bucket:1,path:3},k=t===O8?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",j=new RegExp(`^https?://${k}/${s}/${M}`,"i"),Z=[{regex:d,indices:g,postModify:i},{regex:S,indices:P,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<Z.length;ee++){const we=Z[ee],Re=we.regex.exec(e);if(Re){const Y=Re[we.indices.bucket];let U=Re[we.indices.path];U||(U=""),r=new El(Y,U),we.postModify(r);break}}if(r==null)throw OH(e);return r}}class LH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kH(n,e,t){let r=1,s=null,i=null,u=!1,d=0;function g(){return d===2}let p=!1;function b(...M){p||(p=!0,e.apply(null,M))}function _(M){s=setTimeout(()=>{s=null,n(S,g())},M)}function I(){i&&clearTimeout(i)}function S(M,...j){if(p){I();return}if(M){I(),b.call(null,M,...j);return}if(g()||u){I(),b.call(null,M,...j);return}r<64&&(r*=2);let Z;d===1?(d=2,Z=0):Z=(r+Math.random())*1e3,_(Z)}let P=!1;function k(M){P||(P=!0,I(),!p&&(s!==null?(M||(d=2),clearTimeout(s),_(0)):M||(d=1)))}return _(0),i=setTimeout(()=>{u=!0,k(!0)},t),k}function MH(n){n(!1)}function jH(n){return n!==void 0}function CA(n,e,t,r){if(r<e)throw EA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw EA(`Invalid value for '${n}'. Expected ${t} or less.`)}function FH(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var rm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(rm||(rm={}));function BH(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||s||i}class UH{constructor(e,t,r,s,i,u,d,g,p,b,_,I=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=b,this.connectionFactory_=_,this.retry=I,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,k)=>{this.resolve_=P,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Kp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const u=d=>{const g=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&i.addUploadProgressListener(u),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(u),this.pendingConnection_=null;const d=i.getErrorCode()===rm.NO_ERROR,g=i.getStatus();if(!d||BH(g,this.additionalRetryCodes_)&&this.retry){const b=i.getErrorCode()===rm.ABORT;r(!1,new Kp(!1,null,b));return}const p=this.successCodes_.indexOf(g)!==-1;r(!0,new Kp(p,i))})},t=(r,s)=>{const i=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());jH(g)?i(g):i()}catch(g){u(g)}else if(d!==null){const g=TH();g.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,g)):u(g)}else if(s.canceled){const g=this.appDelete_?D8():RH();u(g)}else{const g=IH();u(g)}};this.canceled_?t(!1,new Kp(!1,null,!0)):this.backoffId_=kH(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function VH(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function zH(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HH(n,e){e&&(n["X-Firebase-GMPID"]=e)}function qH(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function GH(n,e,t,r,s,i,u=!0,d=!1){const g=FH(n.urlParams),p=n.url+g,b=Object.assign({},n.headers);return HH(b,e),VH(b,t),zH(b,i),qH(b,r),new UH(p,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}function WH(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function YH(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class sm{constructor(e,t){this._service=e,t instanceof El?this._location=t:this._location=El.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sm(e,t)}get root(){const e=new El(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YH(this._location.path)}get storage(){return this._service}get parent(){const e=WH(this._location.path);if(e===null)return null;const t=new El(this._location.bucket,e);return new sm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw PH(e)}}function SA(n,e){const t=e?.[CH];return t==null?null:El.makeFromBucketSpec(t,n)}function XH(n,e,t,r={}){n.host=`${e}:${t}`;const s=Kh(e);s&&(d5(`https://${n.host}/b`),f5("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:u6(i,n.app.options.projectId))}class QH{constructor(e,t,r,s,i,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=u,this._bucket=null,this._host=O8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SH,this._maxUploadRetryTime=NH,this._requests=new Set,s!=null?this._bucket=El.makeFromBucketSpec(s,this._host):this._bucket=SA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=El.makeFromBucketSpec(this._url,e):this._bucket=SA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sm(this,e)}_makeRequest(e,t,r,s,i=!0){if(this._deleted)return new LH(D8());{const u=GH(e,this._appId,r,s,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const NA="@firebase/storage",TA="0.14.0";const P8="storage";function KH(n=m5(),e){n=ja(n);const r=Dm(n,P8).getImmediate({identifier:e}),s=o6("storage");return s&&$H(r,...s),r}function $H(n,e,t,r={}){XH(n,e,t,r)}function JH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new QH(t,r,s,e,$h)}function ZH(){Bh(new $u(P8,JH,"PUBLIC").setMultipleInstances(!0)),ic(NA,TA,""),ic(NA,TA,"esm2020")}ZH();const eq={apiKey:"AIzaSyAyUODoqI0l1yigUKXKicbI6rlBxsUQTlE", authDomain: "printmanager3d-ebfaa.firebaseapp.com", projectId: "printmanager3d-ebfaa", storageBucket: "printmanager3d-ebfaa.firebasestorage.app", messagingSenderId: "736601628557", appId: "1:736601628557:web:35b25f89f740fc845be7c4"},lb=f6(eq),B0=tU(lb),ts=uH(lb);KH(lb);const tq={admin:{printers:{read:!0,write:!0},filaments:{read:!0,write:!0},customers:{read:!0,write:!0},quotes:{read:!0,write:!0},catalog:{read:!0,write:!0},reports:{read:!0,write:!0}},manager:{printers:{read:!0,write:!0},filaments:{read:!0,write:!0},customers:{read:!0,write:!0},quotes:{read:!0,write:!0},catalog:{read:!0,write:!0},reports:{read:!0,write:!1}},operator:{printers:{read:!0,write:!0},filaments:{read:!0,write:!0},customers:{read:!0,write:!1},quotes:{read:!0,write:!1},catalog:{read:!0,write:!1},reports:{read:!0,write:!1}},viewer:{printers:{read:!0,write:!1},filaments:{read:!0,write:!1},customers:{read:!0,write:!1},quotes:{read:!0,write:!1},catalog:{read:!0,write:!1},reports:{read:!0,write:!1}}},L8=async(n,e="operator")=>{const t={uid:n.uid,email:n.email||"",name:n.displayName||n.email?.split("@")[0]||"Usurio",role:e,permissions:tq[e],createdAt:new Date,updatedAt:new Date};return await hh($s(ts,"users",n.uid),{...t,createdAt:Fa(),updatedAt:Fa()}),t},nq=async(n,e,t,r="operator")=>{const s=await FF(B0,n,e);return await VF(s.user,{displayName:t}),L8(s.user,r)},rq=async(n,e)=>{const t=await BF(B0,n,e),r=await ib($s(ts,"users",t.user.uid));return r.exists()?{user:{...r.data(),uid:t.user.uid},firebaseUser:t.user}:{user:await L8(t.user),firebaseUser:t.user}},sq=async()=>{await qF(B0)},aq=async n=>{const e=await ib($s(ts,"users",n.uid));if(e.exists()){const t=e.data();return{...t,uid:n.uid,createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()||new Date}}return null},Jm="filaments",iq=n=>{const e=Gf(qf(ts,Jm),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},k8=async n=>{await hh($s(ts,Jm,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},M8=async n=>{await Yf($s(ts,Jm,n.id),{...n,updatedAt:Fa()})},j8=async n=>{await Xf($s(ts,Jm,n))},Zm="printers",oq=n=>{const e=Gf(qf(ts,Zm),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},F8=async n=>{await hh($s(ts,Zm,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},B8=async n=>{await Yf($s(ts,Zm,n.id),{...n,updatedAt:Fa()})},U8=async n=>{await Xf($s(ts,Zm,n))},e2="customers",lq=n=>{const e=Gf(qf(ts,e2),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},V8=async n=>{await hh($s(ts,e2,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},z8=async n=>{await Yf($s(ts,e2,n.id),{...n,updatedAt:Fa()})},H8=async n=>{await Xf($s(ts,e2,n))},t2="quotes",cq=n=>{const e=Gf(qf(ts,t2),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},q8=async n=>{await hh($s(ts,t2,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},wv=async n=>{await Yf($s(ts,t2,n.id),{...n,updatedAt:Fa()})},G8=async n=>{await Xf($s(ts,t2,n))},n2="catalog",uq=n=>{const e=Gf(qf(ts,n2),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},am=async n=>{await hh($s(ts,n2,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},W8=async n=>{await Yf($s(ts,n2,n.id),{...n,updatedAt:Fa()})},Y8=async n=>{await Xf($s(ts,n2,n))},r2="printJobs",hq=n=>{const e=Gf(qf(ts,r2),Wf("createdAt","desc"));return nd(e,t=>{const r=t.docs.map(s=>rd(s.data()));n(r)})},X8=async n=>{await hh($s(ts,r2,n.id),{...n,createdAt:Fa(),updatedAt:Fa()})},im=async n=>{await Yf($s(ts,r2,n.id),{...n,updatedAt:Fa()})},Q8=async n=>{await Xf($s(ts,r2,n))},cb="settings",om="system",dq=n=>nd($s(ts,cb,om),e=>{e.exists()?n(rd(e.data())):n(null)}),ub=async n=>{await hh($s(ts,cb,om),{...n,updatedAt:Fa()})};function rd(n){return{...n,createdAt:n.createdAt?.toDate?n.createdAt.toDate():n.createdAt||new Date,updatedAt:n.updatedAt?.toDate?n.updatedAt.toDate():n.updatedAt||new Date}}const K8=()=>"QR"+Math.random().toString(36).substring(2,10).toUpperCase(),fq=()=>{const n=new Date,e=n.getFullYear().toString().slice(-2),t=(n.getMonth()+1).toString().padStart(2,"0"),r=Math.random().toString(36).substring(2,6).toUpperCase();return`ORC${e}${t}-${r}`},pq=()=>{const n=new Date,e=n.getFullYear().toString().slice(-2),t=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getDate().toString().padStart(2,"0"),s=Math.random().toString(36).substring(2,5).toUpperCase();return`JOB${e}${t}${r}-${s}`},Eg={PLA:{min:80,max:150,avg:110},ABS:{min:90,max:160,avg:120},PETG:{min:100,max:180,avg:130},TPU:{min:150,max:250,avg:180},ASA:{min:120,max:200,avg:150},PC:{min:200,max:350,avg:250},Nylon:{min:180,max:300,avg:220},Outro:{min:80,max:300,avg:150}},gq=async()=>{(await ib($s(ts,cb,om))).exists()||await ub({id:om,company:{name:"Minha Empresa 3D",document:"",phone:"",email:"",logo:""},pricing:{energyCostPerKwh:.8,laborCostPerHour:25,markupPercentage:50,taxPercentage:0,packagingCost:5,minimumOrderValue:30},printerDefaults:{powerConsumption:150,maintenanceCostPerHour:2,depreciationYears:3},filamentDefaults:{spoolWeights:{PLA:1e3,ABS:1e3,PETG:1e3,TPU:500},wastePercentage:10},createdAt:new Date,updatedAt:new Date})},ru=xc(n=>({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!0,setUser:e=>n({user:e,isAuthenticated:!!e,isLoading:!1}),setFirebaseUser:e=>n({firebaseUser:e}),setLoading:e=>n({isLoading:e}),logout:()=>n({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!1})}));typeof window<"u"&&U6(B0,async n=>{const{setFirebaseUser:e,setLoading:t}=ru.getState();n?e(n):(e(null),ru.getState().setUser(null)),t(!1)});const sd=xc((n,e)=>({printers:[],selectedPrinter:null,isLoading:!0,setPrinters:t=>n({printers:t,isLoading:!1}),addPrinter:t=>{const{printers:r}=e();n({printers:[...r,t]})},updatePrinter:t=>{const{printers:r}=e();n({printers:r.map(s=>s.id===t.id?t:s)})},deletePrinter:t=>{const{printers:r}=e();n({printers:r.filter(s=>s.id!==t)})},selectPrinter:t=>n({selectedPrinter:t}),setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),Qf=xc((n,e)=>({filaments:[],selectedFilament:null,searchQuery:"",filterMaterial:"all",filterLocation:"all",isLoading:!0,setFilaments:t=>n({filaments:t,isLoading:!1}),addFilament:t=>{const{filaments:r}=e();n({filaments:[...r,t]})},updateFilament:t=>{const{filaments:r}=e();n({filaments:r.map(s=>s.id===t.id?t:s)})},deleteFilament:t=>{const{filaments:r}=e();n({filaments:r.filter(s=>s.id!==t)})},selectFilament:t=>n({selectedFilament:t}),setSearchQuery:t=>n({searchQuery:t}),setFilterMaterial:t=>n({filterMaterial:t}),setFilterLocation:t=>n({filterLocation:t}),setLoading:t=>n({isLoading:t}),getLowStockFilaments:()=>e().filaments.filter(t=>t.weightRemaining<200),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),s2=xc((n,e)=>({customers:[],selectedCustomer:null,isLoading:!0,setCustomers:t=>n({customers:t,isLoading:!1}),addCustomer:t=>{const{customers:r}=e();n({customers:[...r,t]})},updateCustomer:t=>{const{customers:r}=e();n({customers:r.map(s=>s.id===t.id?t:s)})},deleteCustomer:t=>{const{customers:r}=e();n({customers:r.filter(s=>s.id!==t)})},selectCustomer:t=>n({selectedCustomer:t}),setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),a2=xc((n,e)=>({quotes:[],selectedQuote:null,isLoading:!0,setQuotes:t=>n({quotes:t,isLoading:!1}),addQuote:t=>{const{quotes:r}=e();n({quotes:[...r,t]})},updateQuote:t=>{const{quotes:r}=e();n({quotes:r.map(s=>s.id===t.id?t:s)})},deleteQuote:t=>{const{quotes:r}=e();n({quotes:r.filter(s=>s.id!==t)})},selectQuote:t=>n({selectedQuote:t}),setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),$8=xc((n,e)=>({items:[],selectedItem:null,isLoading:!0,setItems:t=>n({items:t,isLoading:!1}),addItem:t=>{const{items:r}=e();n({items:[...r,t]})},updateItem:t=>{const{items:r}=e();n({items:r.map(s=>s.id===t.id?t:s)})},deleteItem:t=>{const{items:r}=e();n({items:r.filter(s=>s.id!==t)})},selectItem:t=>n({selectedItem:t}),setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),hb=xc((n,e)=>({jobs:[],selectedJob:null,isLoading:!0,setJobs:t=>n({jobs:t,isLoading:!1}),addJob:t=>{const{jobs:r}=e();n({jobs:[...r,t]})},updateJob:t=>{const{jobs:r}=e();n({jobs:r.map(s=>s.id===t.id?t:s)})},deleteJob:t=>{const{jobs:r}=e();n({jobs:r.filter(s=>s.id!==t)})},selectJob:t=>n({selectedJob:t}),setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),J8=xc((n,e)=>({settings:null,isLoading:!0,setSettings:t=>n({settings:t,isLoading:!1}),updateSettings:t=>{const{settings:r}=e();n({settings:r?{...r,...t}:null})},setLoading:t=>n({isLoading:t}),unsubscribe:null,setUnsubscribe:t=>n({unsubscribe:t})})),mq=xc(n=>({stats:{totalPrinters:0,activePrints:0,lowStockFilaments:0,pendingQuotes:0,monthlyRevenue:0,monthlyPrints:0},isLoading:!1,setStats:e=>n({stats:e}),setLoading:e=>n({isLoading:e})})),xq=xc()(aM(n=>({sidebarOpen:!1,theme:"dark",activeModal:null,modalData:null,toggleSidebar:()=>n(e=>({sidebarOpen:!e.sidebarOpen})),setTheme:e=>n({theme:e}),openModal:(e,t)=>n({activeModal:e,modalData:t}),closeModal:()=>n({activeModal:null,modalData:null})}),{name:"ui-storage"})),IA={admin:4,manager:3,operator:2,viewer:1};function bc(){const{user:n}=ru(),e=d=>n?IA[n.role]>=IA[d]:!1;return{hasRole:e,canRead:d=>n?n.permissions[d]?.read??!1:!1,canWrite:d=>n?n.permissions[d]?.write??!1:!1,isAdmin:()=>n?.role==="admin",isManager:()=>e("manager"),isOperator:()=>e("operator"),user:n}}const yq=[{label:"Dashboard",icon:MD,path:"/"},{label:"Impressoras",icon:Ui,path:"/printers",requiredPermission:"printers"},{label:"Filamentos",icon:o0,path:"/filaments",requiredPermission:"filaments"},{label:"Clientes",icon:kg,path:"/customers",requiredPermission:"customers"},{label:"Oramentos",icon:kh,path:"/quotes",requiredPermission:"quotes"},{label:"Catlogo",icon:Nl,path:"/catalog",requiredPermission:"catalog"},{label:"Trabalhos",icon:i0,path:"/print-jobs",requiredPermission:"printers"},{label:"Calculadora",icon:t5,path:"/calculator"},{label:"Relatrios",icon:cD,path:"/reports",requiredPermission:"reports"},{label:"Configuraes",icon:rS,path:"/settings"}];function sl({children:n}){const e=Xh(),t=ou(),{logout:r,user:s}=ru(),{sidebarOpen:i,toggleSidebar:u}=xq(),{canRead:d}=bc(),[g,p]=H.useState(!1);H.useEffect(()=>{const P=()=>p(window.innerWidth<1024);return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const b=()=>{r(),e("/login")},_=yq.filter(P=>P.requiredPermission?d(P.requiredPermission):!0),I=()=>x.jsxs("div",{"code-path":"src/components/Layout.tsx:70:5",className:"flex flex-col h-full",children:[x.jsxs("div",{"code-path":"src/components/Layout.tsx:72:7",className:"flex items-center gap-3 px-4 py-6 border-b border-slate-700",children:[x.jsx("div",{"code-path":"src/components/Layout.tsx:73:9",className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-xl flex items-center justify-center",children:x.jsx(Ui,{"code-path":"src/components/Layout.tsx:74:11",className:"w-6 h-6 text-white"})}),x.jsxs("div",{"code-path":"src/components/Layout.tsx:76:9",children:[x.jsx("h1",{"code-path":"src/components/Layout.tsx:77:11",className:"text-lg font-bold text-white",children:"PrintManager"}),x.jsx("p",{"code-path":"src/components/Layout.tsx:78:11",className:"text-xs text-slate-400",children:"3D FDM"})]})]}),x.jsx("nav",{"code-path":"src/components/Layout.tsx:83:7",className:"flex-1 overflow-y-auto py-4 px-3",children:x.jsx("ul",{"code-path":"src/components/Layout.tsx:84:9",className:"space-y-1",children:_.map(P=>{const k=t.pathname===P.path||t.pathname.startsWith(`${P.path}/`);return x.jsx("li",{"code-path":"src/components/Layout.tsx:88:15",children:x.jsxs("button",{"code-path":"src/components/Layout.tsx:89:17",onClick:()=>{e(P.path),g&&u()},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group ${k?"bg-indigo-500/20 text-indigo-400 border border-indigo-500/30":"text-slate-300 hover:bg-slate-700/50 hover:text-white"}`,children:[x.jsx(P.icon,{"code-path":"src/components/Layout.tsx:100:19",className:`w-5 h-5 ${k?"text-indigo-400":"text-slate-400 group-hover:text-white"}`}),x.jsx("span",{"code-path":"src/components/Layout.tsx:101:19",className:"font-medium",children:P.label}),k&&x.jsx(hD,{"code-path":"src/components/Layout.tsx:102:32",className:"w-4 h-4 ml-auto text-indigo-400"})]})},P.path)})})}),x.jsxs("div",{"code-path":"src/components/Layout.tsx:111:7",className:"border-t border-slate-700 p-4",children:[x.jsxs("div",{"code-path":"src/components/Layout.tsx:112:9",className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{"code-path":"src/components/Layout.tsx:113:11",className:"w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center",children:x.jsx(gD,{"code-path":"src/components/Layout.tsx:114:13",className:"w-6 h-6 text-slate-400"})}),x.jsxs("div",{"code-path":"src/components/Layout.tsx:116:11",className:"flex-1 min-w-0",children:[x.jsx("p",{"code-path":"src/components/Layout.tsx:117:13",className:"text-sm font-medium text-white truncate",children:s?.name||"Usurio"}),x.jsx("p",{"code-path":"src/components/Layout.tsx:118:13",className:"text-xs text-slate-400 capitalize",children:s?.role||"viewer"})]})]}),x.jsxs(cn,{"code-path":"src/components/Layout.tsx:121:9",variant:"outline",size:"sm",className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white",onClick:b,children:[x.jsx(UD,{"code-path":"src/components/Layout.tsx:127:11",className:"w-4 h-4 mr-2"}),"Sair"]})]})]}),S=()=>{const P=_.slice(0,4),k=_.slice(4);return x.jsx("div",{"code-path":"src/components/Layout.tsx:140:7",className:"fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 z-50 lg:hidden mobile-nav",children:x.jsxs("div",{"code-path":"src/components/Layout.tsx:141:9",className:"flex items-center justify-around py-2",children:[P.map(M=>{const j=t.pathname===M.path;return x.jsxs("button",{"code-path":"src/components/Layout.tsx:145:15",onClick:()=>e(M.path),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg ${j?"text-indigo-400":"text-slate-400"}`,children:[x.jsx(M.icon,{"code-path":"src/components/Layout.tsx:152:17",className:"w-5 h-5"}),x.jsx("span",{"code-path":"src/components/Layout.tsx:153:17",className:"text-[10px]",children:M.label})]},M.path)}),x.jsxs(q4,{"code-path":"src/components/Layout.tsx:157:11",children:[x.jsx($k,{"code-path":"src/components/Layout.tsx:158:13",asChild:!0,children:x.jsxs("button",{"code-path":"src/components/Layout.tsx:159:15",className:"flex flex-col items-center gap-1 px-3 py-2 text-slate-400",children:[x.jsx(_4,{"code-path":"src/components/Layout.tsx:160:17",className:"w-5 h-5"}),x.jsx("span",{"code-path":"src/components/Layout.tsx:161:17",className:"text-[10px]",children:"Mais"})]})}),x.jsx(G4,{"code-path":"src/components/Layout.tsx:164:13",side:"right",className:"w-64 bg-slate-900 border-slate-700 p-0",children:x.jsxs("div",{"code-path":"src/components/Layout.tsx:165:15",className:"flex flex-col h-full",children:[x.jsx("div",{"code-path":"src/components/Layout.tsx:166:17",className:"p-4 border-b border-slate-700",children:x.jsx("h2",{"code-path":"src/components/Layout.tsx:167:19",className:"text-lg font-bold text-white",children:"Menu"})}),x.jsx("nav",{"code-path":"src/components/Layout.tsx:169:17",className:"flex-1 overflow-y-auto py-4 px-3",children:x.jsx("ul",{"code-path":"src/components/Layout.tsx:170:19",className:"space-y-1",children:k.map(M=>x.jsx("li",{"code-path":"src/components/Layout.tsx:172:23",children:x.jsxs("button",{"code-path":"src/components/Layout.tsx:173:25",onClick:()=>e(M.path),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-700/50 hover:text-white transition-colors",children:[x.jsx(M.icon,{"code-path":"src/components/Layout.tsx:177:27",className:"w-5 h-5 text-slate-400"}),x.jsx("span",{"code-path":"src/components/Layout.tsx:178:27",className:"font-medium",children:M.label})]})},M.path))})})]})})]})]})})};return x.jsxs("div",{"code-path":"src/components/Layout.tsx:193:5",className:"min-h-screen bg-slate-950 flex",children:[x.jsx("aside",{"code-path":"src/components/Layout.tsx:195:7",className:"hidden lg:block w-64 bg-slate-900 border-r border-slate-700 fixed h-full z-40",children:x.jsx(I,{"code-path":"src/components/Layout.tsx:196:9"})}),x.jsx(q4,{"code-path":"src/components/Layout.tsx:200:7",open:i,onOpenChange:u,children:x.jsx(G4,{"code-path":"src/components/Layout.tsx:201:9",side:"left",className:"w-64 bg-slate-900 border-slate-700 p-0 lg:hidden",children:x.jsx(I,{"code-path":"src/components/Layout.tsx:202:11"})})}),x.jsxs("main",{"code-path":"src/components/Layout.tsx:207:7",className:"flex-1 lg:ml-64 min-h-screen pb-20 lg:pb-0",children:[x.jsx("header",{"code-path":"src/components/Layout.tsx:209:9",className:"lg:hidden bg-slate-900 border-b border-slate-700 px-4 py-3 sticky top-0 z-30",children:x.jsxs("div",{"code-path":"src/components/Layout.tsx:210:11",className:"flex items-center justify-between",children:[x.jsxs("div",{"code-path":"src/components/Layout.tsx:211:13",className:"flex items-center gap-3",children:[x.jsx("div",{"code-path":"src/components/Layout.tsx:212:15",className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-lg flex items-center justify-center",children:x.jsx(Ui,{"code-path":"src/components/Layout.tsx:213:17",className:"w-5 h-5 text-white"})}),x.jsx("h1",{"code-path":"src/components/Layout.tsx:215:15",className:"text-lg font-bold text-white",children:"PrintManager"})]}),x.jsx(cn,{"code-path":"src/components/Layout.tsx:217:13",variant:"ghost",size:"icon",onClick:u,className:"text-slate-400 hover:text-white",children:x.jsx(_4,{"code-path":"src/components/Layout.tsx:223:15",className:"w-6 h-6"})})]})}),x.jsx("div",{"code-path":"src/components/Layout.tsx:229:9",className:"p-4 lg:p-8",children:n})]}),x.jsx(S,{"code-path":"src/components/Layout.tsx:235:7"})]})}const i2=()=>{const{setPrinters:n,setUnsubscribe:e,addPrinter:t,updatePrinter:r,deletePrinter:s}=sd();H.useEffect(()=>{const g=oq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await F8(g)},[]),u=H.useCallback(async g=>{await B8(g)},[]),d=H.useCallback(async g=>{await U8(g)},[]);return{addPrinterToFirebase:i,updatePrinterInFirebase:u,deletePrinterFromFirebase:d}},o2=()=>{const{setFilaments:n,setUnsubscribe:e,addFilament:t,updateFilament:r,deleteFilament:s}=Qf();H.useEffect(()=>{const g=iq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await k8(g)},[]),u=H.useCallback(async g=>{await M8(g)},[]),d=H.useCallback(async g=>{await j8(g)},[]);return{addFilamentToFirebase:i,updateFilamentInFirebase:u,deleteFilamentFromFirebase:d}},Z8=()=>{const{setCustomers:n,setUnsubscribe:e,addCustomer:t,updateCustomer:r,deleteCustomer:s}=s2();H.useEffect(()=>{const g=lq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await V8(g)},[]),u=H.useCallback(async g=>{await z8(g)},[]),d=H.useCallback(async g=>{await H8(g)},[]);return{addCustomerToFirebase:i,updateCustomerInFirebase:u,deleteCustomerFromFirebase:d}},eT=()=>{const{setQuotes:n,setUnsubscribe:e,addQuote:t,updateQuote:r,deleteQuote:s}=a2();H.useEffect(()=>{const g=cq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await q8(g)},[]),u=H.useCallback(async g=>{await wv(g)},[]),d=H.useCallback(async g=>{await G8(g)},[]);return{addQuoteToFirebase:i,updateQuoteInFirebase:u,deleteQuoteFromFirebase:d}},db=()=>{const{setItems:n,setUnsubscribe:e,addItem:t,updateItem:r,deleteItem:s}=$8();H.useEffect(()=>{const g=uq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await am(g)},[]),u=H.useCallback(async g=>{await W8(g)},[]),d=H.useCallback(async g=>{await Y8(g)},[]);return{addItemToFirebase:i,updateItemInFirebase:u,deleteItemFromFirebase:d}},fb=()=>{const{setJobs:n,setUnsubscribe:e,addJob:t,updateJob:r,deleteJob:s}=hb();H.useEffect(()=>{const g=hq(p=>{n(p)});return e(g),()=>{g(),e(null)}},[n,e]);const i=H.useCallback(async g=>{await X8(g)},[]),u=H.useCallback(async g=>{await im(g)},[]),d=H.useCallback(async g=>{await Q8(g)},[]);return{addJobToFirebase:i,updateJobInFirebase:u,deleteJobFromFirebase:d}},tT=()=>{const{setSettings:n,setUnsubscribe:e,updateSettings:t}=J8();return H.useEffect(()=>{gq();const s=dq(i=>{n(i)});return e(s),()=>{s(),e(null)}},[n,e]),{saveSettingsToFirebase:H.useCallback(async s=>{await ub(s)},[])}},nT=()=>{const{isAuthenticated:n}=ru();return i2(),o2(),Z8(),eT(),db(),fb(),tT(),{isSyncing:n}};function vq({children:n}){const{isAuthenticated:e}=ru();return nT(),x.jsx(x.Fragment,{children:n})}function It({className:n,type:e,...t}){return x.jsx("input",{"code-path":"src/components/ui/input.tsx:7:5",type:e,"data-slot":"input",className:Cs("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var bq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wq=bq.reduce((n,e)=>{const t=r5(`Primitive.${e}`),r=H.forwardRef((s,i)=>{const{asChild:u,...d}=s,g=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(g,{...d,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),_q="Label",rT=H.forwardRef((n,e)=>x.jsx(wq.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));rT.displayName=_q;var Aq=rT;function Zr({className:n,...e}){return x.jsx(Aq,{"code-path":"src/components/ui/label.tsx:13:5","data-slot":"label",className:Cs("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function ur({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/card.tsx:7:5","data-slot":"card",className:Cs("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Cl({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/card.tsx:20:5","data-slot":"card-header",className:Cs("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Sl({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/card.tsx:33:5","data-slot":"card-title",className:Cs("leading-none font-semibold",n),...e})}function Eq({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/card.tsx:43:5","data-slot":"card-description",className:Cs("text-muted-foreground text-sm",n),...e})}function hr({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/card.tsx:66:5","data-slot":"card-content",className:Cs("px-6",n),...e})}function Cq(){const{user:n,setUser:e,isAuthenticated:t,isLoading:r,setLoading:s}=ru(),[i,u]=H.useState(null);H.useEffect(()=>{const _=U6(B0,async I=>{if(I){const S=await aq(I);S&&e(S)}else e(null);s(!1)});return()=>_()},[e,s]);const d=H.useCallback(async(_,I)=>{s(!0),u(null);try{const{user:S}=await rq(_,I);return e(S),!0}catch(S){console.error("Erro no login:",S);let P="Erro ao fazer login";switch(S.code){case"auth/user-not-found":P="Usurio no encontrado";break;case"auth/wrong-password":P="Senha incorreta";break;case"auth/invalid-email":P="Email invlido";break;case"auth/too-many-requests":P="Muitas tentativas. Tente novamente mais tarde";break;default:P=S.message||"Erro ao fazer login"}return u(P),!1}finally{s(!1)}},[e,s]),g=H.useCallback(async(_,I,S,P="operator")=>{s(!0),u(null);try{const k=await nq(_,I,S,P);return e(k),!0}catch(k){console.error("Erro no registro:",k);let M="Erro ao criar conta";switch(k.code){case"auth/email-already-in-use":M="Este email j est em uso";break;case"auth/invalid-email":M="Email invlido";break;case"auth/weak-password":M="Senha muito fraca. Use pelo menos 6 caracteres";break;default:M=k.message||"Erro ao criar conta"}return u(M),!1}finally{s(!1)}},[e,s]),p=H.useCallback(async()=>{try{await sq(),e(null)}catch(_){console.error("Erro no logout:",_),u(_.message||"Erro ao fazer logout")}},[e]),b=H.useCallback(()=>{u(null)},[]);return{user:n,isAuthenticated:t,isLoading:r,error:i,login:d,register:g,logout:p,clearError:b}}function Sq(){const n=Xh(),{login:e,register:t,error:r,clearError:s}=Cq(),[i,u]=H.useState(!1),[d,g]=H.useState(""),[p,b]=H.useState(""),[_,I]=H.useState(""),[S,P]=H.useState(!1),[k,M]=H.useState(""),[j,J]=H.useState(!1),Z=async ee=>{ee.preventDefault(),M(""),s(),J(!0);try{let we;if(i){if(!_.trim()){M("Nome  obrigatrio"),J(!1);return}we=await t(d,p,_,"admin")}else we=await e(d,p);we?n("/"):r&&M(r)}catch(we){M(we.message||"Erro ao processar solicitao")}finally{J(!1)}};return x.jsxs("div",{"code-path":"src/pages/Login.tsx:55:5",className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:[x.jsxs("div",{"code-path":"src/pages/Login.tsx:57:7",className:"fixed inset-0 overflow-hidden pointer-events-none",children:[x.jsx("div",{"code-path":"src/pages/Login.tsx:58:9",className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-indigo-500/10 to-transparent rounded-full blur-3xl"}),x.jsx("div",{"code-path":"src/pages/Login.tsx:59:9",className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-cyan-500/10 to-transparent rounded-full blur-3xl"})]}),x.jsxs(ur,{"code-path":"src/pages/Login.tsx:62:7",className:"w-full max-w-md bg-slate-900/80 border-slate-700 backdrop-blur-sm relative z-10",children:[x.jsxs(Cl,{"code-path":"src/pages/Login.tsx:63:9",className:"text-center pb-8",children:[x.jsx("div",{"code-path":"src/pages/Login.tsx:65:11",className:"mx-auto w-16 h-16 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-4 shadow-lg shadow-indigo-500/25",children:x.jsx(Ui,{"code-path":"src/pages/Login.tsx:66:13",className:"w-8 h-8 text-white"})}),x.jsx(Sl,{"code-path":"src/pages/Login.tsx:68:11",className:"text-2xl font-bold text-white",children:"PrintManager 3D"}),x.jsx(Eq,{"code-path":"src/pages/Login.tsx:69:11",className:"text-slate-400",children:"Sistema de gerenciamento para impresso 3D FDM"})]}),x.jsxs(hr,{"code-path":"src/pages/Login.tsx:74:9",children:[x.jsxs("form",{"code-path":"src/pages/Login.tsx:75:11",onSubmit:Z,className:"space-y-4",children:[i&&x.jsxs("div",{"code-path":"src/pages/Login.tsx:77:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Login.tsx:78:17",htmlFor:"name",className:"text-slate-300",children:"Nome"}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:79:17",className:"relative",children:[x.jsx(xP,{"code-path":"src/pages/Login.tsx:80:19",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Login.tsx:81:19",id:"name",type:"text",placeholder:"Seu nome",value:_,onChange:ee=>I(ee.target.value),className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500/20",required:i})]})]}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:94:13",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Login.tsx:95:15",htmlFor:"email",className:"text-slate-300",children:"Email"}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:96:15",className:"relative",children:[x.jsx(JC,{"code-path":"src/pages/Login.tsx:97:17",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Login.tsx:98:17",id:"email",type:"email",placeholder:"seu@email.com",value:d,onChange:ee=>g(ee.target.value),className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500/20",required:!0})]})]}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:110:13",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Login.tsx:111:15",htmlFor:"password",className:"text-slate-300",children:"Senha"}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:112:15",className:"relative",children:[x.jsx(FD,{"code-path":"src/pages/Login.tsx:113:17",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Login.tsx:114:17",id:"password",type:S?"text":"password",placeholder:"",value:p,onChange:ee=>b(ee.target.value),className:"pl-10 pr-10 bg-slate-800 border-slate-700 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500/20",required:!0,minLength:6}),x.jsx("button",{"code-path":"src/pages/Login.tsx:124:17",type:"button",onClick:()=>P(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300",children:S?x.jsx(_D,{"code-path":"src/pages/Login.tsx:129:35",className:"w-4 h-4"}):x.jsx(KC,{"code-path":"src/pages/Login.tsx:129:68",className:"w-4 h-4"})})]})]}),(k||r)&&x.jsx("div",{"code-path":"src/pages/Login.tsx:135:15",className:"p-3 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:x.jsx("p",{"code-path":"src/pages/Login.tsx:136:17",className:"text-sm text-rose-400 text-center",children:k||r})}),x.jsx(cn,{"code-path":"src/pages/Login.tsx:140:13",type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 to-cyan-500 hover:from-indigo-600 hover:to-cyan-600 text-white font-medium",disabled:j,children:j?i?"Criando conta...":"Entrando...":i?"Criar Conta":"Entrar"}),x.jsx("div",{"code-path":"src/pages/Login.tsx:151:13",className:"text-center",children:x.jsx("button",{"code-path":"src/pages/Login.tsx:152:15",type:"button",onClick:()=>{u(!i),M(""),s()},className:"text-sm text-indigo-400 hover:text-indigo-300",children:i?"J tem uma conta? Faa login":"No tem uma conta? Cadastre-se"})})]}),x.jsxs("div",{"code-path":"src/pages/Login.tsx:170:11",className:"mt-8 pt-6 border-t border-slate-700",children:[x.jsx("p",{"code-path":"src/pages/Login.tsx:171:13",className:"text-xs text-slate-500 text-center",children:"Dados sincronizados em tempo real com Firebase"}),x.jsx("p",{"code-path":"src/pages/Login.tsx:174:13",className:"text-[10px] text-slate-600 text-center mt-2",children:"Sua conta ser criada com permisses de administrador"})]})]})]})]})}function Nq(n,e=[]){let t=[];function r(i,u){const d=H.createContext(u);d.displayName=i+"Context";const g=t.length;t=[...t,u];const p=_=>{const{scope:I,children:S,...P}=_,k=I?.[n]?.[g]||d,M=H.useMemo(()=>P,Object.values(P));return x.jsx(k.Provider,{value:M,children:S})};p.displayName=i+"Provider";function b(_,I){const S=I?.[n]?.[g]||d,P=H.useContext(S);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${i}\``)}return[p,b]}const s=()=>{const i=t.map(u=>H.createContext(u));return function(d){const g=d?.[n]||i;return H.useMemo(()=>({[`__scope${n}`]:{...d,[n]:g}}),[d,g])}};return s.scopeName=n,[r,Tq(s,...e)]}function Tq(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const u=r.reduce((d,{useScope:g,scopeName:p})=>{const _=g(i)[`__scope${p}`];return{...d,..._}},{});return H.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var Iq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sT=Iq.reduce((n,e)=>{const t=r5(`Primitive.${e}`),r=H.forwardRef((s,i)=>{const{asChild:u,...d}=s,g=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(g,{...d,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),pb="Progress",gb=100,[Rq]=Nq(pb),[Oq,Dq]=Rq(pb),aT=H.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:s,getValueLabel:i=Pq,...u}=n;(s||s===0)&&!RA(s)&&console.error(Lq(`${s}`,"Progress"));const d=RA(s)?s:gb;r!==null&&!OA(r,d)&&console.error(kq(`${r}`,"Progress"));const g=OA(r,d)?r:null,p=lm(g)?i(g,d):void 0;return x.jsx(Oq,{scope:t,value:g,max:d,children:x.jsx(sT.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":lm(g)?g:void 0,"aria-valuetext":p,role:"progressbar","data-state":lT(g,d),"data-value":g??void 0,"data-max":d,...u,ref:e})})});aT.displayName=pb;var iT="ProgressIndicator",oT=H.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,s=Dq(iT,t);return x.jsx(sT.div,{"data-state":lT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});oT.displayName=iT;function Pq(n,e){return`${Math.round(n/e*100)}%`}function lT(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function lm(n){return typeof n=="number"}function RA(n){return lm(n)&&!isNaN(n)&&n>0}function OA(n,e){return lm(n)&&!isNaN(n)&&n<=e&&n>=0}function Lq(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gb}\`.`}function kq(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mq=aT,jq=oT;function mb({className:n,value:e,...t}){return x.jsx(Mq,{"code-path":"src/components/ui/progress.tsx:12:5","data-slot":"progress",className:Cs("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:x.jsx(jq,{"code-path":"src/components/ui/progress.tsx:20:7","data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function $p({title:n,value:e,description:t,icon:r,trend:s,color:i,onClick:u}){const d={indigo:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",rose:"bg-rose-500/10 text-rose-400 border-rose-500/20"};return x.jsx(ur,{"code-path":"src/pages/Dashboard.tsx:42:5",className:`bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all cursor-pointer ${u?"hover:scale-[1.02]":""}`,onClick:u,children:x.jsx(hr,{"code-path":"src/pages/Dashboard.tsx:46:7",className:"p-6",children:x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:47:9",className:"flex items-start justify-between",children:[x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:48:11",className:"flex-1",children:[x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:49:13",className:"text-sm font-medium text-slate-400",children:n}),x.jsx("h3",{"code-path":"src/pages/Dashboard.tsx:50:13",className:"text-2xl font-bold text-white mt-2",children:e}),t&&x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:52:15",className:"text-xs text-slate-500 mt-1",children:t}),s&&x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:55:15",className:`flex items-center gap-1 mt-2 text-xs ${s.positive?"text-emerald-400":"text-rose-400"}`,children:[x.jsx(Lg,{"code-path":"src/pages/Dashboard.tsx:56:17",className:`w-3 h-3 ${!s.positive&&"rotate-180"}`}),x.jsxs("span",{"code-path":"src/pages/Dashboard.tsx:57:17",children:[s.value,"% vs ms passado"]})]})]}),x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:61:11",className:`p-3 rounded-xl border ${d[i]}`,children:x.jsx(r,{"code-path":"src/pages/Dashboard.tsx:62:13",className:"w-6 h-6"})})]})})})}function Fq(){const n=Xh(),{canWrite:e}=bc(),{filaments:t,getLowStockFilaments:r}=Qf(),{printers:s}=sd(),{quotes:i}=a2(),{stats:u,setStats:d}=mq();nT(),H.useEffect(()=>{const p=s.filter(I=>I.status==="printing").length,b=r().length,_=i.filter(I=>I.status==="draft"||I.status==="sent").length;d({totalPrinters:s.length,activePrints:p,lowStockFilaments:b,pendingQuotes:_,monthlyRevenue:0,monthlyPrints:0})},[s,i,t,d,r]);const g=[{label:"Novo Oramento",icon:kh,path:"/quotes/new",color:"bg-indigo-500 hover:bg-indigo-600",show:e("quotes")},{label:"Scan QR Code",icon:tS,path:"/filaments/scan",color:"bg-cyan-500 hover:bg-cyan-600",show:!0},{label:"Calculadora",icon:t5,path:"/calculator",color:"bg-emerald-500 hover:bg-emerald-600",show:!0},{label:"Novo Filamento",icon:$c,path:"/filaments",color:"bg-amber-500 hover:bg-amber-600",show:e("filaments")}].filter(p=>p.show);return x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:129:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:131:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:132:9",children:[x.jsx("h1",{"code-path":"src/pages/Dashboard.tsx:133:11",className:"text-2xl font-bold text-white",children:"Dashboard"}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:134:11",className:"text-slate-400",children:"Viso geral do seu negcio de impresso 3D"})]}),x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:136:9",className:"flex flex-wrap gap-2",children:g.map(p=>x.jsxs(cn,{"code-path":"src/pages/Dashboard.tsx:138:13",onClick:()=>n(p.path),className:`${p.color} text-white`,size:"sm",children:[x.jsx(p.icon,{"code-path":"src/pages/Dashboard.tsx:144:15",className:"w-4 h-4 mr-2"}),p.label]},p.path))})]}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:152:7",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsx($p,{"code-path":"src/pages/Dashboard.tsx:153:9",title:"Impressoras",value:u.totalPrinters,description:`${u.activePrints} em impresso`,icon:Ui,color:"indigo",onClick:()=>n("/printers")}),x.jsx($p,{"code-path":"src/pages/Dashboard.tsx:161:9",title:"Filamentos",value:t.length,description:u.lowStockFilaments>0?`${u.lowStockFilaments} com estoque baixo`:"Estoque OK",icon:o0,color:u.lowStockFilaments>0?"rose":"cyan",onClick:()=>n("/filaments")}),x.jsx($p,{"code-path":"src/pages/Dashboard.tsx:169:9",title:"Oramentos Pendentes",value:u.pendingQuotes,description:"Aguardando aprovao",icon:kh,color:"amber",onClick:()=>n("/quotes")}),x.jsx($p,{"code-path":"src/pages/Dashboard.tsx:177:9",title:"Receita do Ms",value:`R$ ${u.monthlyRevenue.toLocaleString("pt-BR")}`,description:`${u.monthlyPrints} impresses`,icon:Lg,color:"emerald",trend:{value:12,positive:!0}})]}),u.lowStockFilaments>0&&x.jsx(ur,{"code-path":"src/pages/Dashboard.tsx:189:9",className:"bg-rose-500/10 border-rose-500/30",children:x.jsxs(hr,{"code-path":"src/pages/Dashboard.tsx:190:11",className:"p-4 flex items-center gap-4",children:[x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:191:13",className:"p-2 bg-rose-500/20 rounded-lg",children:x.jsx(sS,{"code-path":"src/pages/Dashboard.tsx:192:15",className:"w-5 h-5 text-rose-400"})}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:194:13",className:"flex-1",children:[x.jsx("h4",{"code-path":"src/pages/Dashboard.tsx:195:15",className:"font-medium text-rose-400",children:"Estoque Baixo"}),x.jsxs("p",{"code-path":"src/pages/Dashboard.tsx:196:15",className:"text-sm text-rose-300/80",children:[u.lowStockFilaments," filamentos esto com menos de 200g restantes"]})]}),x.jsx(cn,{"code-path":"src/pages/Dashboard.tsx:200:13",variant:"outline",size:"sm",className:"border-rose-500/30 text-rose-400 hover:bg-rose-500/20",onClick:()=>n("/filaments"),children:"Verificar"})]})}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:213:7",className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs(ur,{"code-path":"src/pages/Dashboard.tsx:215:9",className:"bg-slate-800/50 border-slate-700 lg:col-span-2",children:[x.jsxs(Cl,{"code-path":"src/pages/Dashboard.tsx:216:11",className:"flex flex-row items-center justify-between",children:[x.jsxs(Sl,{"code-path":"src/pages/Dashboard.tsx:217:13",className:"text-white flex items-center gap-2",children:[x.jsx(vf,{"code-path":"src/pages/Dashboard.tsx:218:15",className:"w-5 h-5 text-indigo-400"}),"Trabalhos em Andamento"]}),x.jsx(cn,{"code-path":"src/pages/Dashboard.tsx:221:13",variant:"ghost",size:"sm",onClick:()=>n("/print-jobs"),children:"Ver todos"})]}),x.jsx(hr,{"code-path":"src/pages/Dashboard.tsx:225:11",children:u.activePrints===0?x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:227:15",className:"text-center py-8",children:[x.jsx(Ui,{"code-path":"src/pages/Dashboard.tsx:228:17",className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:229:17",className:"text-slate-400",children:"Nenhuma impresso em andamento"}),x.jsx(cn,{"code-path":"src/pages/Dashboard.tsx:230:17",variant:"outline",className:"mt-4 border-slate-600",onClick:()=>n("/print-jobs"),children:"Iniciar Impresso"})]}):x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:239:15",className:"space-y-4",children:s.filter(p=>p.status==="printing").map(p=>x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:243:21",className:"flex items-center gap-4 p-3 bg-slate-700/30 rounded-lg",children:[x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:244:23",className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:x.jsx(Ui,{"code-path":"src/pages/Dashboard.tsx:245:25",className:"w-5 h-5 text-indigo-400"})}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:247:23",className:"flex-1",children:[x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:248:25",className:"font-medium text-white",children:p.name}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:249:25",className:"text-sm text-slate-400",children:p.model})]}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:251:23",className:"text-right",children:[x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:252:25",className:"text-sm font-medium text-emerald-400",children:"Imprimindo"}),x.jsx(mb,{"code-path":"src/pages/Dashboard.tsx:253:25",value:65,className:"w-24 h-2 mt-1"})]})]},p.id))})})]}),x.jsxs(ur,{"code-path":"src/pages/Dashboard.tsx:263:9",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Dashboard.tsx:264:11",className:"flex flex-row items-center justify-between",children:x.jsxs(Sl,{"code-path":"src/pages/Dashboard.tsx:265:13",className:"text-white flex items-center gap-2",children:[x.jsx(Nl,{"code-path":"src/pages/Dashboard.tsx:266:15",className:"w-5 h-5 text-amber-400"}),"Estoque Baixo"]})}),x.jsx(hr,{"code-path":"src/pages/Dashboard.tsx:270:11",children:r().length===0?x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:272:15",className:"text-center py-8",children:[x.jsx(o0,{"code-path":"src/pages/Dashboard.tsx:273:17",className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:274:17",className:"text-slate-400",children:"Todos os filamentos com estoque OK"})]}):x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:277:15",className:"space-y-3",children:r().slice(0,5).map(p=>x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:279:19",className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[x.jsx("div",{"code-path":"src/pages/Dashboard.tsx:280:21",className:"w-4 h-4 rounded-full border-2 border-slate-600",style:{backgroundColor:p.colorHex}}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:284:21",className:"flex-1 min-w-0",children:[x.jsxs("p",{"code-path":"src/pages/Dashboard.tsx:285:23",className:"font-medium text-white truncate",children:[p.material," - ",p.color]}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:286:23",className:"text-xs text-slate-400",children:p.brand})]}),x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:288:21",className:"text-right",children:[x.jsxs("p",{"code-path":"src/pages/Dashboard.tsx:289:23",className:"text-sm font-medium text-rose-400",children:[p.weightRemaining,"g"]}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:290:23",className:"text-xs text-slate-500",children:"restantes"})]})]},p.id))})})]})]}),x.jsxs(ur,{"code-path":"src/pages/Dashboard.tsx:301:7",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Dashboard.tsx:302:9",children:x.jsx(Sl,{"code-path":"src/pages/Dashboard.tsx:303:11",className:"text-white",children:"Atividade Recente"})}),x.jsx(hr,{"code-path":"src/pages/Dashboard.tsx:305:9",children:x.jsxs("div",{"code-path":"src/pages/Dashboard.tsx:306:11",className:"text-center py-8 text-slate-400",children:[x.jsx(vf,{"code-path":"src/pages/Dashboard.tsx:307:13",className:"w-12 h-12 mx-auto mb-3 opacity-50"}),x.jsx("p",{"code-path":"src/pages/Dashboard.tsx:308:13",children:"Histrico de atividades aparecer aqui"})]})})]})]})}const Bq=cS("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qo({className:n,variant:e,asChild:t=!1,...r}){const s=t?iS:"span";return x.jsx(s,{"code-path":"src/components/ui/badge.tsx:38:5","data-slot":"badge",className:Cs(Bq({variant:e}),n),...r})}function DA(n){const e=Uq(n),t=H.forwardRef((r,s)=>{const{children:i,...u}=r,d=H.Children.toArray(i),g=d.find(zq);if(g){const p=g.props.children,b=d.map(_=>_===g?H.Children.count(p)>1?H.Children.only(null):H.isValidElement(p)?p.props.children:null:_);return x.jsx(e,{...u,ref:s,children:H.isValidElement(p)?H.cloneElement(p,void 0,b):null})}return x.jsx(e,{...u,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function Uq(n){const e=H.forwardRef((t,r)=>{const{children:s,...i}=t;if(H.isValidElement(s)){const u=qq(s),d=Hq(i,s.props);return s.type!==H.Fragment&&(d.ref=r?oh(r,u):u),H.cloneElement(s,d)}return H.Children.count(s)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Vq=Symbol("radix.slottable");function zq(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Vq}function Hq(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...d)=>{const g=i(...d);return s(...d),g}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function qq(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function xb(n){const e=n+"CollectionProvider",[t,r]=lu(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:M,children:j}=k,J=qo.useRef(null),Z=qo.useRef(new Map).current;return x.jsx(s,{scope:M,itemMap:Z,collectionRef:J,children:j})};u.displayName=e;const d=n+"CollectionSlot",g=DA(d),p=qo.forwardRef((k,M)=>{const{scope:j,children:J}=k,Z=i(d,j),ee=Us(M,Z.collectionRef);return x.jsx(g,{ref:ee,children:J})});p.displayName=d;const b=n+"CollectionItemSlot",_="data-radix-collection-item",I=DA(b),S=qo.forwardRef((k,M)=>{const{scope:j,children:J,...Z}=k,ee=qo.useRef(null),we=Us(M,ee),Re=i(b,j);return qo.useEffect(()=>(Re.itemMap.set(ee,{ref:ee,...Z}),()=>{Re.itemMap.delete(ee)})),x.jsx(I,{[_]:"",ref:we,children:J})});S.displayName=b;function P(k){const M=i(n+"CollectionConsumer",k);return qo.useCallback(()=>{const J=M.collectionRef.current;if(!J)return[];const Z=Array.from(J.querySelectorAll(`[${_}]`));return Array.from(M.itemMap.values()).sort((Re,Y)=>Z.indexOf(Re.ref.current)-Z.indexOf(Y.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},P,r]}var Gq=H.createContext(void 0);function l2(n){const e=H.useContext(Gq);return n||e||"ltr"}const Wq=["top","right","bottom","left"],sh=Math.min,Go=Math.max,cm=Math.round,Jp=Math.floor,dc=n=>({x:n,y:n}),Yq={left:"right",right:"left",bottom:"top",top:"bottom"},Xq={start:"end",end:"start"};function _v(n,e,t){return Go(n,sh(e,t))}function su(n,e){return typeof n=="function"?n(e):n}function au(n){return n.split("-")[0]}function Kf(n){return n.split("-")[1]}function yb(n){return n==="x"?"y":"x"}function vb(n){return n==="y"?"height":"width"}const Qq=new Set(["top","bottom"]);function sc(n){return Qq.has(au(n))?"y":"x"}function bb(n){return yb(sc(n))}function Kq(n,e,t){t===void 0&&(t=!1);const r=Kf(n),s=bb(n),i=vb(s);let u=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(u=um(u)),[u,um(u)]}function $q(n){const e=um(n);return[Av(n),e,Av(e)]}function Av(n){return n.replace(/start|end/g,e=>Xq[e])}const PA=["left","right"],LA=["right","left"],Jq=["top","bottom"],Zq=["bottom","top"];function eG(n,e,t){switch(n){case"top":case"bottom":return t?e?LA:PA:e?PA:LA;case"left":case"right":return e?Jq:Zq;default:return[]}}function tG(n,e,t,r){const s=Kf(n);let i=eG(au(n),t==="start",r);return s&&(i=i.map(u=>u+"-"+s),e&&(i=i.concat(i.map(Av)))),i}function um(n){return n.replace(/left|right|bottom|top/g,e=>Yq[e])}function nG(n){return{top:0,right:0,bottom:0,left:0,...n}}function cT(n){return typeof n!="number"?nG(n):{top:n,right:n,bottom:n,left:n}}function hm(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function kA(n,e,t){let{reference:r,floating:s}=n;const i=sc(e),u=bb(e),d=vb(u),g=au(e),p=i==="y",b=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,I=r[d]/2-s[d]/2;let S;switch(g){case"top":S={x:b,y:r.y-s.height};break;case"bottom":S={x:b,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:_};break;case"left":S={x:r.x-s.width,y:_};break;default:S={x:r.x,y:r.y}}switch(Kf(e)){case"start":S[u]-=I*(t&&p?-1:1);break;case"end":S[u]+=I*(t&&p?-1:1);break}return S}const rG=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:u}=t,d=i.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:b,y:_}=kA(p,r,g),I=r,S={},P=0;for(let k=0;k<d.length;k++){const{name:M,fn:j}=d[k],{x:J,y:Z,data:ee,reset:we}=await j({x:b,y:_,initialPlacement:r,placement:I,strategy:s,middlewareData:S,rects:p,platform:u,elements:{reference:n,floating:e}});b=J??b,_=Z??_,S={...S,[M]:{...S[M],...ee}},we&&P<=50&&(P++,typeof we=="object"&&(we.placement&&(I=we.placement),we.rects&&(p=we.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):we.rects),{x:b,y:_}=kA(p,I,g)),k=-1)}return{x:b,y:_,placement:I,strategy:s,middlewareData:S}};async function y0(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:u,elements:d,strategy:g}=n,{boundary:p="clippingAncestors",rootBoundary:b="viewport",elementContext:_="floating",altBoundary:I=!1,padding:S=0}=su(e,n),P=cT(S),M=d[I?_==="floating"?"reference":"floating":_],j=hm(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(M)))==null||t?M:M.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:p,rootBoundary:b,strategy:g})),J=_==="floating"?{x:r,y:s,width:u.floating.width,height:u.floating.height}:u.reference,Z=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),ee=await(i.isElement==null?void 0:i.isElement(Z))?await(i.getScale==null?void 0:i.getScale(Z))||{x:1,y:1}:{x:1,y:1},we=hm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:J,offsetParent:Z,strategy:g}):J);return{top:(j.top-we.top+P.top)/ee.y,bottom:(we.bottom-j.bottom+P.bottom)/ee.y,left:(j.left-we.left+P.left)/ee.x,right:(we.right-j.right+P.right)/ee.x}}const sG=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:u,elements:d,middlewareData:g}=e,{element:p,padding:b=0}=su(n,e)||{};if(p==null)return{};const _=cT(b),I={x:t,y:r},S=bb(s),P=vb(S),k=await u.getDimensions(p),M=S==="y",j=M?"top":"left",J=M?"bottom":"right",Z=M?"clientHeight":"clientWidth",ee=i.reference[P]+i.reference[S]-I[S]-i.floating[P],we=I[S]-i.reference[S],Re=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=Re?Re[Z]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(Re)))&&(Y=d.floating[Z]||i.floating[P]);const U=ee/2-we/2,F=Y/2-k[P]/2-1,te=sh(_[j],F),z=sh(_[J],F),q=te,X=Y-k[P]-z,be=Y/2-k[P]/2+U,pe=_v(q,be,X),ge=!g.arrow&&Kf(s)!=null&&be!==pe&&i.reference[P]/2-(be<q?te:z)-k[P]/2<0,Se=ge?be<q?be-q:be-X:0;return{[S]:I[S]+Se,data:{[S]:pe,centerOffset:be-pe-Se,...ge&&{alignmentOffset:Se}},reset:ge}}}),aG=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:u,initialPlacement:d,platform:g,elements:p}=e,{mainAxis:b=!0,crossAxis:_=!0,fallbackPlacements:I,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:k=!0,...M}=su(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const j=au(s),J=sc(d),Z=au(d)===d,ee=await(g.isRTL==null?void 0:g.isRTL(p.floating)),we=I||(Z||!k?[um(d)]:$q(d)),Re=P!=="none";!I&&Re&&we.push(...tG(d,k,P,ee));const Y=[d,...we],U=await y0(e,M),F=[];let te=((r=i.flip)==null?void 0:r.overflows)||[];if(b&&F.push(U[j]),_){const be=Kq(s,u,ee);F.push(U[be[0]],U[be[1]])}if(te=[...te,{placement:s,overflows:F}],!F.every(be=>be<=0)){var z,q;const be=(((z=i.flip)==null?void 0:z.index)||0)+1,pe=Y[be];if(pe&&(!(_==="alignment"?J!==sc(pe):!1)||te.every(ye=>sc(ye.placement)===J?ye.overflows[0]>0:!0)))return{data:{index:be,overflows:te},reset:{placement:pe}};let ge=(q=te.filter(Se=>Se.overflows[0]<=0).sort((Se,ye)=>Se.overflows[1]-ye.overflows[1])[0])==null?void 0:q.placement;if(!ge)switch(S){case"bestFit":{var X;const Se=(X=te.filter(ye=>{if(Re){const De=sc(ye.placement);return De===J||De==="y"}return!0}).map(ye=>[ye.placement,ye.overflows.filter(De=>De>0).reduce((De,rt)=>De+rt,0)]).sort((ye,De)=>ye[1]-De[1])[0])==null?void 0:X[0];Se&&(ge=Se);break}case"initialPlacement":ge=d;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function MA(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function jA(n){return Wq.some(e=>n[e]>=0)}const iG=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=su(n,e);switch(r){case"referenceHidden":{const i=await y0(e,{...s,elementContext:"reference"}),u=MA(i,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:jA(u)}}}case"escaped":{const i=await y0(e,{...s,altBoundary:!0}),u=MA(i,t.floating);return{data:{escapedOffsets:u,escaped:jA(u)}}}default:return{}}}}},uT=new Set(["left","top"]);async function oG(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),u=au(t),d=Kf(t),g=sc(t)==="y",p=uT.has(u)?-1:1,b=i&&g?-1:1,_=su(e,n);let{mainAxis:I,crossAxis:S,alignmentAxis:P}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof P=="number"&&(S=d==="end"?P*-1:P),g?{x:S*b,y:I*p}:{x:I*p,y:S*b}}const lG=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:u,middlewareData:d}=e,g=await oG(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+g.x,y:i+g.y,data:{...g,placement:u}}}}},cG=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:u=!1,limiter:d={fn:M=>{let{x:j,y:J}=M;return{x:j,y:J}}},...g}=su(n,e),p={x:t,y:r},b=await y0(e,g),_=sc(au(s)),I=yb(_);let S=p[I],P=p[_];if(i){const M=I==="y"?"top":"left",j=I==="y"?"bottom":"right",J=S+b[M],Z=S-b[j];S=_v(J,S,Z)}if(u){const M=_==="y"?"top":"left",j=_==="y"?"bottom":"right",J=P+b[M],Z=P-b[j];P=_v(J,P,Z)}const k=d.fn({...e,[I]:S,[_]:P});return{...k,data:{x:k.x-t,y:k.y-r,enabled:{[I]:i,[_]:u}}}}}},uG=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:u}=e,{offset:d=0,mainAxis:g=!0,crossAxis:p=!0}=su(n,e),b={x:t,y:r},_=sc(s),I=yb(_);let S=b[I],P=b[_];const k=su(d,e),M=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(g){const Z=I==="y"?"height":"width",ee=i.reference[I]-i.floating[Z]+M.mainAxis,we=i.reference[I]+i.reference[Z]-M.mainAxis;S<ee?S=ee:S>we&&(S=we)}if(p){var j,J;const Z=I==="y"?"width":"height",ee=uT.has(au(s)),we=i.reference[_]-i.floating[Z]+(ee&&((j=u.offset)==null?void 0:j[_])||0)+(ee?0:M.crossAxis),Re=i.reference[_]+i.reference[Z]+(ee?0:((J=u.offset)==null?void 0:J[_])||0)-(ee?M.crossAxis:0);P<we?P=we:P>Re&&(P=Re)}return{[I]:S,[_]:P}}}},hG=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:u,elements:d}=e,{apply:g=()=>{},...p}=su(n,e),b=await y0(e,p),_=au(s),I=Kf(s),S=sc(s)==="y",{width:P,height:k}=i.floating;let M,j;_==="top"||_==="bottom"?(M=_,j=I===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(j=_,M=I==="end"?"top":"bottom");const J=k-b.top-b.bottom,Z=P-b.left-b.right,ee=sh(k-b[M],J),we=sh(P-b[j],Z),Re=!e.middlewareData.shift;let Y=ee,U=we;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(U=Z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Y=J),Re&&!I){const te=Go(b.left,0),z=Go(b.right,0),q=Go(b.top,0),X=Go(b.bottom,0);S?U=P-2*(te!==0||z!==0?te+z:Go(b.left,b.right)):Y=k-2*(q!==0||X!==0?q+X:Go(b.top,b.bottom))}await g({...e,availableWidth:U,availableHeight:Y});const F=await u.getDimensions(d.floating);return P!==F.width||k!==F.height?{reset:{rects:!0}}:{}}}};function c2(){return typeof window<"u"}function $f(n){return hT(n)?(n.nodeName||"").toLowerCase():"#document"}function Ko(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wc(n){var e;return(e=(hT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hT(n){return c2()?n instanceof Node||n instanceof Ko(n).Node:!1}function Ll(n){return c2()?n instanceof Element||n instanceof Ko(n).Element:!1}function gc(n){return c2()?n instanceof HTMLElement||n instanceof Ko(n).HTMLElement:!1}function FA(n){return!c2()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ko(n).ShadowRoot}const dG=new Set(["inline","contents"]);function U0(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=kl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!dG.has(s)}const fG=new Set(["table","td","th"]);function pG(n){return fG.has($f(n))}const gG=[":popover-open",":modal"];function u2(n){return gG.some(e=>{try{return n.matches(e)}catch{return!1}})}const mG=["transform","translate","scale","rotate","perspective"],xG=["transform","translate","scale","rotate","perspective","filter"],yG=["paint","layout","strict","content"];function wb(n){const e=_b(),t=Ll(n)?kl(n):n;return mG.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||xG.some(r=>(t.willChange||"").includes(r))||yG.some(r=>(t.contain||"").includes(r))}function vG(n){let e=ah(n);for(;gc(e)&&!If(e);){if(wb(e))return e;if(u2(e))return null;e=ah(e)}return null}function _b(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bG=new Set(["html","body","#document"]);function If(n){return bG.has($f(n))}function kl(n){return Ko(n).getComputedStyle(n)}function h2(n){return Ll(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ah(n){if($f(n)==="html")return n;const e=n.assignedSlot||n.parentNode||FA(n)&&n.host||wc(n);return FA(e)?e.host:e}function dT(n){const e=ah(n);return If(e)?n.ownerDocument?n.ownerDocument.body:n.body:gc(e)&&U0(e)?e:dT(e)}function v0(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=dT(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),u=Ko(s);if(i){const d=Ev(u);return e.concat(u,u.visualViewport||[],U0(s)?s:[],d&&t?v0(d):[])}return e.concat(s,v0(s,[],t))}function Ev(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function fT(n){const e=kl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gc(n),i=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=cm(t)!==i||cm(r)!==u;return d&&(t=i,r=u),{width:t,height:r,$:d}}function Ab(n){return Ll(n)?n:n.contextElement}function df(n){const e=Ab(n);if(!gc(e))return dc(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=fT(e);let u=(i?cm(t.width):t.width)/r,d=(i?cm(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const wG=dc(0);function pT(n){const e=Ko(n);return!_b()||!e.visualViewport?wG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _G(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ko(n)?!1:e}function Gh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=Ab(n);let u=dc(1);e&&(r?Ll(r)&&(u=df(r)):u=df(n));const d=_G(i,t,r)?pT(i):dc(0);let g=(s.left+d.x)/u.x,p=(s.top+d.y)/u.y,b=s.width/u.x,_=s.height/u.y;if(i){const I=Ko(i),S=r&&Ll(r)?Ko(r):r;let P=I,k=Ev(P);for(;k&&r&&S!==P;){const M=df(k),j=k.getBoundingClientRect(),J=kl(k),Z=j.left+(k.clientLeft+parseFloat(J.paddingLeft))*M.x,ee=j.top+(k.clientTop+parseFloat(J.paddingTop))*M.y;g*=M.x,p*=M.y,b*=M.x,_*=M.y,g+=Z,p+=ee,P=Ko(k),k=Ev(P)}}return hm({width:b,height:_,x:g,y:p})}function d2(n,e){const t=h2(n).scrollLeft;return e?e.left+t:Gh(wc(n)).left+t}function gT(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-d2(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function AG(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",u=wc(r),d=e?u2(e.floating):!1;if(r===u||d&&i)return t;let g={scrollLeft:0,scrollTop:0},p=dc(1);const b=dc(0),_=gc(r);if((_||!_&&!i)&&(($f(r)!=="body"||U0(u))&&(g=h2(r)),gc(r))){const S=Gh(r);p=df(r),b.x=S.x+r.clientLeft,b.y=S.y+r.clientTop}const I=u&&!_&&!i?gT(u,g):dc(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-g.scrollLeft*p.x+b.x+I.x,y:t.y*p.y-g.scrollTop*p.y+b.y+I.y}}function EG(n){return Array.from(n.getClientRects())}function CG(n){const e=wc(n),t=h2(n),r=n.ownerDocument.body,s=Go(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Go(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+d2(n);const d=-t.scrollTop;return kl(r).direction==="rtl"&&(u+=Go(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:u,y:d}}const BA=25;function SG(n,e){const t=Ko(n),r=wc(n),s=t.visualViewport;let i=r.clientWidth,u=r.clientHeight,d=0,g=0;if(s){i=s.width,u=s.height;const b=_b();(!b||b&&e==="fixed")&&(d=s.offsetLeft,g=s.offsetTop)}const p=d2(r);if(p<=0){const b=r.ownerDocument,_=b.body,I=getComputedStyle(_),S=b.compatMode==="CSS1Compat"&&parseFloat(I.marginLeft)+parseFloat(I.marginRight)||0,P=Math.abs(r.clientWidth-_.clientWidth-S);P<=BA&&(i-=P)}else p<=BA&&(i+=p);return{width:i,height:u,x:d,y:g}}const NG=new Set(["absolute","fixed"]);function TG(n,e){const t=Gh(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=gc(n)?df(n):dc(1),u=n.clientWidth*i.x,d=n.clientHeight*i.y,g=s*i.x,p=r*i.y;return{width:u,height:d,x:g,y:p}}function UA(n,e,t){let r;if(e==="viewport")r=SG(n,t);else if(e==="document")r=CG(wc(n));else if(Ll(e))r=TG(e,t);else{const s=pT(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hm(r)}function mT(n,e){const t=ah(n);return t===e||!Ll(t)||If(t)?!1:kl(t).position==="fixed"||mT(t,e)}function IG(n,e){const t=e.get(n);if(t)return t;let r=v0(n,[],!1).filter(d=>Ll(d)&&$f(d)!=="body"),s=null;const i=kl(n).position==="fixed";let u=i?ah(n):n;for(;Ll(u)&&!If(u);){const d=kl(u),g=wb(u);!g&&d.position==="fixed"&&(s=null),(i?!g&&!s:!g&&d.position==="static"&&!!s&&NG.has(s.position)||U0(u)&&!g&&mT(n,u))?r=r.filter(b=>b!==u):s=d,u=ah(u)}return e.set(n,r),r}function RG(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const u=[...t==="clippingAncestors"?u2(e)?[]:IG(e,this._c):[].concat(t),r],d=u[0],g=u.reduce((p,b)=>{const _=UA(e,b,s);return p.top=Go(_.top,p.top),p.right=sh(_.right,p.right),p.bottom=sh(_.bottom,p.bottom),p.left=Go(_.left,p.left),p},UA(e,d,s));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function OG(n){const{width:e,height:t}=fT(n);return{width:e,height:t}}function DG(n,e,t){const r=gc(e),s=wc(e),i=t==="fixed",u=Gh(n,!0,i,e);let d={scrollLeft:0,scrollTop:0};const g=dc(0);function p(){g.x=d2(s)}if(r||!r&&!i)if(($f(e)!=="body"||U0(s))&&(d=h2(e)),r){const S=Gh(e,!0,i,e);g.x=S.x+e.clientLeft,g.y=S.y+e.clientTop}else s&&p();i&&!r&&s&&p();const b=s&&!r&&!i?gT(s,d):dc(0),_=u.left+d.scrollLeft-g.x-b.x,I=u.top+d.scrollTop-g.y-b.y;return{x:_,y:I,width:u.width,height:u.height}}function hy(n){return kl(n).position==="static"}function VA(n,e){if(!gc(n)||kl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wc(n)===t&&(t=t.ownerDocument.body),t}function xT(n,e){const t=Ko(n);if(u2(n))return t;if(!gc(n)){let s=ah(n);for(;s&&!If(s);){if(Ll(s)&&!hy(s))return s;s=ah(s)}return t}let r=VA(n,e);for(;r&&pG(r)&&hy(r);)r=VA(r,e);return r&&If(r)&&hy(r)&&!wb(r)?t:r||vG(n)||t}const PG=async function(n){const e=this.getOffsetParent||xT,t=this.getDimensions,r=await t(n.floating);return{reference:DG(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LG(n){return kl(n).direction==="rtl"}const kG={convertOffsetParentRelativeRectToViewportRelativeRect:AG,getDocumentElement:wc,getClippingRect:RG,getOffsetParent:xT,getElementRects:PG,getClientRects:EG,getDimensions:OG,getScale:df,isElement:Ll,isRTL:LG};function yT(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function MG(n,e){let t=null,r;const s=wc(n);function i(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,g){d===void 0&&(d=!1),g===void 0&&(g=1),i();const p=n.getBoundingClientRect(),{left:b,top:_,width:I,height:S}=p;if(d||e(),!I||!S)return;const P=Jp(_),k=Jp(s.clientWidth-(b+I)),M=Jp(s.clientHeight-(_+S)),j=Jp(b),Z={rootMargin:-P+"px "+-k+"px "+-M+"px "+-j+"px",threshold:Go(0,sh(1,g))||1};let ee=!0;function we(Re){const Y=Re[0].intersectionRatio;if(Y!==g){if(!ee)return u();Y?u(!1,Y):r=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!yT(p,n.getBoundingClientRect())&&u(),ee=!1}try{t=new IntersectionObserver(we,{...Z,root:s.ownerDocument})}catch{t=new IntersectionObserver(we,Z)}t.observe(n)}return u(!0),i}function jG(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,p=Ab(n),b=s||i?[...p?v0(p):[],...v0(e)]:[];b.forEach(j=>{s&&j.addEventListener("scroll",t,{passive:!0}),i&&j.addEventListener("resize",t)});const _=p&&d?MG(p,t):null;let I=-1,S=null;u&&(S=new ResizeObserver(j=>{let[J]=j;J&&J.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(I),I=requestAnimationFrame(()=>{var Z;(Z=S)==null||Z.observe(e)})),t()}),p&&!g&&S.observe(p),S.observe(e));let P,k=g?Gh(n):null;g&&M();function M(){const j=Gh(n);k&&!yT(k,j)&&t(),k=j,P=requestAnimationFrame(M)}return t(),()=>{var j;b.forEach(J=>{s&&J.removeEventListener("scroll",t),i&&J.removeEventListener("resize",t)}),_?.(),(j=S)==null||j.disconnect(),S=null,g&&cancelAnimationFrame(P)}}const FG=lG,BG=cG,UG=aG,VG=hG,zG=iG,zA=sG,HG=uG,qG=(n,e,t)=>{const r=new Map,s={platform:kG,...t},i={...s.platform,_c:r};return rG(n,e,{...s,platform:i})};var GG=typeof document<"u",WG=function(){},Cg=GG?H.useLayoutEffect:WG;function dm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!dm(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!dm(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function vT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function HA(n,e){const t=vT(n);return Math.round(e*t)/t}function dy(n){const e=H.useRef(n);return Cg(()=>{e.current=n}),e}function YG(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:u}={},transform:d=!0,whileElementsMounted:g,open:p}=n,[b,_]=H.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,S]=H.useState(r);dm(I,r)||S(r);const[P,k]=H.useState(null),[M,j]=H.useState(null),J=H.useCallback(ye=>{ye!==Re.current&&(Re.current=ye,k(ye))},[]),Z=H.useCallback(ye=>{ye!==Y.current&&(Y.current=ye,j(ye))},[]),ee=i||P,we=u||M,Re=H.useRef(null),Y=H.useRef(null),U=H.useRef(b),F=g!=null,te=dy(g),z=dy(s),q=dy(p),X=H.useCallback(()=>{if(!Re.current||!Y.current)return;const ye={placement:e,strategy:t,middleware:I};z.current&&(ye.platform=z.current),qG(Re.current,Y.current,ye).then(De=>{const rt={...De,isPositioned:q.current!==!1};be.current&&!dm(U.current,rt)&&(U.current=rt,e5.flushSync(()=>{_(rt)}))})},[I,e,t,z,q]);Cg(()=>{p===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,_(ye=>({...ye,isPositioned:!1})))},[p]);const be=H.useRef(!1);Cg(()=>(be.current=!0,()=>{be.current=!1}),[]),Cg(()=>{if(ee&&(Re.current=ee),we&&(Y.current=we),ee&&we){if(te.current)return te.current(ee,we,X);X()}},[ee,we,X,te,F]);const pe=H.useMemo(()=>({reference:Re,floating:Y,setReference:J,setFloating:Z}),[J,Z]),ge=H.useMemo(()=>({reference:ee,floating:we}),[ee,we]),Se=H.useMemo(()=>{const ye={position:t,left:0,top:0};if(!ge.floating)return ye;const De=HA(ge.floating,b.x),rt=HA(ge.floating,b.y);return d?{...ye,transform:"translate("+De+"px, "+rt+"px)",...vT(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:De,top:rt}},[t,d,ge.floating,b.x,b.y]);return H.useMemo(()=>({...b,update:X,refs:pe,elements:ge,floatingStyles:Se}),[b,X,pe,ge,Se])}const XG=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?zA({element:r.current,padding:s}).fn(t):{}:r?zA({element:r,padding:s}).fn(t):{}}}},QG=(n,e)=>({...FG(n),options:[n,e]}),KG=(n,e)=>({...BG(n),options:[n,e]}),$G=(n,e)=>({...HG(n),options:[n,e]}),JG=(n,e)=>({...UG(n),options:[n,e]}),ZG=(n,e)=>({...VG(n),options:[n,e]}),eW=(n,e)=>({...zG(n),options:[n,e]}),tW=(n,e)=>({...XG(n),options:[n,e]});var nW="Arrow",bT=H.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return x.jsx(Jr.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});bT.displayName=nW;var rW=bT;function Eb(n){const[e,t]=H.useState(void 0);return Ku(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let u,d;if("borderBoxSize"in i){const g=i.borderBoxSize,p=Array.isArray(g)?g[0]:g;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Cb="Popper",[wT,_T]=lu(Cb),[sW,AT]=wT(Cb),ET=n=>{const{__scopePopper:e,children:t}=n,[r,s]=H.useState(null);return x.jsx(sW,{scope:e,anchor:r,onAnchorChange:s,children:t})};ET.displayName=Cb;var CT="PopperAnchor",ST=H.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=AT(CT,t),u=H.useRef(null),d=Us(e,u),g=H.useRef(null);return H.useEffect(()=>{const p=g.current;g.current=r?.current||u.current,p!==g.current&&i.onAnchorChange(g.current)}),r?null:x.jsx(Jr.div,{...s,ref:d})});ST.displayName=CT;var Sb="PopperContent",[aW,iW]=wT(Sb),NT=H.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:g=!0,collisionBoundary:p=[],collisionPadding:b=0,sticky:_="partial",hideWhenDetached:I=!1,updatePositionStrategy:S="optimized",onPlaced:P,...k}=n,M=AT(Sb,t),[j,J]=H.useState(null),Z=Us(e,Oe=>J(Oe)),[ee,we]=H.useState(null),Re=Eb(ee),Y=Re?.width??0,U=Re?.height??0,F=r+(i!=="center"?"-"+i:""),te=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},z=Array.isArray(p)?p:[p],q=z.length>0,X={padding:te,boundary:z.filter(lW),altBoundary:q},{refs:be,floatingStyles:pe,placement:ge,isPositioned:Se,middlewareData:ye}=YG({strategy:"fixed",placement:F,whileElementsMounted:(...Oe)=>jG(...Oe,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[QG({mainAxis:s+U,alignmentAxis:u}),g&&KG({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?$G():void 0,...X}),g&&JG({...X}),ZG({...X,apply:({elements:Oe,rects:ze,availableWidth:We,availableHeight:it})=>{const{width:mt,height:Nt}=ze.reference,vt=Oe.floating.style;vt.setProperty("--radix-popper-available-width",`${We}px`),vt.setProperty("--radix-popper-available-height",`${it}px`),vt.setProperty("--radix-popper-anchor-width",`${mt}px`),vt.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),ee&&tW({element:ee,padding:d}),cW({arrowWidth:Y,arrowHeight:U}),I&&eW({strategy:"referenceHidden",...X})]}),[De,rt]=RT(ge),me=Jc(P);Ku(()=>{Se&&me?.()},[Se,me]);const $=ye.arrow?.x,le=ye.arrow?.y,he=ye.arrow?.centerOffset!==0,[Ie,Ae]=H.useState();return Ku(()=>{j&&Ae(window.getComputedStyle(j).zIndex)},[j]),x.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:Se?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[ye.transformOrigin?.x,ye.transformOrigin?.y].join(" "),...ye.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(aW,{scope:t,placedSide:De,onArrowChange:we,arrowX:$,arrowY:le,shouldHideArrow:he,children:x.jsx(Jr.div,{"data-side":De,"data-align":rt,...k,ref:Z,style:{...k.style,animation:Se?void 0:"none"}})})})});NT.displayName=Sb;var TT="PopperArrow",oW={top:"bottom",right:"left",bottom:"top",left:"right"},IT=H.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=iW(TT,r),u=oW[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(rW,{...s,ref:t,style:{...s.style,display:"block"}})})});IT.displayName=TT;function lW(n){return n!==null}var cW=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,u=s.arrow?.centerOffset!==0,d=u?0:n.arrowWidth,g=u?0:n.arrowHeight,[p,b]=RT(t),_={start:"0%",center:"50%",end:"100%"}[b],I=(s.arrow?.x??0)+d/2,S=(s.arrow?.y??0)+g/2;let P="",k="";return p==="bottom"?(P=u?_:`${I}px`,k=`${-g}px`):p==="top"?(P=u?_:`${I}px`,k=`${r.floating.height+g}px`):p==="right"?(P=`${-g}px`,k=u?_:`${S}px`):p==="left"&&(P=`${r.floating.width+g}px`,k=u?_:`${S}px`),{data:{x:P,y:k}}}});function RT(n){const[e,t="center"]=n.split("-");return[e,t]}var uW=ET,hW=ST,dW=NT,fW=IT,fy="rovingFocusGroup.onEntryFocus",pW={bubbles:!1,cancelable:!0},V0="RovingFocusGroup",[Cv,OT,gW]=xb(V0),[mW,f2]=lu(V0,[gW]),[xW,yW]=mW(V0),DT=H.forwardRef((n,e)=>x.jsx(Cv.Provider,{scope:n.__scopeRovingFocusGroup,children:x.jsx(Cv.Slot,{scope:n.__scopeRovingFocusGroup,children:x.jsx(vW,{...n,ref:e})})}));DT.displayName=V0;var vW=H.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:i,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:b=!1,..._}=n,I=H.useRef(null),S=Us(e,I),P=l2(i),[k,M]=jf({prop:u,defaultProp:d??null,onChange:g,caller:V0}),[j,J]=H.useState(!1),Z=Jc(p),ee=OT(t),we=H.useRef(!1),[Re,Y]=H.useState(0);return H.useEffect(()=>{const U=I.current;if(U)return U.addEventListener(fy,Z),()=>U.removeEventListener(fy,Z)},[Z]),x.jsx(xW,{scope:t,orientation:r,dir:P,loop:s,currentTabStopId:k,onItemFocus:H.useCallback(U=>M(U),[M]),onItemShiftTab:H.useCallback(()=>J(!0),[]),onFocusableItemAdd:H.useCallback(()=>Y(U=>U+1),[]),onFocusableItemRemove:H.useCallback(()=>Y(U=>U-1),[]),children:x.jsx(Jr.div,{tabIndex:j||Re===0?-1:0,"data-orientation":r,..._,ref:S,style:{outline:"none",...n.style},onMouseDown:Un(n.onMouseDown,()=>{we.current=!0}),onFocus:Un(n.onFocus,U=>{const F=!we.current;if(U.target===U.currentTarget&&F&&!j){const te=new CustomEvent(fy,pW);if(U.currentTarget.dispatchEvent(te),!te.defaultPrevented){const z=ee().filter(ge=>ge.focusable),q=z.find(ge=>ge.active),X=z.find(ge=>ge.id===k),pe=[q,X,...z].filter(Boolean).map(ge=>ge.ref.current);kT(pe,b)}}we.current=!1}),onBlur:Un(n.onBlur,()=>J(!1))})})}),PT="RovingFocusGroupItem",LT=H.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:i,children:u,...d}=n,g=Dh(),p=i||g,b=yW(PT,t),_=b.currentTabStopId===p,I=OT(t),{onFocusableItemAdd:S,onFocusableItemRemove:P,currentTabStopId:k}=b;return H.useEffect(()=>{if(r)return S(),()=>P()},[r,S,P]),x.jsx(Cv.ItemSlot,{scope:t,id:p,focusable:r,active:s,children:x.jsx(Jr.span,{tabIndex:_?0:-1,"data-orientation":b.orientation,...d,ref:e,onMouseDown:Un(n.onMouseDown,M=>{r?b.onItemFocus(p):M.preventDefault()}),onFocus:Un(n.onFocus,()=>b.onItemFocus(p)),onKeyDown:Un(n.onKeyDown,M=>{if(M.key==="Tab"&&M.shiftKey){b.onItemShiftTab();return}if(M.target!==M.currentTarget)return;const j=_W(M,b.orientation,b.dir);if(j!==void 0){if(M.metaKey||M.ctrlKey||M.altKey||M.shiftKey)return;M.preventDefault();let Z=I().filter(ee=>ee.focusable).map(ee=>ee.ref.current);if(j==="last")Z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&Z.reverse();const ee=Z.indexOf(M.currentTarget);Z=b.loop?AW(Z,ee+1):Z.slice(ee+1)}setTimeout(()=>kT(Z))}}),children:typeof u=="function"?u({isCurrentTabStop:_,hasTabStop:k!=null}):u})})});LT.displayName=PT;var bW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wW(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function _W(n,e,t){const r=wW(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bW[r]}function kT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function AW(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var MT=DT,jT=LT;function EW(n){const e=CW(n),t=H.forwardRef((r,s)=>{const{children:i,...u}=r,d=H.Children.toArray(i),g=d.find(NW);if(g){const p=g.props.children,b=d.map(_=>_===g?H.Children.count(p)>1?H.Children.only(null):H.isValidElement(p)?p.props.children:null:_);return x.jsx(e,{...u,ref:s,children:H.isValidElement(p)?H.cloneElement(p,void 0,b):null})}return x.jsx(e,{...u,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}function CW(n){const e=H.forwardRef((t,r)=>{const{children:s,...i}=t;if(H.isValidElement(s)){const u=IW(s),d=TW(i,s.props);return s.type!==H.Fragment&&(d.ref=r?oh(r,u):u),H.cloneElement(s,d)}return H.Children.count(s)>1?H.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var SW=Symbol("radix.slottable");function NW(n){return H.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===SW}function TW(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...d)=>{const g=i(...d);return s(...d),g}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function IW(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Sv=["Enter"," "],RW=["ArrowDown","PageUp","Home"],FT=["ArrowUp","PageDown","End"],OW=[...RW,...FT],DW={ltr:[...Sv,"ArrowRight"],rtl:[...Sv,"ArrowLeft"]},PW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},z0="Menu",[b0,LW,kW]=xb(z0),[ad,BT]=lu(z0,[kW,_T,f2]),p2=_T(),UT=f2(),[MW,id]=ad(z0),[jW,H0]=ad(z0),VT=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:i,modal:u=!0}=n,d=p2(e),[g,p]=H.useState(null),b=H.useRef(!1),_=Jc(i),I=l2(s);return H.useEffect(()=>{const S=()=>{b.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>b.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),x.jsx(uW,{...d,children:x.jsx(MW,{scope:e,open:t,onOpenChange:_,content:g,onContentChange:p,children:x.jsx(jW,{scope:e,onClose:H.useCallback(()=>_(!1),[_]),isUsingKeyboardRef:b,dir:I,modal:u,children:r})})})};VT.displayName=z0;var FW="MenuAnchor",Nb=H.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=p2(t);return x.jsx(hW,{...s,...r,ref:e})});Nb.displayName=FW;var Tb="MenuPortal",[BW,zT]=ad(Tb,{forceMount:void 0}),HT=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,i=id(Tb,e);return x.jsx(BW,{scope:e,forceMount:t,children:x.jsx(cu,{present:t||i.open,children:x.jsx(o5,{asChild:!0,container:s,children:r})})})};HT.displayName=Tb;var il="MenuContent",[UW,Ib]=ad(il),qT=H.forwardRef((n,e)=>{const t=zT(il,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=id(il,n.__scopeMenu),u=H0(il,n.__scopeMenu);return x.jsx(b0.Provider,{scope:n.__scopeMenu,children:x.jsx(cu,{present:r||i.open,children:x.jsx(b0.Slot,{scope:n.__scopeMenu,children:u.modal?x.jsx(VW,{...s,ref:e}):x.jsx(zW,{...s,ref:e})})})})}),VW=H.forwardRef((n,e)=>{const t=id(il,n.__scopeMenu),r=H.useRef(null),s=Us(e,r);return H.useEffect(()=>{const i=r.current;if(i)return kS(i)},[]),x.jsx(Rb,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Un(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),zW=H.forwardRef((n,e)=>{const t=id(il,n.__scopeMenu);return x.jsx(Rb,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),HW=EW("MenuContent.ScrollLock"),Rb=H.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:g,onEscapeKeyDown:p,onPointerDownOutside:b,onFocusOutside:_,onInteractOutside:I,onDismiss:S,disableOutsideScroll:P,...k}=n,M=id(il,t),j=H0(il,t),J=p2(t),Z=UT(t),ee=LW(t),[we,Re]=H.useState(null),Y=H.useRef(null),U=Us(e,Y,M.onContentChange),F=H.useRef(0),te=H.useRef(""),z=H.useRef(0),q=H.useRef(null),X=H.useRef("right"),be=H.useRef(0),pe=P?l5:H.Fragment,ge=P?{as:HW,allowPinchZoom:!0}:void 0,Se=De=>{const rt=te.current+De,me=ee().filter(Oe=>!Oe.disabled),$=document.activeElement,le=me.find(Oe=>Oe.ref.current===$)?.textValue,he=me.map(Oe=>Oe.textValue),Ie=tY(he,rt,le),Ae=me.find(Oe=>Oe.textValue===Ie)?.ref.current;(function Oe(ze){te.current=ze,window.clearTimeout(F.current),ze!==""&&(F.current=window.setTimeout(()=>Oe(""),1e3))})(rt),Ae&&setTimeout(()=>Ae.focus())};H.useEffect(()=>()=>window.clearTimeout(F.current),[]),SS();const ye=H.useCallback(De=>X.current===q.current?.side&&rY(De,q.current?.area),[]);return x.jsx(UW,{scope:t,searchRef:te,onItemEnter:H.useCallback(De=>{ye(De)&&De.preventDefault()},[ye]),onItemLeave:H.useCallback(De=>{ye(De)||(Y.current?.focus(),Re(null))},[ye]),onTriggerLeave:H.useCallback(De=>{ye(De)&&De.preventDefault()},[ye]),pointerGraceTimerRef:z,onPointerGraceIntentChange:H.useCallback(De=>{q.current=De},[]),children:x.jsx(pe,{...ge,children:x.jsx(i5,{asChild:!0,trapped:s,onMountAutoFocus:Un(i,De=>{De.preventDefault(),Y.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:x.jsx(a5,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:b,onFocusOutside:_,onInteractOutside:I,onDismiss:S,children:x.jsx(MT,{asChild:!0,...Z,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:we,onCurrentTabStopIdChange:Re,onEntryFocus:Un(g,De=>{j.isUsingKeyboardRef.current||De.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(dW,{role:"menu","aria-orientation":"vertical","data-state":i7(M.open),"data-radix-menu-content":"",dir:j.dir,...J,...k,ref:U,style:{outline:"none",...k.style},onKeyDown:Un(k.onKeyDown,De=>{const me=De.target.closest("[data-radix-menu-content]")===De.currentTarget,$=De.ctrlKey||De.altKey||De.metaKey,le=De.key.length===1;me&&(De.key==="Tab"&&De.preventDefault(),!$&&le&&Se(De.key));const he=Y.current;if(De.target!==he||!OW.includes(De.key))return;De.preventDefault();const Ae=ee().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);FT.includes(De.key)&&Ae.reverse(),ZW(Ae)}),onBlur:Un(n.onBlur,De=>{De.currentTarget.contains(De.target)||(window.clearTimeout(F.current),te.current="")}),onPointerMove:Un(n.onPointerMove,w0(De=>{const rt=De.target,me=be.current!==De.clientX;if(De.currentTarget.contains(rt)&&me){const $=De.clientX>be.current?"right":"left";X.current=$,be.current=De.clientX}}))})})})})})})});qT.displayName=il;var qW="MenuGroup",Ob=H.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(Jr.div,{role:"group",...r,ref:e})});Ob.displayName=qW;var GW="MenuLabel",GT=H.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(Jr.div,{...r,ref:e})});GT.displayName=GW;var fm="MenuItem",qA="menu.itemSelect",g2=H.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,i=H.useRef(null),u=H0(fm,n.__scopeMenu),d=Ib(fm,n.__scopeMenu),g=Us(e,i),p=H.useRef(!1),b=()=>{const _=i.current;if(!t&&_){const I=new CustomEvent(qA,{bubbles:!0,cancelable:!0});_.addEventListener(qA,S=>r?.(S),{once:!0}),_S(_,I),I.defaultPrevented?p.current=!1:u.onClose()}};return x.jsx(WT,{...s,ref:g,disabled:t,onClick:Un(n.onClick,b),onPointerDown:_=>{n.onPointerDown?.(_),p.current=!0},onPointerUp:Un(n.onPointerUp,_=>{p.current||_.currentTarget?.click()}),onKeyDown:Un(n.onKeyDown,_=>{const I=d.searchRef.current!=="";t||I&&_.key===" "||Sv.includes(_.key)&&(_.currentTarget.click(),_.preventDefault())})})});g2.displayName=fm;var WT=H.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...i}=n,u=Ib(fm,t),d=UT(t),g=H.useRef(null),p=Us(e,g),[b,_]=H.useState(!1),[I,S]=H.useState("");return H.useEffect(()=>{const P=g.current;P&&S((P.textContent??"").trim())},[i.children]),x.jsx(b0.ItemSlot,{scope:t,disabled:r,textValue:s??I,children:x.jsx(jT,{asChild:!0,...d,focusable:!r,children:x.jsx(Jr.div,{role:"menuitem","data-highlighted":b?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:p,onPointerMove:Un(n.onPointerMove,w0(P=>{r?u.onItemLeave(P):(u.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Un(n.onPointerLeave,w0(P=>u.onItemLeave(P))),onFocus:Un(n.onFocus,()=>_(!0)),onBlur:Un(n.onBlur,()=>_(!1))})})})}),WW="MenuCheckboxItem",YT=H.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return x.jsx(JT,{scope:n.__scopeMenu,checked:t,children:x.jsx(g2,{role:"menuitemcheckbox","aria-checked":pm(t)?"mixed":t,...s,ref:e,"data-state":Pb(t),onSelect:Un(s.onSelect,()=>r?.(pm(t)?!0:!t),{checkForDefaultPrevented:!1})})})});YT.displayName=WW;var XT="MenuRadioGroup",[YW,XW]=ad(XT,{value:void 0,onValueChange:()=>{}}),QT=H.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,i=Jc(r);return x.jsx(YW,{scope:n.__scopeMenu,value:t,onValueChange:i,children:x.jsx(Ob,{...s,ref:e})})});QT.displayName=XT;var KT="MenuRadioItem",$T=H.forwardRef((n,e)=>{const{value:t,...r}=n,s=XW(KT,n.__scopeMenu),i=t===s.value;return x.jsx(JT,{scope:n.__scopeMenu,checked:i,children:x.jsx(g2,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Pb(i),onSelect:Un(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});$T.displayName=KT;var Db="MenuItemIndicator",[JT,QW]=ad(Db,{checked:!1}),ZT=H.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,i=QW(Db,t);return x.jsx(cu,{present:r||pm(i.checked)||i.checked===!0,children:x.jsx(Jr.span,{...s,ref:e,"data-state":Pb(i.checked)})})});ZT.displayName=Db;var KW="MenuSeparator",e7=H.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return x.jsx(Jr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});e7.displayName=KW;var $W="MenuArrow",t7=H.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=p2(t);return x.jsx(fW,{...s,...r,ref:e})});t7.displayName=$W;var JW="MenuSub",[iZ,n7]=ad(JW),X1="MenuSubTrigger",r7=H.forwardRef((n,e)=>{const t=id(X1,n.__scopeMenu),r=H0(X1,n.__scopeMenu),s=n7(X1,n.__scopeMenu),i=Ib(X1,n.__scopeMenu),u=H.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:g}=i,p={__scopeMenu:n.__scopeMenu},b=H.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return H.useEffect(()=>b,[b]),H.useEffect(()=>{const _=d.current;return()=>{window.clearTimeout(_),g(null)}},[d,g]),x.jsx(Nb,{asChild:!0,...p,children:x.jsx(WT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":i7(t.open),...n,ref:oh(e,s.onTriggerChange),onClick:_=>{n.onClick?.(_),!(n.disabled||_.defaultPrevented)&&(_.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Un(n.onPointerMove,w0(_=>{i.onItemEnter(_),!_.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(i.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),b()},100))})),onPointerLeave:Un(n.onPointerLeave,w0(_=>{b();const I=t.content?.getBoundingClientRect();if(I){const S=t.content?.dataset.side,P=S==="right",k=P?-5:5,M=I[P?"left":"right"],j=I[P?"right":"left"];i.onPointerGraceIntentChange({area:[{x:_.clientX+k,y:_.clientY},{x:M,y:I.top},{x:j,y:I.top},{x:j,y:I.bottom},{x:M,y:I.bottom}],side:S}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(_),_.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Un(n.onKeyDown,_=>{const I=i.searchRef.current!=="";n.disabled||I&&_.key===" "||DW[r.dir].includes(_.key)&&(t.onOpenChange(!0),t.content?.focus(),_.preventDefault())})})})});r7.displayName=X1;var s7="MenuSubContent",a7=H.forwardRef((n,e)=>{const t=zT(il,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,i=id(il,n.__scopeMenu),u=H0(il,n.__scopeMenu),d=n7(s7,n.__scopeMenu),g=H.useRef(null),p=Us(e,g);return x.jsx(b0.Provider,{scope:n.__scopeMenu,children:x.jsx(cu,{present:r||i.open,children:x.jsx(b0.Slot,{scope:n.__scopeMenu,children:x.jsx(Rb,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:b=>{u.isUsingKeyboardRef.current&&g.current?.focus(),b.preventDefault()},onCloseAutoFocus:b=>b.preventDefault(),onFocusOutside:Un(n.onFocusOutside,b=>{b.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Un(n.onEscapeKeyDown,b=>{u.onClose(),b.preventDefault()}),onKeyDown:Un(n.onKeyDown,b=>{const _=b.currentTarget.contains(b.target),I=PW[u.dir].includes(b.key);_&&I&&(i.onOpenChange(!1),d.trigger?.focus(),b.preventDefault())})})})})})});a7.displayName=s7;function i7(n){return n?"open":"closed"}function pm(n){return n==="indeterminate"}function Pb(n){return pm(n)?"indeterminate":n?"checked":"unchecked"}function ZW(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function eY(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function tY(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let u=eY(n,Math.max(i,0));s.length===1&&(u=u.filter(p=>p!==t));const g=u.find(p=>p.toLowerCase().startsWith(s.toLowerCase()));return g!==t?g:void 0}function nY(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,u=e.length-1;i<e.length;u=i++){const d=e[i],g=e[u],p=d.x,b=d.y,_=g.x,I=g.y;b>r!=I>r&&t<(_-p)*(r-b)/(I-b)+p&&(s=!s)}return s}function rY(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return nY(t,e)}function w0(n){return e=>e.pointerType==="mouse"?n(e):void 0}var sY=VT,aY=Nb,iY=HT,oY=qT,lY=Ob,cY=GT,uY=g2,hY=YT,dY=QT,fY=$T,pY=ZT,gY=e7,mY=t7,xY=r7,yY=a7,m2="DropdownMenu",[vY]=lu(m2,[BT]),fo=BT(),[bY,o7]=vY(m2),l7=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:i,onOpenChange:u,modal:d=!0}=n,g=fo(e),p=H.useRef(null),[b,_]=jf({prop:s,defaultProp:i??!1,onChange:u,caller:m2});return x.jsx(bY,{scope:e,triggerId:Dh(),triggerRef:p,contentId:Dh(),open:b,onOpenChange:_,onOpenToggle:H.useCallback(()=>_(I=>!I),[_]),modal:d,children:x.jsx(sY,{...g,open:b,onOpenChange:_,dir:r,modal:d,children:t})})};l7.displayName=m2;var c7="DropdownMenuTrigger",u7=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,i=o7(c7,t),u=fo(t);return x.jsx(aY,{asChild:!0,...u,children:x.jsx(Jr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:oh(e,i.triggerRef),onPointerDown:Un(n.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:Un(n.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});u7.displayName=c7;var wY="DropdownMenuPortal",h7=n=>{const{__scopeDropdownMenu:e,...t}=n,r=fo(e);return x.jsx(iY,{...r,...t})};h7.displayName=wY;var d7="DropdownMenuContent",f7=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=o7(d7,t),i=fo(t),u=H.useRef(!1);return x.jsx(oY,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Un(n.onCloseAutoFocus,d=>{u.current||s.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:Un(n.onInteractOutside,d=>{const g=d.detail.originalEvent,p=g.button===0&&g.ctrlKey===!0,b=g.button===2||p;(!s.modal||b)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f7.displayName=d7;var _Y="DropdownMenuGroup",AY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(lY,{...s,...r,ref:e})});AY.displayName=_Y;var EY="DropdownMenuLabel",CY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(cY,{...s,...r,ref:e})});CY.displayName=EY;var SY="DropdownMenuItem",p7=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(uY,{...s,...r,ref:e})});p7.displayName=SY;var NY="DropdownMenuCheckboxItem",TY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(hY,{...s,...r,ref:e})});TY.displayName=NY;var IY="DropdownMenuRadioGroup",RY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(dY,{...s,...r,ref:e})});RY.displayName=IY;var OY="DropdownMenuRadioItem",DY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(fY,{...s,...r,ref:e})});DY.displayName=OY;var PY="DropdownMenuItemIndicator",LY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(pY,{...s,...r,ref:e})});LY.displayName=PY;var kY="DropdownMenuSeparator",MY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(gY,{...s,...r,ref:e})});MY.displayName=kY;var jY="DropdownMenuArrow",FY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(mY,{...s,...r,ref:e})});FY.displayName=jY;var BY="DropdownMenuSubTrigger",UY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(xY,{...s,...r,ref:e})});UY.displayName=BY;var VY="DropdownMenuSubContent",zY=H.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=fo(t);return x.jsx(yY,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zY.displayName=VY;var HY=l7,qY=u7,GY=h7,WY=f7,YY=p7;function Jf({...n}){return x.jsx(HY,{"code-path":"src/components/ui/dropdown-menu.tsx:10:10","data-slot":"dropdown-menu",...n})}function Zf({...n}){return x.jsx(qY,{"code-path":"src/components/ui/dropdown-menu.tsx:25:5","data-slot":"dropdown-menu-trigger",...n})}function e1({className:n,sideOffset:e=4,...t}){return x.jsx(GY,{"code-path":"src/components/ui/dropdown-menu.tsx:38:5",children:x.jsx(WY,{"code-path":"src/components/ui/dropdown-menu.tsx:39:7","data-slot":"dropdown-menu-content",sideOffset:e,className:Cs("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Es({className:n,inset:e,variant:t="default",...r}){return x.jsx(YY,{"code-path":"src/components/ui/dropdown-menu.tsx:70:5","data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Cs("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function ol({...n}){return x.jsx($S,{"code-path":"src/components/ui/dialog.tsx:10:10","data-slot":"dialog",...n})}function q0({...n}){return x.jsx(JS,{"code-path":"src/components/ui/dialog.tsx:16:10","data-slot":"dialog-trigger",...n})}function XY({...n}){return x.jsx(ZS,{"code-path":"src/components/ui/dialog.tsx:22:10","data-slot":"dialog-portal",...n})}function QY({className:n,...e}){return x.jsx(e6,{"code-path":"src/components/ui/dialog.tsx:36:5","data-slot":"dialog-overlay",className:Cs("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function ll({className:n,children:e,showCloseButton:t=!0,...r}){return x.jsxs(XY,{"code-path":"src/components/ui/dialog.tsx:56:5","data-slot":"dialog-portal",children:[x.jsx(QY,{"code-path":"src/components/ui/dialog.tsx:57:7"}),x.jsxs(t6,{"code-path":"src/components/ui/dialog.tsx:58:7","data-slot":"dialog-content",className:Cs("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",n),...r,children:[e,t&&x.jsxs(n6,{"code-path":"src/components/ui/dialog.tsx:68:11","data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[x.jsx(bf,{"code-path":"src/components/ui/dialog.tsx:72:13"}),x.jsx("span",{"code-path":"src/components/ui/dialog.tsx:73:13",className:"sr-only",children:"Close"})]})]})]})}function cl({className:n,...e}){return x.jsx("div",{"code-path":"src/components/ui/dialog.tsx:83:5","data-slot":"dialog-header",className:Cs("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ul({className:n,...e}){return x.jsx(Kk,{"code-path":"src/components/ui/dialog.tsx:109:5","data-slot":"dialog-title",className:Cs("text-lg leading-none font-semibold",n),...e})}const KY={available:{label:"Disponvel",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:Ui},printing:{label:"Imprimindo",color:"bg-amber-500/20 text-amber-400 border-amber-500/30",icon:Ui},maintenance:{label:"Manuteno",color:"bg-rose-500/20 text-rose-400 border-rose-500/30",icon:Ui},offline:{label:"Offline",color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:Ui}};function $Y({printer:n,onSave:e,onCancel:t}){const[r,s]=H.useState({name:"",model:"",brand:"",buildVolume:{x:220,y:220,z:250},nozzleDiameter:.4,maxTemp:260,bedTemp:100,slots:[{id:"1",slotNumber:1,currentFilamentId:null,color:"",isActive:!0}],hourlyCost:5,status:"available",location:"",notes:"",...n}),i=u=>{u.preventDefault(),e({...r,id:n?.id||Math.random().toString(36).substr(2,9),qrCode:n?.qrCode||K8(),createdAt:n?.createdAt||new Date,updatedAt:new Date})};return x.jsxs("form",{"code-path":"src/pages/Printers.tsx:68:5",onSubmit:i,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:69:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:70:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:71:11",className:"text-sm text-slate-300",children:"Nome *"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:72:11",value:r.name,onChange:u=>s({...r,name:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Ender 3 Pro",required:!0})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:80:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:81:11",className:"text-sm text-slate-300",children:"Marca"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:82:11",value:r.brand,onChange:u=>s({...r,brand:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Creality"})]})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:91:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:92:9",className:"text-sm text-slate-300",children:"Modelo"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:93:9",value:r.model,onChange:u=>s({...r,model:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Ender-3 Pro"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:101:7",className:"border-t border-slate-700 pt-4",children:[x.jsx("h4",{"code-path":"src/pages/Printers.tsx:102:9",className:"text-sm font-medium text-slate-400 mb-3",children:"Especificaes Tcnicas"}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:103:9",className:"grid grid-cols-3 gap-3",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:104:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:105:13",className:"text-sm text-slate-300",children:"Volume X (mm)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:106:13",type:"number",value:r.buildVolume?.x,onChange:u=>s({...r,buildVolume:{...r.buildVolume,x:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:116:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:117:13",className:"text-sm text-slate-300",children:"Volume Y (mm)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:118:13",type:"number",value:r.buildVolume?.y,onChange:u=>s({...r,buildVolume:{...r.buildVolume,y:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:128:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:129:13",className:"text-sm text-slate-300",children:"Volume Z (mm)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:130:13",type:"number",value:r.buildVolume?.z,onChange:u=>s({...r,buildVolume:{...r.buildVolume,z:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:141:9",className:"grid grid-cols-2 gap-3 mt-3",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:142:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:143:13",className:"text-sm text-slate-300",children:"Bico (mm)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:144:13",type:"number",step:"0.1",value:r.nozzleDiameter,onChange:u=>s({...r,nozzleDiameter:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:152:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:153:13",className:"text-sm text-slate-300",children:"Temp. Mxima (C)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:154:13",type:"number",value:r.maxTemp,onChange:u=>s({...r,maxTemp:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:164:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:165:9",className:"text-sm text-slate-300",children:"Custo/Hora (R$)"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:166:9",type:"number",step:"0.5",value:r.hourlyCost,onChange:u=>s({...r,hourlyCost:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:175:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:176:9",className:"text-sm text-slate-300",children:"Localizao"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:177:9",value:r.location,onChange:u=>s({...r,location:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Bancada A"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:185:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:186:9",className:"text-sm text-slate-300",children:"Status"}),x.jsxs("select",{"code-path":"src/pages/Printers.tsx:187:9",value:r.status,onChange:u=>s({...r,status:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Printers.tsx:192:11",value:"available",children:"Disponvel"}),x.jsx("option",{"code-path":"src/pages/Printers.tsx:193:11",value:"printing",children:"Imprimindo"}),x.jsx("option",{"code-path":"src/pages/Printers.tsx:194:11",value:"maintenance",children:"Manuteno"}),x.jsx("option",{"code-path":"src/pages/Printers.tsx:195:11",value:"offline",children:"Offline"})]})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:199:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Printers.tsx:200:9",className:"text-sm text-slate-300",children:"Observaes"}),x.jsx("textarea",{"code-path":"src/pages/Printers.tsx:201:9",value:r.notes,onChange:u=>s({...r,notes:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:208:7",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/Printers.tsx:209:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:n?"Atualizar":"Cadastrar"}),x.jsx(cn,{"code-path":"src/pages/Printers.tsx:212:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function JY(){const{printers:n}=sd(),{canWrite:e}=bc(),[t,r]=H.useState(""),[s,i]=H.useState(!1),[u,d]=H.useState();i2();const g=n.filter(S=>S.name.toLowerCase().includes(t.toLowerCase())||S.model.toLowerCase().includes(t.toLowerCase())||S.brand.toLowerCase().includes(t.toLowerCase())),p=async S=>{try{u?await B8(S):await F8(S),i(!1),d(void 0)}catch(P){console.error("Erro ao salvar impressora:",P),alert("Erro ao salvar impressora. Tente novamente.")}},b=S=>{d(S),i(!0)},_=async S=>{if(confirm("Tem certeza que deseja excluir esta impressora?"))try{await U8(S)}catch(P){console.error("Erro ao excluir impressora:",P),alert("Erro ao excluir impressora. Tente novamente.")}},I=S=>{alert(`QR Code da impressora ${S.name}:
${S.qrCode}`)};return x.jsxs("div",{"code-path":"src/pages/Printers.tsx:272:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:274:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:275:9",children:[x.jsx("h1",{"code-path":"src/pages/Printers.tsx:276:11",className:"text-2xl font-bold text-white",children:"Impressoras 3D"}),x.jsxs("p",{"code-path":"src/pages/Printers.tsx:277:11",className:"text-slate-400",children:[n.length," impressoras cadastradas"]})]}),e("printers")&&x.jsxs(ol,{"code-path":"src/pages/Printers.tsx:280:11",open:s,onOpenChange:i,children:[x.jsx(q0,{"code-path":"src/pages/Printers.tsx:281:13",asChild:!0,children:x.jsxs(cn,{"code-path":"src/pages/Printers.tsx:282:15",className:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>d(void 0),children:[x.jsx($c,{"code-path":"src/pages/Printers.tsx:286:17",className:"w-4 h-4 mr-2"}),"Nova Impressora"]})}),x.jsxs(ll,{"code-path":"src/pages/Printers.tsx:290:13",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Printers.tsx:291:15",children:x.jsx(ul,{"code-path":"src/pages/Printers.tsx:292:17",className:"text-white",children:u?"Editar Impressora":"Nova Impressora"})}),x.jsx($Y,{"code-path":"src/pages/Printers.tsx:296:15",printer:u,onSave:p,onCancel:()=>{i(!1),d(void 0)}})]})]})]}),x.jsx(ur,{"code-path":"src/pages/Printers.tsx:310:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/Printers.tsx:311:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Printers.tsx:312:11",className:"relative",children:[x.jsx(Lf,{"code-path":"src/pages/Printers.tsx:313:13",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Printers.tsx:314:13",placeholder:"Buscar impressora...",value:t,onChange:S=>r(S.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]})})}),g.length===0?x.jsx(ur,{"code-path":"src/pages/Printers.tsx:326:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Printers.tsx:327:11",className:"p-12 text-center",children:[x.jsx(Ui,{"code-path":"src/pages/Printers.tsx:328:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/Printers.tsx:329:13",className:"text-lg font-medium text-white mb-2",children:"Nenhuma impressora encontrada"}),x.jsx("p",{"code-path":"src/pages/Printers.tsx:330:13",className:"text-slate-400",children:t?"Tente ajustar a busca":"Cadastre sua primeira impressora"})]})}):x.jsx("div",{"code-path":"src/pages/Printers.tsx:336:9",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(S=>{const P=KY[S.status];return x.jsx(ur,{"code-path":"src/pages/Printers.tsx:340:15",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all",children:x.jsx(hr,{"code-path":"src/pages/Printers.tsx:341:17",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Printers.tsx:342:19",className:"flex items-start justify-between",children:[x.jsxs("div",{"code-path":"src/pages/Printers.tsx:343:21",className:"flex-1",children:[x.jsx("div",{"code-path":"src/pages/Printers.tsx:344:23",className:"flex items-center gap-2 mb-2",children:x.jsx("h3",{"code-path":"src/pages/Printers.tsx:345:25",className:"font-medium text-white",children:S.name})}),x.jsxs("p",{"code-path":"src/pages/Printers.tsx:347:23",className:"text-sm text-slate-400",children:[S.brand," ",S.model]}),x.jsx(Qo,{"code-path":"src/pages/Printers.tsx:348:23",variant:"outline",className:`mt-2 ${P.color}`,children:P.label}),x.jsxs("div",{"code-path":"src/pages/Printers.tsx:351:23",className:"mt-3 text-sm text-slate-500",children:[x.jsxs("p",{"code-path":"src/pages/Printers.tsx:352:25",children:["Volume: ",S.buildVolume.x,"",S.buildVolume.y,"",S.buildVolume.z,"mm"]}),x.jsxs("p",{"code-path":"src/pages/Printers.tsx:353:25",children:["Bico: ",S.nozzleDiameter,"mm | R$ ",S.hourlyCost,"/h"]}),S.location&&x.jsxs("p",{"code-path":"src/pages/Printers.tsx:354:46",children:["Local: ",S.location]})]})]}),x.jsxs(Jf,{"code-path":"src/pages/Printers.tsx:357:21",children:[x.jsx(Zf,{"code-path":"src/pages/Printers.tsx:358:23",asChild:!0,children:x.jsx(cn,{"code-path":"src/pages/Printers.tsx:359:25",variant:"ghost",size:"icon",className:"text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/Printers.tsx:360:27",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/Printers.tsx:363:23",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsxs(Es,{"code-path":"src/pages/Printers.tsx:364:25",onClick:()=>I(S),className:"text-slate-300",children:[x.jsx(Tm,{"code-path":"src/pages/Printers.tsx:365:27",className:"w-4 h-4 mr-2"}),"Ver QR Code"]}),x.jsxs(Es,{"code-path":"src/pages/Printers.tsx:368:25",onClick:()=>b(S),className:"text-slate-300",children:[x.jsx(Mh,{"code-path":"src/pages/Printers.tsx:369:27",className:"w-4 h-4 mr-2"}),"Editar"]}),e("printers")&&x.jsxs(Es,{"code-path":"src/pages/Printers.tsx:373:27",onClick:()=>_(S.id),className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/Printers.tsx:374:29",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})})},S.id)})})]})}const g7={PLA:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",ABS:"bg-blue-500/20 text-blue-400 border-blue-500/30",PETG:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",TPU:"bg-purple-500/20 text-purple-400 border-purple-500/30",ASA:"bg-amber-500/20 text-amber-400 border-amber-500/30",PC:"bg-rose-500/20 text-rose-400 border-rose-500/30",Nylon:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",Outro:"bg-slate-500/20 text-slate-400 border-slate-500/30"};function ZY({photos:n,onPhotosChange:e}){const t=s=>{const i=s.target.files;i&&Array.from(i).forEach(u=>{const d=new FileReader;d.onloadend=()=>{const g=d.result;e([...n,g])},d.readAsDataURL(u)})},r=s=>{e(n.filter((i,u)=>u!==s))};return x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:80:5",className:"space-y-3",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:81:7",className:"text-sm text-slate-300",children:"Fotos do Filamento"}),n.length>0&&x.jsx("div",{"code-path":"src/pages/Filaments.tsx:85:9",className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:n.map((s,i)=>x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:87:13",className:"relative aspect-square rounded-lg overflow-hidden bg-slate-700 group",children:[x.jsx("img",{"code-path":"src/pages/Filaments.tsx:88:15",src:s,alt:`Foto ${i+1}`,className:"w-full h-full object-cover"}),x.jsx("button",{"code-path":"src/pages/Filaments.tsx:93:15",type:"button",onClick:()=>r(i),className:"absolute top-1 right-1 w-6 h-6 bg-rose-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(bf,{"code-path":"src/pages/Filaments.tsx:98:17",className:"w-4 h-4"})})]},i))}),x.jsxs("label",{"code-path":"src/pages/Filaments.tsx:106:7",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-600 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-slate-800/50 transition-all",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:107:9",className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x.jsx(Nm,{"code-path":"src/pages/Filaments.tsx:108:11",className:"w-6 h-6 text-slate-400 mb-2"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:109:11",className:"text-xs text-slate-400",children:"Clique para adicionar fotos"})]}),x.jsx("input",{"code-path":"src/pages/Filaments.tsx:111:9",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:t})]})]})}function eX({filament:n,onEdit:e,onDelete:t,onPrintLabel:r}){const{canWrite:s}=bc(),i=n.weightRemaining/n.weightTotal*100,u=n.weightRemaining<200;return x.jsx(ur,{"code-path":"src/pages/Filaments.tsx:136:5",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all group",children:x.jsx(hr,{"code-path":"src/pages/Filaments.tsx:137:7",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:138:9",className:"flex items-start gap-4",children:[n.photos&&n.photos.length>0?x.jsx("div",{"code-path":"src/pages/Filaments.tsx:141:13",className:"w-12 h-12 rounded-xl overflow-hidden flex-shrink-0",children:x.jsx("img",{"code-path":"src/pages/Filaments.tsx:142:15",src:n.photos[0],alt:n.color,className:"w-full h-full object-cover"})}):x.jsx("div",{"code-path":"src/pages/Filaments.tsx:149:13",className:"w-12 h-12 rounded-xl border-2 border-slate-600 flex-shrink-0",style:{backgroundColor:n.colorHex}}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:155:11",className:"flex-1 min-w-0",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:156:13",className:"flex items-start justify-between gap-2",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:157:15",children:[x.jsxs("h3",{"code-path":"src/pages/Filaments.tsx:158:17",className:"font-medium text-white truncate",children:[n.material," - ",n.color]}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:159:17",className:"text-sm text-slate-400",children:n.brand})]}),x.jsxs(Jf,{"code-path":"src/pages/Filaments.tsx:161:15",children:[x.jsx(Zf,{"code-path":"src/pages/Filaments.tsx:162:17",asChild:!0,children:x.jsx(cn,{"code-path":"src/pages/Filaments.tsx:163:19",variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/Filaments.tsx:164:21",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/Filaments.tsx:167:17",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsxs(Es,{"code-path":"src/pages/Filaments.tsx:168:19",onClick:()=>r(n),className:"text-slate-300",children:[x.jsx(Tm,{"code-path":"src/pages/Filaments.tsx:169:21",className:"w-4 h-4 mr-2"}),"Imprimir Etiqueta"]}),s("filaments")&&x.jsxs(x.Fragment,{children:[x.jsxs(Es,{"code-path":"src/pages/Filaments.tsx:174:23",onClick:()=>e(n),className:"text-slate-300",children:[x.jsx(Mh,{"code-path":"src/pages/Filaments.tsx:175:25",className:"w-4 h-4 mr-2"}),"Editar"]}),x.jsxs(Es,{"code-path":"src/pages/Filaments.tsx:178:23",onClick:()=>t(n.id),className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/Filaments.tsx:179:25",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:188:13",className:"flex items-center gap-2 mt-2",children:[x.jsx(Qo,{"code-path":"src/pages/Filaments.tsx:189:15",variant:"outline",className:g7[n.material],children:n.material}),x.jsxs(Qo,{"code-path":"src/pages/Filaments.tsx:192:15",variant:"outline",className:"bg-slate-700/50 text-slate-300 border-slate-600",children:[n.diameter,"mm"]}),n.photos&&n.photos.length>0&&x.jsxs(Qo,{"code-path":"src/pages/Filaments.tsx:196:17",variant:"outline",className:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",children:[x.jsx(n5,{"code-path":"src/pages/Filaments.tsx:197:19",className:"w-3 h-3 mr-1"}),n.photos.length]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:203:13",className:"mt-3",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:204:15",className:"flex items-center justify-between text-sm mb-1",children:[x.jsx("span",{"code-path":"src/pages/Filaments.tsx:205:17",className:"text-slate-400",children:"Estoque"}),x.jsxs("span",{"code-path":"src/pages/Filaments.tsx:206:17",className:`font-medium ${u?"text-rose-400":"text-emerald-400"}`,children:[n.weightRemaining,"g / ",n.weightTotal,"g"]})]}),x.jsx(mb,{"code-path":"src/pages/Filaments.tsx:210:15",value:i,className:`h-2 ${u?"bg-rose-500/20":"bg-slate-700"}`})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:216:13",className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[x.jsxs("span",{"code-path":"src/pages/Filaments.tsx:217:15",className:"flex items-center gap-1",children:[x.jsx(ZC,{"code-path":"src/pages/Filaments.tsx:218:17",className:"w-3 h-3"}),n.location]}),x.jsxs("span",{"code-path":"src/pages/Filaments.tsx:221:15",className:"flex items-center gap-1",children:[x.jsx(Nl,{"code-path":"src/pages/Filaments.tsx:222:17",className:"w-3 h-3"}),"R$ ",n.price.toFixed(2),"/kg"]})]})]})]})})})}function tX({filament:n,onSave:e,onCancel:t}){const[r,s]=H.useState({brand:"",material:"PLA",color:"",colorHex:"#3b82f6",diameter:1.75,weightTotal:1e3,weightRemaining:1e3,spoolWeight:250,location:"",price:110,supplier:"",batchNumber:"",notes:"",status:"available",photos:[],...n}),i=u=>{u.preventDefault(),e({...r,id:n?.id||Math.random().toString(36).substr(2,9),qrCode:n?.qrCode||K8(),createdAt:n?.createdAt||new Date,updatedAt:new Date})};return x.jsxs("form",{"code-path":"src/pages/Filaments.tsx:274:5",onSubmit:i,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsx(ZY,{"code-path":"src/pages/Filaments.tsx:276:7",photos:r.photos||[],onPhotosChange:u=>s({...r,photos:u})}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:281:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:282:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:283:11",className:"text-sm text-slate-300",children:"Material"}),x.jsx("select",{"code-path":"src/pages/Filaments.tsx:284:11",value:r.material,onChange:u=>s({...r,material:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:Object.keys(g7).map(u=>x.jsx("option",{"code-path":"src/pages/Filaments.tsx:290:15",value:u,children:u},u))})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:294:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:295:11",className:"text-sm text-slate-300",children:"Dimetro"}),x.jsxs("select",{"code-path":"src/pages/Filaments.tsx:296:11",value:r.diameter,onChange:u=>s({...r,diameter:Number(u.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Filaments.tsx:301:13",value:1.75,children:"1.75mm"}),x.jsx("option",{"code-path":"src/pages/Filaments.tsx:302:13",value:2.85,children:"2.85mm"}),x.jsx("option",{"code-path":"src/pages/Filaments.tsx:303:13",value:3,children:"3.0mm"})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:308:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:309:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:310:11",className:"text-sm text-slate-300",children:"Cor"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:311:11",value:r.color,onChange:u=>s({...r,color:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Azul"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:318:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:319:11",className:"text-sm text-slate-300",children:"Cor (Hex)"}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:320:11",className:"flex gap-2",children:[x.jsx(It,{"code-path":"src/pages/Filaments.tsx:321:13",type:"color",value:r.colorHex,onChange:u=>s({...r,colorHex:u.target.value}),className:"w-12 h-10 p-1 bg-slate-800 border-slate-700"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:327:13",value:r.colorHex,onChange:u=>s({...r,colorHex:u.target.value}),className:"flex-1 bg-slate-800 border-slate-700 text-white"})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:336:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:337:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:338:11",className:"text-sm text-slate-300",children:"Marca"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:339:11",value:r.brand,onChange:u=>s({...r,brand:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Voolt3D"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:346:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:347:11",className:"text-sm text-slate-300",children:"Preo/kg (R$)"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:348:11",type:"number",value:r.price,onChange:u=>s({...r,price:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:357:7",className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:358:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:359:11",className:"text-sm text-slate-300",children:"Peso Total (g)"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:360:11",type:"number",value:r.weightTotal,onChange:u=>s({...r,weightTotal:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:367:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:368:11",className:"text-sm text-slate-300",children:"Peso Restante (g)"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:369:11",type:"number",value:r.weightRemaining,onChange:u=>s({...r,weightRemaining:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:376:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:377:11",className:"text-sm text-slate-300",children:"Peso Carretel (g)"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:378:11",type:"number",value:r.spoolWeight,onChange:u=>s({...r,spoolWeight:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:387:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:388:9",className:"text-sm text-slate-300",children:"Localizao"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:389:9",value:r.location,onChange:u=>s({...r,location:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Prateleira A1"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:397:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Filaments.tsx:398:9",className:"text-sm text-slate-300",children:"Observaes"}),x.jsx("textarea",{"code-path":"src/pages/Filaments.tsx:399:9",value:r.notes,onChange:u=>s({...r,notes:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:406:7",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/Filaments.tsx:407:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:n?"Atualizar":"Cadastrar"}),x.jsx(cn,{"code-path":"src/pages/Filaments.tsx:410:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function nX(){const n=Xh(),{filaments:e,searchQuery:t,filterMaterial:r,filterLocation:s,setSearchQuery:i,setFilterMaterial:u,setFilterLocation:d,isLoading:g}=Qf(),{canWrite:p}=bc(),[b,_]=H.useState(!1),[I,S]=H.useState(),[P,k]=H.useState(null);o2();const M=H.useMemo(()=>{const U=new Set(e.map(F=>F.material));return["all",...Array.from(U)]},[e]),j=H.useMemo(()=>{const U=new Set(e.map(F=>F.location));return["all",...Array.from(U)]},[e]),J=H.useMemo(()=>e.filter(U=>{const F=U.material.toLowerCase().includes(t.toLowerCase())||U.color.toLowerCase().includes(t.toLowerCase())||U.brand.toLowerCase().includes(t.toLowerCase())||U.location.toLowerCase().includes(t.toLowerCase()),te=r==="all"||U.material===r,z=s==="all"||U.location===s;return F&&te&&z}),[e,t,r,s]),Z=async U=>{try{I?await M8(U):await k8(U),_(!1),S(void 0)}catch(F){console.error("Erro ao salvar filamento:",F),alert("Erro ao salvar filamento. Tente novamente.")}},ee=U=>{S(U),_(!0)},we=async U=>{if(confirm("Tem certeza que deseja excluir este filamento?"))try{await j8(U)}catch(F){console.error("Erro ao excluir filamento:",F),alert("Erro ao excluir filamento. Tente novamente.")}},Re=U=>{alert(`Etiqueta para ${U.material} - ${U.color}
QR Code: ${U.qrCode}`)},Y=e.filter(U=>U.weightRemaining<200).length;return x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:492:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:494:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:495:9",children:[x.jsx("h1",{"code-path":"src/pages/Filaments.tsx:496:11",className:"text-2xl font-bold text-white",children:"Estoque de Filamentos"}),x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:497:11",className:"text-slate-400",children:[e.length," filamentos cadastrados"]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:499:9",className:"flex gap-2",children:[x.jsxs(cn,{"code-path":"src/pages/Filaments.tsx:500:11",variant:"outline",onClick:()=>n("/filaments/scan"),className:"border-slate-600",children:[x.jsx(tS,{"code-path":"src/pages/Filaments.tsx:505:13",className:"w-4 h-4 mr-2"}),"Scan"]}),p("filaments")&&x.jsxs(ol,{"code-path":"src/pages/Filaments.tsx:509:13",open:b,onOpenChange:_,children:[x.jsx(q0,{"code-path":"src/pages/Filaments.tsx:510:15",asChild:!0,children:x.jsxs(cn,{"code-path":"src/pages/Filaments.tsx:511:17",className:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>S(void 0),children:[x.jsx($c,{"code-path":"src/pages/Filaments.tsx:515:19",className:"w-4 h-4 mr-2"}),"Novo Filamento"]})}),x.jsxs(ll,{"code-path":"src/pages/Filaments.tsx:519:15",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Filaments.tsx:520:17",children:x.jsx(ul,{"code-path":"src/pages/Filaments.tsx:521:19",className:"text-white",children:I?"Editar Filamento":"Novo Filamento"})}),x.jsx(tX,{"code-path":"src/pages/Filaments.tsx:525:17",filament:I,onSave:Z,onCancel:()=>{_(!1),S(void 0)}})]})]})]})]}),Y>0&&x.jsx(ur,{"code-path":"src/pages/Filaments.tsx:541:9",className:"bg-rose-500/10 border-rose-500/30",children:x.jsxs(hr,{"code-path":"src/pages/Filaments.tsx:542:11",className:"p-4 flex items-center gap-4",children:[x.jsx(sS,{"code-path":"src/pages/Filaments.tsx:543:13",className:"w-5 h-5 text-rose-400"}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:544:13",children:[x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:545:15",className:"font-medium text-rose-400",children:[Y," filamentos com estoque baixo"]}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:546:15",className:"text-sm text-rose-300/80",children:"Considere repor o estoque"})]})]})}),x.jsx(ur,{"code-path":"src/pages/Filaments.tsx:553:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/Filaments.tsx:554:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:555:11",className:"flex flex-col sm:flex-row gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:556:13",className:"relative flex-1",children:[x.jsx(Lf,{"code-path":"src/pages/Filaments.tsx:557:15",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Filaments.tsx:558:15",placeholder:"Buscar filamento...",value:t,onChange:U=>i(U.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:565:13",className:"flex gap-2",children:[x.jsxs("select",{"code-path":"src/pages/Filaments.tsx:566:15",value:r,onChange:U=>u(U.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm",children:[x.jsx("option",{"code-path":"src/pages/Filaments.tsx:571:17",value:"all",children:"Todos Materiais"}),M.filter(U=>U!=="all").map(U=>x.jsx("option",{"code-path":"src/pages/Filaments.tsx:573:19",value:U,children:U},U))]}),x.jsxs("select",{"code-path":"src/pages/Filaments.tsx:576:15",value:s,onChange:U=>d(U.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm",children:[x.jsx("option",{"code-path":"src/pages/Filaments.tsx:581:17",value:"all",children:"Todas Localizaes"}),j.filter(U=>U!=="all").map(U=>x.jsx("option",{"code-path":"src/pages/Filaments.tsx:583:19",value:U,children:U},U))]})]})]})})}),J.length===0?x.jsx(ur,{"code-path":"src/pages/Filaments.tsx:593:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Filaments.tsx:594:11",className:"p-12 text-center",children:[x.jsx(Nl,{"code-path":"src/pages/Filaments.tsx:595:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/Filaments.tsx:596:13",className:"text-lg font-medium text-white mb-2",children:"Nenhum filamento encontrado"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:597:13",className:"text-slate-400 mb-4",children:t?"Tente ajustar os filtros de busca":"Cadastre seu primeiro filamento"}),p("filaments")&&!t&&x.jsxs(cn,{"code-path":"src/pages/Filaments.tsx:601:15",onClick:()=>_(!0),className:"bg-indigo-500 hover:bg-indigo-600",children:[x.jsx($c,{"code-path":"src/pages/Filaments.tsx:602:17",className:"w-4 h-4 mr-2"}),"Cadastrar Filamento"]})]})}):x.jsx("div",{"code-path":"src/pages/Filaments.tsx:609:9",className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:J.map(U=>x.jsx("div",{"code-path":"src/pages/Filaments.tsx:611:13",onClick:()=>k(U),className:"cursor-pointer",children:x.jsx(eX,{"code-path":"src/pages/Filaments.tsx:612:15",filament:U,onEdit:F=>{ee(F)},onDelete:we,onPrintLabel:Re})},U.id))}),x.jsx(ol,{"code-path":"src/pages/Filaments.tsx:626:7",open:!!P,onOpenChange:()=>k(null),children:x.jsxs(ll,{"code-path":"src/pages/Filaments.tsx:627:9",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Filaments.tsx:628:11",children:x.jsxs(ul,{"code-path":"src/pages/Filaments.tsx:629:13",className:"text-white",children:[P?.material," - ",P?.color]})}),P&&x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:634:13",className:"space-y-4",children:[P.photos&&P.photos.length>0&&x.jsx("div",{"code-path":"src/pages/Filaments.tsx:637:17",className:"grid grid-cols-3 gap-2",children:P.photos.map((U,F)=>x.jsx("div",{"code-path":"src/pages/Filaments.tsx:639:21",className:"aspect-square rounded-lg overflow-hidden bg-slate-700",children:x.jsx("img",{"code-path":"src/pages/Filaments.tsx:640:23",src:U,alt:`Foto ${F+1}`,className:"w-full h-full object-cover"})},F))}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:646:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:647:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:648:19",className:"text-sm text-slate-500",children:"Marca"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:649:19",className:"text-white",children:P.brand})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:651:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:652:19",className:"text-sm text-slate-500",children:"Material"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:653:19",className:"text-white",children:P.material})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:655:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:656:19",className:"text-sm text-slate-500",children:"Dimetro"}),x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:657:19",className:"text-white",children:[P.diameter,"mm"]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:659:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:660:19",className:"text-sm text-slate-500",children:"Preo/kg"}),x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:661:19",className:"text-white",children:["R$ ",P.price.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:663:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:664:19",className:"text-sm text-slate-500",children:"Peso Total"}),x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:665:19",className:"text-white",children:[P.weightTotal,"g"]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:667:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:668:19",className:"text-sm text-slate-500",children:"Peso Restante"}),x.jsxs("p",{"code-path":"src/pages/Filaments.tsx:669:19",className:P.weightRemaining<200?"text-rose-400":"text-emerald-400",children:[P.weightRemaining,"g"]})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:673:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:674:19",className:"text-sm text-slate-500",children:"Localizao"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:675:19",className:"text-white",children:P.location})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:677:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:678:19",className:"text-sm text-slate-500",children:"QR Code"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:679:19",className:"text-xs text-slate-400 font-mono",children:P.qrCode})]})]}),P.notes&&x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:684:17",children:[x.jsx("p",{"code-path":"src/pages/Filaments.tsx:685:19",className:"text-sm text-slate-500",children:"Observaes"}),x.jsx("p",{"code-path":"src/pages/Filaments.tsx:686:19",className:"text-slate-300",children:P.notes})]}),x.jsxs("div",{"code-path":"src/pages/Filaments.tsx:690:15",className:"flex gap-2 pt-4",children:[x.jsxs(cn,{"code-path":"src/pages/Filaments.tsx:691:17",onClick:()=>{k(null),ee(P)},className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:[x.jsx(Mh,{"code-path":"src/pages/Filaments.tsx:698:19",className:"w-4 h-4 mr-2"}),"Editar"]}),x.jsxs(cn,{"code-path":"src/pages/Filaments.tsx:701:17",variant:"outline",onClick:()=>Re(P),className:"border-slate-600",children:[x.jsx(Tm,{"code-path":"src/pages/Filaments.tsx:706:19",className:"w-4 h-4 mr-2"}),"Etiqueta"]})]})]})]})})]})}var Qt;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qt||(Qt={}));var GA=new Map([[Qt.QR_CODE,"QR_CODE"],[Qt.AZTEC,"AZTEC"],[Qt.CODABAR,"CODABAR"],[Qt.CODE_39,"CODE_39"],[Qt.CODE_93,"CODE_93"],[Qt.CODE_128,"CODE_128"],[Qt.DATA_MATRIX,"DATA_MATRIX"],[Qt.MAXICODE,"MAXICODE"],[Qt.ITF,"ITF"],[Qt.EAN_13,"EAN_13"],[Qt.EAN_8,"EAN_8"],[Qt.PDF_417,"PDF_417"],[Qt.RSS_14,"RSS_14"],[Qt.RSS_EXPANDED,"RSS_EXPANDED"],[Qt.UPC_A,"UPC_A"],[Qt.UPC_E,"UPC_E"],[Qt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),WA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(WA||(WA={}));function rX(n){return Object.values(Qt).includes(n)}var gm;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(gm||(gm={}));var sX=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[gm.SCAN_TYPE_CAMERA,gm.SCAN_TYPE_FILE],n})(),m7=(function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!GA.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,GA.get(e))},n})(),YA=(function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n})(),Nv;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nv||(Nv={}));var aX=(function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:Nv.UNKWOWN_ERROR}},n})(),iX=(function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n})();function Hc(n){return typeof n>"u"||n===null}var nf=(function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),x7=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),u=Object.keys(e),d=0,g=u;d<g.length;d++){var p=g[d];if(i.has(p))return t.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},n})(),Q1={exports:{}},oX=Q1.exports,XA;function lX(){return XA||(XA=1,(function(n,e){(function(t,r){r(e)})(oX,(function(t){function r(re){return re==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,o){re.__proto__=o}||function(re,o){for(var c in o)o.hasOwnProperty(c)&&(re[c]=o[c])};function i(re,o){s(re,o);function c(){this.constructor=re}re.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}function u(re,o){var c=Object.setPrototypeOf;c?c(re,o):re.__proto__=o}function d(re,o){o===void 0&&(o=re.constructor);var c=Error.captureStackTrace;c&&c(re,o)}var g=(function(re){i(o,re);function o(c){var h=this.constructor,m=re.call(this,c)||this;return Object.defineProperty(m,"name",{value:h.name,enumerable:!1}),u(m,h.prototype),d(m),m}return o})(Error);class p extends g{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}p.kind="Exception";class b extends p{}b.kind="ArgumentException";class _ extends p{}_.kind="IllegalArgumentException";class I{constructor(o){if(this.binarizer=o,o===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,c){return this.binarizer.getBlackRow(o,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,c,h,m){const y=this.binarizer.getLuminanceSource().crop(o,c,h,m);return new I(this.binarizer.createBinarizer(y))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends p{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class P{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(o,c,h,m,y){for(;y--;)h[m++]=o[c++]}static currentTimeMillis(){return Date.now()}}class M extends p{}M.kind="IndexOutOfBoundsException";class j extends M{constructor(o=void 0,c=void 0){super(c),this.index=o,this.message=c}}j.kind="ArrayIndexOutOfBoundsException";class J{static fill(o,c){for(let h=0,m=o.length;h<m;h++)o[h]=c}static fillWithin(o,c,h,m){J.rangeCheck(o.length,c,h);for(let y=c;y<h;y++)o[y]=m}static rangeCheck(o,c,h){if(c>h)throw new _("fromIndex("+c+") > toIndex("+h+")");if(c<0)throw new j(c);if(h>o)throw new j(h)}static asList(...o){return o}static create(o,c,h){return Array.from({length:o}).map(y=>Array.from({length:c}).fill(h))}static createInt32Array(o,c,h){return Array.from({length:o}).map(y=>Int32Array.from({length:c}).fill(h))}static equals(o,c){if(!o||!c||!o.length||!c.length||o.length!==c.length)return!1;for(let h=0,m=o.length;h<m;h++)if(o[h]!==c[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let c=1;for(const h of o)c=31*c+h;return c}static fillUint8Array(o,c){for(let h=0;h!==o.length;h++)o[h]=c}static copyOf(o,c){return o.slice(0,c)}static copyOfUint8Array(o,c){if(o.length<=c){const h=new Uint8Array(c);return h.set(o),h}return o.slice(0,c)}static copyOfRange(o,c,h){const m=h-c,y=new Int32Array(m);return k.arraycopy(o,c,y,0,m),y}static binarySearch(o,c,h){h===void 0&&(h=J.numberComparator);let m=0,y=o.length-1;for(;m<=y;){const w=y+m>>1,C=h(c,o[w]);if(C>0)m=w+1;else if(C<0)y=w-1;else return w}return-m-1}static numberComparator(o,c){return o-c}}class Z{static numberOfTrailingZeros(o){let c;if(o===0)return 32;let h=31;return c=o<<16,c!==0&&(h-=16,o=c),c=o<<8,c!==0&&(h-=8,o=c),c=o<<4,c!==0&&(h-=4,o=c),c=o<<2,c!==0&&(h-=2,o=c),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let c=1;return o>>>16||(c+=16,o<<=16),o>>>24||(c+=8,o<<=8),o>>>28||(c+=4,o<<=4),o>>>30||(c+=2,o<<=2),c-=o>>>31,c}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,c){return Math.trunc(o/c)}static parseInt(o,c=void 0){return parseInt(o,c)}}Z.MIN_VALUE_32_BITS=-2147483648,Z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(o,c){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,c==null?this.bits=ee.makeArray(o):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const c=ee.makeArray(o);k.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const c=this.size;if(o>=c)return c;const h=this.bits;let m=Math.floor(o/32),y=h[m];y&=~((1<<(o&31))-1);const w=h.length;for(;y===0;){if(++m===w)return c;y=h[m]}const C=m*32+Z.numberOfTrailingZeros(y);return C>c?c:C}getNextUnset(o){const c=this.size;if(o>=c)return c;const h=this.bits;let m=Math.floor(o/32),y=~h[m];y&=~((1<<(o&31))-1);const w=h.length;for(;y===0;){if(++m===w)return c;y=~h[m]}const C=m*32+Z.numberOfTrailingZeros(y);return C>c?c:C}setBulk(o,c){this.bits[Math.floor(o/32)]=c}setRange(o,c){if(c<o||o<0||c>this.size)throw new _;if(c===o)return;c--;const h=Math.floor(o/32),m=Math.floor(c/32),y=this.bits;for(let w=h;w<=m;w++){const C=w>h?0:o&31,L=(2<<(w<m?31:c&31))-(1<<C);y[w]|=L}}clear(){const o=this.bits.length,c=this.bits;for(let h=0;h<o;h++)c[h]=0}isRange(o,c,h){if(c<o||o<0||c>this.size)throw new _;if(c===o)return!0;c--;const m=Math.floor(o/32),y=Math.floor(c/32),w=this.bits;for(let C=m;C<=y;C++){const R=C>m?0:o&31,G=(2<<(C<y?31:c&31))-(1<<R)&4294967295;if((w[C]&G)!==(h?G:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,c){if(c<0||c>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let h=c;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const c=o.size;this.ensureCapacity(this.size+c);for(let h=0;h<c;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new _("Sizes don't match");const c=this.bits;for(let h=0,m=c.length;h<m;h++)c[h]^=o.bits[h]}toBytes(o,c,h,m){for(let y=0;y<m;y++){let w=0;for(let C=0;C<8;C++)this.get(o)&&(w|=1<<7-C),o++;c[h+y]=w}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),h=c+1,m=this.bits;for(let y=0;y<h;y++){let w=m[y];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,o[c-y]=w}if(this.size!==h*32){const y=h*32-this.size;let w=o[0]>>>y;for(let C=1;C<h;C++){const R=o[C];w|=R<<32-y,o[C-1]=w,w=R>>>y}o[h-1]=w}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof ee))return!1;const c=o;return this.size===c.size&&J.equals(this.bits,c.bits)}hashCode(){return 31*this.size+J.hashCode(this.bits)}toString(){let o="";for(let c=0,h=this.size;c<h;c++)(c&7)===0&&(o+=" "),o+=this.get(c)?"X":".";return o}clone(){return new ee(this.size,this.bits.slice())}}var we;(function(re){re[re.OTHER=0]="OTHER",re[re.PURE_BARCODE=1]="PURE_BARCODE",re[re.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",re[re.TRY_HARDER=3]="TRY_HARDER",re[re.CHARACTER_SET=4]="CHARACTER_SET",re[re.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",re[re.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",re[re.ASSUME_GS1=7]="ASSUME_GS1",re[re.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",re[re.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",re[re.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(we||(we={}));var Re=we;class Y extends p{static getFormatInstance(){return new Y}}Y.kind="FormatException";var U;(function(re){re[re.Cp437=0]="Cp437",re[re.ISO8859_1=1]="ISO8859_1",re[re.ISO8859_2=2]="ISO8859_2",re[re.ISO8859_3=3]="ISO8859_3",re[re.ISO8859_4=4]="ISO8859_4",re[re.ISO8859_5=5]="ISO8859_5",re[re.ISO8859_6=6]="ISO8859_6",re[re.ISO8859_7=7]="ISO8859_7",re[re.ISO8859_8=8]="ISO8859_8",re[re.ISO8859_9=9]="ISO8859_9",re[re.ISO8859_10=10]="ISO8859_10",re[re.ISO8859_11=11]="ISO8859_11",re[re.ISO8859_13=12]="ISO8859_13",re[re.ISO8859_14=13]="ISO8859_14",re[re.ISO8859_15=14]="ISO8859_15",re[re.ISO8859_16=15]="ISO8859_16",re[re.SJIS=16]="SJIS",re[re.Cp1250=17]="Cp1250",re[re.Cp1251=18]="Cp1251",re[re.Cp1252=19]="Cp1252",re[re.Cp1256=20]="Cp1256",re[re.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",re[re.UTF8=22]="UTF8",re[re.ASCII=23]="ASCII",re[re.Big5=24]="Big5",re[re.GB18030=25]="GB18030",re[re.EUC_KR=26]="EUC_KR"})(U||(U={}));class F{constructor(o,c,h,...m){this.valueIdentifier=o,this.name=h,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=m,F.VALUE_IDENTIFIER_TO_ECI.set(o,this),F.NAME_TO_ECI.set(h,this);const y=this.values;for(let w=0,C=y.length;w!==C;w++){const R=y[w];F.VALUES_TO_ECI.set(R,this)}for(const w of m)F.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new Y("incorect value");const c=F.VALUES_TO_ECI.get(o);if(c===void 0)throw new Y("incorect value");return c}static getCharacterSetECIByName(o){const c=F.NAME_TO_ECI.get(o);if(c===void 0)throw new Y("incorect value");return c}equals(o){if(!(o instanceof F))return!1;const c=o;return this.getName()===c.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(U.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(U.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(U.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(U.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(U.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(U.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(U.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(U.Big5,28,"Big5"),F.GB18030=new F(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(U.EUC_KR,30,"EUC_KR","EUC-KR");class te extends p{}te.kind="UnsupportedOperationException";class z{static decode(o,c){const h=this.encodingName(c);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!z.isBrowser()&&o==="ISO-8859-1"}static encode(o,c){const h=this.encodingName(c);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof F?o:F.getCharacterSetECIByName(o)}static decodeFallback(o,c){const h=this.encodingCharacterSet(c);if(z.isDecodeFallbackSupported(h)){let m="";for(let y=0,w=o.length;y<w;y++){let C=o[y].toString(16);C.length<2&&(C="0"+C),m+="%"+C}return decodeURIComponent(m)}if(h.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new te(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(F.UTF8)||o.equals(F.ISO8859_1)||o.equals(F.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),m=[];for(let y=0;y<h.length;y++)m.push(h[y].charCodeAt(0));return new Uint8Array(m)}}class q{static castAsNonUtf8Char(o,c=null){const h=c?c.getName():this.ISO88591;return z.decode(new Uint8Array([o]),h)}static guessEncoding(o,c){if(c!=null&&c.get(Re.CHARACTER_SET)!==void 0)return c.get(Re.CHARACTER_SET).toString();const h=o.length;let m=!0,y=!0,w=!0,C=0,R=0,L=0,G=0,se=0,ie=0,Ee=0,Pe=0,Me=0,Ve=0,Ze=0;const dt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ft=0;ft<h&&(m||y||w);ft++){const ht=o[ft]&255;w&&(C>0?(ht&128)===0?w=!1:C--:(ht&128)!==0&&((ht&64)===0?w=!1:(C++,(ht&32)===0?R++:(C++,(ht&16)===0?L++:(C++,(ht&8)===0?G++:w=!1))))),m&&(ht>127&&ht<160?m=!1:ht>159&&(ht<192||ht===215||ht===247)&&Ze++),y&&(se>0?ht<64||ht===127||ht>252?y=!1:se--:ht===128||ht===160||ht>239?y=!1:ht>160&&ht<224?(ie++,Pe=0,Ee++,Ee>Me&&(Me=Ee)):ht>127?(se++,Ee=0,Pe++,Pe>Ve&&(Ve=Pe)):(Ee=0,Pe=0))}return w&&C>0&&(w=!1),y&&se>0&&(y=!1),w&&(dt||R+L+G>0)?q.UTF8:y&&(q.ASSUME_SHIFT_JIS||Me>=3||Ve>=3)?q.SHIFT_JIS:m&&y?Me===2&&ie===2||Ze*10>=h?q.SHIFT_JIS:q.ISO88591:m?q.ISO88591:y?q.SHIFT_JIS:w?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(o,...c){let h=-1;function m(w,C,R,L,G,se){if(w==="%%")return"%";if(c[++h]===void 0)return;w=L?parseInt(L.substr(1)):void 0;let ie=G?parseInt(G.substr(1)):void 0,Ee;switch(se){case"s":Ee=c[h];break;case"c":Ee=c[h][0];break;case"f":Ee=parseFloat(c[h]).toFixed(w);break;case"p":Ee=parseFloat(c[h]).toPrecision(w);break;case"e":Ee=parseFloat(c[h]).toExponential(w);break;case"x":Ee=parseInt(c[h]).toString(ie||16);break;case"d":Ee=parseFloat(parseInt(c[h],ie||10).toPrecision(w)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(ie);let Pe=parseInt(R),Me=R&&R[0]+""=="0"?"0":" ";for(;Ee.length<Pe;)Ee=C!==void 0?Ee+Me:Me+Ee;return Ee}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,m)}static getBytes(o,c){return z.encode(o,c)}static getCharCode(o,c=0){return o.charCodeAt(c)}static getCharAt(o){return String.fromCharCode(o)}}q.SHIFT_JIS=F.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=F.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=F.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class X{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=q.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,c,h){for(let m=c;c<c+h;m++)this.append(o[m]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+1)}substring(o,c){return this.value.substring(o,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,c){this.value=this.value.substr(0,o)+c+this.value.substr(o+c.length)}}class be{constructor(o,c,h,m){if(this.width=o,this.height=c,this.rowSize=h,this.bits=m,c==null&&(c=o),this.height=c,o<1||c<1)throw new _("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const c=o.length,h=o[0].length,m=new be(h,c);for(let y=0;y<c;y++){const w=o[y];for(let C=0;C<h;C++)w[C]&&m.set(C,y)}return m}static parseFromString(o,c,h){if(o===null)throw new _("stringRepresentation cannot be null");const m=new Array(o.length);let y=0,w=0,C=-1,R=0,L=0;for(;L<o.length;)if(o.charAt(L)===`
`||o.charAt(L)==="\r"){if(y>w){if(C===-1)C=y-w;else if(y-w!==C)throw new _("row lengths do not match");w=y,R++}L++}else if(o.substring(L,L+c.length)===c)L+=c.length,m[y]=!0,y++;else if(o.substring(L,L+h.length)===h)L+=h.length,m[y]=!1,y++;else throw new _("illegal character encountered: "+o.substring(L));if(y>w){if(C===-1)C=y-w;else if(y-w!==C)throw new _("row lengths do not match");R++}const G=new be(C,R);for(let se=0;se<y;se++)m[se]&&G.set(Math.floor(se%C),Math.floor(se/C));return G}get(o,c){const h=c*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,c){const h=c*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new _("input matrix dimensions do not match");const c=new ee(Math.floor(this.width/32)+1),h=this.rowSize,m=this.bits;for(let y=0,w=this.height;y<w;y++){const C=y*h,R=o.getRow(y,c).getBitArray();for(let L=0;L<h;L++)m[C+L]^=R[L]}}clear(){const o=this.bits,c=o.length;for(let h=0;h<c;h++)o[h]=0}setRegion(o,c,h,m){if(c<0||o<0)throw new _("Left and top must be nonnegative");if(m<1||h<1)throw new _("Height and width must be at least 1");const y=o+h,w=c+m;if(w>this.height||y>this.width)throw new _("The region must fit inside the matrix");const C=this.rowSize,R=this.bits;for(let L=c;L<w;L++){const G=L*C;for(let se=o;se<y;se++)R[G+Math.floor(se/32)]|=1<<(se&31)&4294967295}}getRow(o,c){c==null||c.getSize()<this.width?c=new ee(this.width):c.clear();const h=this.rowSize,m=this.bits,y=o*h;for(let w=0;w<h;w++)c.setBulk(w*32,m[y+w]);return c}setRow(o,c){k.arraycopy(c.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),c=this.getHeight();let h=new ee(o),m=new ee(o);for(let y=0,w=Math.floor((c+1)/2);y<w;y++)h=this.getRow(y,h),m=this.getRow(c-1-y,m),h.reverse(),m.reverse(),this.setRow(y,m),this.setRow(c-1-y,h)}getEnclosingRectangle(){const o=this.width,c=this.height,h=this.rowSize,m=this.bits;let y=o,w=c,C=-1,R=-1;for(let L=0;L<c;L++)for(let G=0;G<h;G++){const se=m[L*h+G];if(se!==0){if(L<w&&(w=L),L>R&&(R=L),G*32<y){let ie=0;for(;(se<<31-ie&4294967295)===0;)ie++;G*32+ie<y&&(y=G*32+ie)}if(G*32+31>C){let ie=31;for(;!(se>>>ie);)ie--;G*32+ie>C&&(C=G*32+ie)}}}return C<y||R<w?null:Int32Array.from([y,w,C-y+1,R-w+1])}getTopLeftOnBit(){const o=this.rowSize,c=this.bits;let h=0;for(;h<c.length&&c[h]===0;)h++;if(h===c.length)return null;const m=h/o;let y=h%o*32;const w=c[h];let C=0;for(;(w<<31-C&4294967295)===0;)C++;return y+=C,Int32Array.from([y,m])}getBottomRightOnBit(){const o=this.rowSize,c=this.bits;let h=c.length-1;for(;h>=0&&c[h]===0;)h--;if(h<0)return null;const m=Math.floor(h/o);let y=Math.floor(h%o)*32;const w=c[h];let C=31;for(;!(w>>>C);)C--;return y+=C,Int32Array.from([y,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof be))return!1;const c=o;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&J.equals(this.bits,c.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+J.hashCode(this.bits),o}toString(o="X ",c="  ",h=`
`){return this.buildToString(o,c,h)}buildToString(o,c,h){let m=new X;for(let y=0,w=this.height;y<w;y++){for(let C=0,R=this.width;C<R;C++)m.append(this.get(C,y)?o:c);m.append(h)}return m.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class pe extends p{static getNotFoundInstance(){return new pe}}pe.kind="NotFoundException";class ge extends P{constructor(o){super(o),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(o,c){const h=this.getLuminanceSource(),m=h.getWidth();c==null||c.getSize()<m?c=new ee(m):c.clear(),this.initArrays(m);const y=h.getRow(o,this.luminances),w=this.buckets;for(let R=0;R<m;R++)w[(y[R]&255)>>ge.LUMINANCE_SHIFT]++;const C=ge.estimateBlackPoint(w);if(m<3)for(let R=0;R<m;R++)(y[R]&255)<C&&c.set(R);else{let R=y[0]&255,L=y[1]&255;for(let G=1;G<m-1;G++){const se=y[G+1]&255;(L*4-R-se)/2<C&&c.set(G),R=L,L=se}}return c}getBlackMatrix(){const o=this.getLuminanceSource(),c=o.getWidth(),h=o.getHeight(),m=new be(c,h);this.initArrays(c);const y=this.buckets;for(let R=1;R<5;R++){const L=Math.floor(h*R/5),G=o.getRow(L,this.luminances),se=Math.floor(c*4/5);for(let ie=Math.floor(c/5);ie<se;ie++){const Ee=G[ie]&255;y[Ee>>ge.LUMINANCE_SHIFT]++}}const w=ge.estimateBlackPoint(y),C=o.getMatrix();for(let R=0;R<h;R++){const L=R*c;for(let G=0;G<c;G++)(C[L+G]&255)<w&&m.set(G,R)}return m}createBinarizer(o){return new ge(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const c=this.buckets;for(let h=0;h<ge.LUMINANCE_BUCKETS;h++)c[h]=0}static estimateBlackPoint(o){const c=o.length;let h=0,m=0,y=0;for(let G=0;G<c;G++)o[G]>y&&(m=G,y=o[G]),o[G]>h&&(h=o[G]);let w=0,C=0;for(let G=0;G<c;G++){const se=G-m,ie=o[G]*se*se;ie>C&&(w=G,C=ie)}if(m>w){const G=m;m=w,w=G}if(w-m<=c/16)throw new pe;let R=w-1,L=-1;for(let G=w-1;G>m;G--){const se=G-m,ie=se*se*(w-G)*(h-o[G]);ie>L&&(R=G,L=ie)}return R<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class Se extends ge{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),c=o.getWidth(),h=o.getHeight();if(c>=Se.MINIMUM_DIMENSION&&h>=Se.MINIMUM_DIMENSION){const m=o.getMatrix();let y=c>>Se.BLOCK_SIZE_POWER;(c&Se.BLOCK_SIZE_MASK)!==0&&y++;let w=h>>Se.BLOCK_SIZE_POWER;(h&Se.BLOCK_SIZE_MASK)!==0&&w++;const C=Se.calculateBlackPoints(m,y,w,c,h),R=new be(c,h);Se.calculateThresholdForBlock(m,y,w,c,h,C,R),this.matrix=R}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Se(o)}static calculateThresholdForBlock(o,c,h,m,y,w,C){const R=y-Se.BLOCK_SIZE,L=m-Se.BLOCK_SIZE;for(let G=0;G<h;G++){let se=G<<Se.BLOCK_SIZE_POWER;se>R&&(se=R);const ie=Se.cap(G,2,h-3);for(let Ee=0;Ee<c;Ee++){let Pe=Ee<<Se.BLOCK_SIZE_POWER;Pe>L&&(Pe=L);const Me=Se.cap(Ee,2,c-3);let Ve=0;for(let dt=-2;dt<=2;dt++){const ft=w[ie+dt];Ve+=ft[Me-2]+ft[Me-1]+ft[Me]+ft[Me+1]+ft[Me+2]}const Ze=Ve/25;Se.thresholdBlock(o,Pe,se,Ze,m,C)}}}static cap(o,c,h){return o<c?c:o>h?h:o}static thresholdBlock(o,c,h,m,y,w){for(let C=0,R=h*y+c;C<Se.BLOCK_SIZE;C++,R+=y)for(let L=0;L<Se.BLOCK_SIZE;L++)(o[R+L]&255)<=m&&w.set(c+L,h+C)}static calculateBlackPoints(o,c,h,m,y){const w=y-Se.BLOCK_SIZE,C=m-Se.BLOCK_SIZE,R=new Array(h);for(let L=0;L<h;L++){R[L]=new Int32Array(c);let G=L<<Se.BLOCK_SIZE_POWER;G>w&&(G=w);for(let se=0;se<c;se++){let ie=se<<Se.BLOCK_SIZE_POWER;ie>C&&(ie=C);let Ee=0,Pe=255,Me=0;for(let Ze=0,dt=G*m+ie;Ze<Se.BLOCK_SIZE;Ze++,dt+=m){for(let ft=0;ft<Se.BLOCK_SIZE;ft++){const ht=o[dt+ft]&255;Ee+=ht,ht<Pe&&(Pe=ht),ht>Me&&(Me=ht)}if(Me-Pe>Se.MIN_DYNAMIC_RANGE)for(Ze++,dt+=m;Ze<Se.BLOCK_SIZE;Ze++,dt+=m)for(let ft=0;ft<Se.BLOCK_SIZE;ft++)Ee+=o[dt+ft]&255}let Ve=Ee>>Se.BLOCK_SIZE_POWER*2;if(Me-Pe<=Se.MIN_DYNAMIC_RANGE&&(Ve=Pe/2,L>0&&se>0)){const Ze=(R[L-1][se]+2*R[L][se-1]+R[L-1][se-1])/4;Pe<Ze&&(Ve=Ze)}R[L][se]=Ve}}return R}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class ye{constructor(o,c){this.width=o,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,c,h,m){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let c=new X;for(let h=0;h<this.height;h++){const m=this.getRow(h,o);for(let y=0;y<this.width;y++){const w=m[y]&255;let C;w<64?C="#":w<128?C="+":w<192?C=".":C=" ",c.append(C)}c.append(`
`)}return c.toString()}}class De extends ye{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,c){const h=this.delegate.getRow(o,c),m=this.getWidth();for(let y=0;y<m;y++)h[y]=255-(h[y]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(c);for(let m=0;m<c;m++)h[m]=255-(o[m]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,c,h,m){return new De(this.delegate.crop(o,c,h,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class rt extends ye{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=rt.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const c=o.getContext("2d").getImageData(0,0,o.width,o.height);return rt.toGrayscaleBuffer(c.data,o.width,o.height)}static toGrayscaleBuffer(o,c,h){const m=new Uint8ClampedArray(c*h);for(let y=0,w=0,C=o.length;y<C;y+=4,w++){let R;if(o[y+3]===0)R=255;else{const G=o[y],se=o[y+1],ie=o[y+2];R=306*G+601*se+117*ie+512>>10}m[w]=R}return m}getRow(o,c){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth(),m=o*h;return c===null?c=this.buffer.slice(m,m+h):(c.length<h&&(c=new Uint8ClampedArray(h)),c.set(this.buffer.slice(m,m+h))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,c,h,m){return super.crop(o,c,h,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const c=this.getTempCanvasElement(),h=c.getContext("2d"),m=o*rt.DEGREE_TO_RADIANS,y=this.canvas.width,w=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(m))*y+Math.abs(Math.sin(m))*w),R=Math.ceil(Math.abs(Math.sin(m))*y+Math.abs(Math.cos(m))*w);return c.width=C,c.height=R,h.translate(C/2,R/2),h.rotate(m),h.drawImage(this.canvas,y/-2,w/-2),this.buffer=rt.makeBufferFromCanvasImageData(c),this}invert(){return new De(this)}}rt.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(o,c,h){this.deviceId=o,this.label=c,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var $=(globalThis||kp||self||window||void 0)&&(globalThis||kp||self||window||void 0).__awaiter||function(re,o,c,h){function m(y){return y instanceof c?y:new c(function(w){w(y)})}return new(c||(c=Promise))(function(y,w){function C(G){try{L(h.next(G))}catch(se){w(se)}}function R(G){try{L(h.throw(G))}catch(se){w(se)}}function L(G){G.done?y(G.value):m(G.value).then(C,R)}L((h=h.apply(re,o||[])).next())})};class le{constructor(o,c=500,h){this.reader=o,this.timeBetweenScansMillis=c,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return $(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const h of o){const m=h.kind==="video"?"videoinput":h.kind;if(m!=="videoinput")continue;const y=h.deviceId||h.id,w=h.label||`Video device ${c.length+1}`,C=h.groupId,R={deviceId:y,label:w,kind:m,groupId:C};c.push(R)}return c})}getVideoInputDevices(){return $(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new me(c.deviceId,c.label))})}findDeviceById(o){return $(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,c){return $(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,c)})}decodeOnceFromVideoDevice(o,c){return $(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const m={video:h};return yield this.decodeOnceFromConstraints(m,c)})}decodeOnceFromConstraints(o,c){return $(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,c)})}decodeOnceFromStream(o,c){return $(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,c);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,c,h){return $(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,c,h)})}decodeFromVideoDevice(o,c,h){return $(this,void 0,void 0,function*(){let m;o?m={deviceId:{exact:o}}:m={facingMode:"environment"};const y={video:m};return yield this.decodeFromConstraints(y,c,h)})}decodeFromConstraints(o,c,h){return $(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(m,c,h)})}decodeFromStream(o,c,h){return $(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(o,c);return yield this.decodeContinuously(m,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,c){return $(this,void 0,void 0,function*(){const h=this.prepareVideoElement(c);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((c,h)=>this.playVideoOnLoad(o,()=>c()))}playVideoOnLoad(o,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",c),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return $(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,c){const h=document.getElementById(o);if(!h)throw new b(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==c.toLowerCase())throw new b(`element with id '${o}' must be an ${c} element`);return h}decodeFromImage(o,c){if(!o&&!c)throw new b("either imageElement with a src set or an url must be provided");return c&&!o?this.decodeFromImageUrl(c):this.decodeFromImageElement(o)}decodeFromVideo(o,c){if(!o&&!c)throw new b("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,c,h){if(o===void 0&&c===void 0)throw new b("Either an element with a src set or an URL must be provided");return c&&!o?this.decodeFromVideoUrlContinuously(c,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new b("An image element must be provided.");this.reset();const c=this.prepareImageElement(o);this.imageElement=c;let h;return this.isImageLoaded(c)?h=this.decodeOnce(c,!1,!0):h=this._decodeOnLoadImage(c),h}decodeFromVideoElement(o){const c=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(o,c){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,c)}_decodeFromVideoElementSetup(o){if(!o)throw new b("A video element must be provided.");this.reset();const c=this.prepareVideoElement(o);return this.videoElement=c,c}decodeFromImageUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const h=this._decodeOnLoadImage(c);return c.src=o,h}decodeFromVideoUrl(o){if(!o)throw new b("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElement(c);return c.src=o,h}decodeFromVideoUrlContinuously(o,c){if(!o)throw new b("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(h,c);return h.src=o,m}_decodeOnLoadImage(o){return new Promise((c,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(c,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return $(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,c){return $(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,c)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let c;return typeof o>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(c=o),c}prepareVideoElement(o){let c;return!o&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof o=="string"&&(c=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(c=o),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(o,c=!0,h=!0){this._stopAsyncDecode=!1;const m=(y,w)=>{if(this._stopAsyncDecode){w(new pe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(o);y(C)}catch(C){const R=c&&C instanceof pe,G=(C instanceof S||C instanceof Y)&&h;if(R||G)return setTimeout(m,this._timeBetweenDecodingAttempts,y,w);w(C)}};return new Promise((y,w)=>m(y,w))}decodeContinuously(o,c){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(o);c(m,null),setTimeout(h,this.timeBetweenScansMillis)}catch(m){c(null,m);const y=m instanceof S||m instanceof Y,w=m instanceof pe;(y||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const c=this.createBinaryBitmap(o);return this.decodeBitmap(c)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,c,h){c||(c={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(o,c,h=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const c=this.getCaptureCanvas(o),h=new rt(c),m=new Se(h);return new I(m)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const c=this.createCaptureCanvas(o);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let h,m;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,m=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,m=o.naturalHeight||o.height)),c.style.width=h+"px",c.style.height=m+"px",c.width=h,c.height=m,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,c){try{o.srcObject=c}catch{o.src=URL.createObjectURL(c)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class he{constructor(o,c,h=c==null?0:8*c.length,m,y,w=k.currentTimeMillis()){this.text=o,this.rawBytes=c,this.numBits=h,this.resultPoints=m,this.format=y,this.timestamp=w,this.text=o,this.rawBytes=c,h==null?this.numBits=c==null?0:8*c.length:this.numBits=h,this.resultPoints=m,this.format=y,this.resultMetadata=null,w==null?this.timestamp=k.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,c)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const c=this.resultPoints;if(c===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(c.length+o.length);k.arraycopy(c,0,h,0,c.length),k.arraycopy(o,0,h,c.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ie;(function(re){re[re.AZTEC=0]="AZTEC",re[re.CODABAR=1]="CODABAR",re[re.CODE_39=2]="CODE_39",re[re.CODE_93=3]="CODE_93",re[re.CODE_128=4]="CODE_128",re[re.DATA_MATRIX=5]="DATA_MATRIX",re[re.EAN_8=6]="EAN_8",re[re.EAN_13=7]="EAN_13",re[re.ITF=8]="ITF",re[re.MAXICODE=9]="MAXICODE",re[re.PDF_417=10]="PDF_417",re[re.QR_CODE=11]="QR_CODE",re[re.RSS_14=12]="RSS_14",re[re.RSS_EXPANDED=13]="RSS_EXPANDED",re[re.UPC_A=14]="UPC_A",re[re.UPC_E=15]="UPC_E",re[re.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var Ae=Ie,Oe;(function(re){re[re.OTHER=0]="OTHER",re[re.ORIENTATION=1]="ORIENTATION",re[re.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",re[re.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",re[re.ISSUE_NUMBER=4]="ISSUE_NUMBER",re[re.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",re[re.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",re[re.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",re[re.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",re[re.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",re[re.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oe||(Oe={}));var ze=Oe;class We{constructor(o,c,h,m,y=-1,w=-1){this.rawBytes=o,this.text=c,this.byteSegments=h,this.ecLevel=m,this.structuredAppendSequenceNumber=y,this.structuredAppendParity=w,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class it{exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}static addOrSubtract(o,c){return o^c}}class mt{constructor(o,c){if(c.length===0)throw new _;this.field=o;const h=c.length;if(h>1&&c[0]===0){let m=1;for(;m<h&&c[m]===0;)m++;m===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-m),k.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const c=this.coefficients;let h;if(o===1){h=0;for(let w=0,C=c.length;w!==C;w++){const R=c[w];h=it.addOrSubtract(h,R)}return h}h=c[0];const m=c.length,y=this.field;for(let w=1;w<m;w++)h=it.addOrSubtract(y.multiply(o,h),c[w]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,h=o.coefficients;if(c.length>h.length){const w=c;c=h,h=w}let m=new Int32Array(h.length);const y=h.length-c.length;k.arraycopy(h,0,m,0,y);for(let w=y;w<h.length;w++)m[w]=it.addOrSubtract(c[w-y],h[w]);return new mt(this.field,m)}multiply(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const c=this.coefficients,h=c.length,m=o.coefficients,y=m.length,w=new Int32Array(h+y-1),C=this.field;for(let R=0;R<h;R++){const L=c[R];for(let G=0;G<y;G++)w[R+G]=it.addOrSubtract(w[R+G],C.multiply(L,m[G]))}return new mt(C,w)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const c=this.coefficients.length,h=this.field,m=new Int32Array(c),y=this.coefficients;for(let w=0;w<c;w++)m[w]=h.multiply(y[w],o);return new mt(h,m)}multiplyByMonomial(o,c){if(o<0)throw new _;if(c===0)return this.field.getZero();const h=this.coefficients,m=h.length,y=new Int32Array(m+o),w=this.field;for(let C=0;C<m;C++)y[C]=w.multiply(h[C],c);return new mt(w,y)}divide(o){if(!this.field.equals(o.field))throw new _("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new _("Divide by 0");const c=this.field;let h=c.getZero(),m=this;const y=o.getCoefficient(o.getDegree()),w=c.inverse(y);for(;m.getDegree()>=o.getDegree()&&!m.isZero();){const C=m.getDegree()-o.getDegree(),R=c.multiply(m.getCoefficient(m.getDegree()),w),L=o.multiplyByMonomial(C,R),G=c.buildMonomial(C,R);h=h.addOrSubtract(G),m=m.addOrSubtract(L)}return[h,m]}toString(){let o="";for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),c===0||h!==1){const m=this.field.log(h);m===0?o+="1":m===1?o+="a":(o+="a^",o+=m)}c!==0&&(c===1?o+="x":(o+="x^",o+=c))}}return o}}class Nt extends p{}Nt.kind="ArithmeticException";class vt extends it{constructor(o,c,h){super(),this.primitive=o,this.size=c,this.generatorBase=h;const m=new Int32Array(c);let y=1;for(let C=0;C<c;C++)m[C]=y,y*=2,y>=c&&(y^=o,y&=c-1);this.expTable=m;const w=new Int32Array(c);for(let C=0;C<c-1;C++)w[m[C]]=C;this.logTable=w,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new _;if(c===0)return this.zero;const h=new Int32Array(o+1);return h[0]=c,new mt(this,h)}inverse(o){if(o===0)throw new Nt;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Z.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}vt.AZTEC_DATA_12=new vt(4201,4096,1),vt.AZTEC_DATA_10=new vt(1033,1024,1),vt.AZTEC_DATA_6=new vt(67,64,1),vt.AZTEC_PARAM=new vt(19,16,1),vt.QR_CODE_FIELD_256=new vt(285,256,0),vt.DATA_MATRIX_FIELD_256=new vt(301,256,1),vt.AZTEC_DATA_8=vt.DATA_MATRIX_FIELD_256,vt.MAXICODE_FIELD_64=vt.AZTEC_DATA_6;class Ut extends p{}Ut.kind="ReedSolomonException";class ve extends p{}ve.kind="IllegalStateException";class Tt{constructor(o){this.field=o}decode(o,c){const h=this.field,m=new mt(h,o),y=new Int32Array(c);let w=!0;for(let Ee=0;Ee<c;Ee++){const Pe=m.evaluateAt(h.exp(Ee+h.getGeneratorBase()));y[y.length-1-Ee]=Pe,Pe!==0&&(w=!1)}if(w)return;const C=new mt(h,y),R=this.runEuclideanAlgorithm(h.buildMonomial(c,1),C,c),L=R[0],G=R[1],se=this.findErrorLocations(L),ie=this.findErrorMagnitudes(G,se);for(let Ee=0;Ee<se.length;Ee++){const Pe=o.length-1-h.log(se[Ee]);if(Pe<0)throw new Ut("Bad error location");o[Pe]=vt.addOrSubtract(o[Pe],ie[Ee])}}runEuclideanAlgorithm(o,c,h){if(o.getDegree()<c.getDegree()){const Ee=o;o=c,c=Ee}const m=this.field;let y=o,w=c,C=m.getZero(),R=m.getOne();for(;w.getDegree()>=(h/2|0);){let Ee=y,Pe=C;if(y=w,C=R,y.isZero())throw new Ut("r_{i-1} was zero");w=Ee;let Me=m.getZero();const Ve=y.getCoefficient(y.getDegree()),Ze=m.inverse(Ve);for(;w.getDegree()>=y.getDegree()&&!w.isZero();){const dt=w.getDegree()-y.getDegree(),ft=m.multiply(w.getCoefficient(w.getDegree()),Ze);Me=Me.addOrSubtract(m.buildMonomial(dt,ft)),w=w.addOrSubtract(y.multiplyByMonomial(dt,ft))}if(R=Me.multiply(C).addOrSubtract(Pe),w.getDegree()>=y.getDegree())throw new ve("Division algorithm failed to reduce polynomial?")}const L=R.getCoefficient(0);if(L===0)throw new Ut("sigmaTilde(0) was zero");const G=m.inverse(L),se=R.multiplyScalar(G),ie=w.multiplyScalar(G);return[se,ie]}findErrorLocations(o){const c=o.getDegree();if(c===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(c);let m=0;const y=this.field;for(let w=1;w<y.getSize()&&m<c;w++)o.evaluateAt(w)===0&&(h[m]=y.inverse(w),m++);if(m!==c)throw new Ut("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,c){const h=c.length,m=new Int32Array(h),y=this.field;for(let w=0;w<h;w++){const C=y.inverse(c[w]);let R=1;for(let L=0;L<h;L++)if(w!==L){const G=y.multiply(c[L],C),se=(G&1)===0?G|1:G&-2;R=y.multiply(R,se)}m[w]=y.multiply(o.evaluateAt(C),y.inverse(R)),y.getGeneratorBase()!==0&&(m[w]=y.multiply(m[w],C))}return m}}var Zt;(function(re){re[re.UPPER=0]="UPPER",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.DIGIT=3]="DIGIT",re[re.PUNCT=4]="PUNCT",re[re.BINARY=5]="BINARY"})(Zt||(Zt={}));class Ot{decode(o){this.ddata=o;let c=o.getBits(),h=this.extractBits(c),m=this.correctBits(h),y=Ot.convertBoolArrayToByteArray(m),w=Ot.getEncodedData(m),C=new We(y,w,null,null);return C.setNumBits(m.length),C}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let c=o.length,h=Zt.UPPER,m=Zt.UPPER,y="",w=0;for(;w<c;)if(m===Zt.BINARY){if(c-w<5)break;let C=Ot.readCode(o,w,5);if(w+=5,C===0){if(c-w<11)break;C=Ot.readCode(o,w,11)+31,w+=11}for(let R=0;R<C;R++){if(c-w<8){w=c;break}const L=Ot.readCode(o,w,8);y+=q.castAsNonUtf8Char(L),w+=8}m=h}else{let C=m===Zt.DIGIT?4:5;if(c-w<C)break;let R=Ot.readCode(o,w,C);w+=C;let L=Ot.getCharacter(m,R);L.startsWith("CTRL_")?(h=m,m=Ot.getTable(L.charAt(5)),L.charAt(6)==="L"&&(h=m)):(y+=L,m=h)}return y}static getTable(o){switch(o){case"L":return Zt.LOWER;case"P":return Zt.PUNCT;case"M":return Zt.MIXED;case"D":return Zt.DIGIT;case"B":return Zt.BINARY;default:return Zt.UPPER}}static getCharacter(o,c){switch(o){case Zt.UPPER:return Ot.UPPER_TABLE[c];case Zt.LOWER:return Ot.LOWER_TABLE[c];case Zt.MIXED:return Ot.MIXED_TABLE[c];case Zt.PUNCT:return Ot.PUNCT_TABLE[c];case Zt.DIGIT:return Ot.DIGIT_TABLE[c];default:throw new ve("Bad table")}}correctBits(o){let c,h;this.ddata.getNbLayers()<=2?(h=6,c=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,c=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,c=vt.AZTEC_DATA_10):(h=12,c=vt.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),y=o.length/h;if(y<m)throw new Y;let w=o.length%h,C=new Int32Array(y);for(let ie=0;ie<y;ie++,w+=h)C[ie]=Ot.readCode(o,w,h);try{new Tt(c).decode(C,y-m)}catch(ie){throw new Y(ie)}let R=(1<<h)-1,L=0;for(let ie=0;ie<m;ie++){let Ee=C[ie];if(Ee===0||Ee===R)throw new Y;(Ee===1||Ee===R-1)&&L++}let G=new Array(m*h-L),se=0;for(let ie=0;ie<m;ie++){let Ee=C[ie];if(Ee===1||Ee===R-1)G.fill(Ee>1,se,se+h-1),se+=h-1;else for(let Pe=h-1;Pe>=0;--Pe)G[se++]=(Ee&1<<Pe)!==0}return G}extractBits(o){let c=this.ddata.isCompact(),h=this.ddata.getNbLayers(),m=(c?11:14)+h*4,y=new Int32Array(m),w=new Array(this.totalBitsInLayer(h,c));if(c)for(let C=0;C<y.length;C++)y[C]=C;else{let C=m+1+2*Z.truncDivision(Z.truncDivision(m,2)-1,15),R=m/2,L=Z.truncDivision(C,2);for(let G=0;G<R;G++){let se=G+Z.truncDivision(G,15);y[R-G-1]=L-se-1,y[R+G]=L+se+1}}for(let C=0,R=0;C<h;C++){let L=(h-C)*4+(c?9:12),G=C*2,se=m-1-G;for(let ie=0;ie<L;ie++){let Ee=ie*2;for(let Pe=0;Pe<2;Pe++)w[R+Ee+Pe]=o.get(y[G+Pe],y[G+ie]),w[R+2*L+Ee+Pe]=o.get(y[G+ie],y[se-Pe]),w[R+4*L+Ee+Pe]=o.get(y[se-Pe],y[se-ie]),w[R+6*L+Ee+Pe]=o.get(y[se-ie],y[G+Pe])}R+=L*8}return w}static readCode(o,c,h){let m=0;for(let y=c;y<c+h;y++)m<<=1,o[y]&&(m|=1);return m}static readByte(o,c){let h=o.length-c;return h>=8?Ot.readCode(o,c,8):Ot.readCode(o,c,h)<<8-h}static convertBoolArrayToByteArray(o){let c=new Uint8Array((o.length+7)/8);for(let h=0;h<c.length;h++)c[h]=Ot.readByte(o,8*h);return c}totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class et{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,c,h,m){const y=o-h,w=c-m;return Math.sqrt(y*y+w*w)}static sum(o){let c=0;for(let h=0,m=o.length;h!==m;h++){const y=o[h];c+=y}return c}}class jt{static floatToIntBits(o){return o}}jt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ot{constructor(o,c){this.x=o,this.y=c}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof ot){const c=o;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*jt.floatToIntBits(this.x)+jt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const c=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),m=this.distance(o[0],o[2]);let y,w,C;if(h>=c&&h>=m?(w=o[0],y=o[1],C=o[2]):m>=h&&m>=c?(w=o[1],y=o[0],C=o[2]):(w=o[2],y=o[0],C=o[1]),this.crossProductZ(y,w,C)<0){const R=y;y=C,C=R}o[0]=y,o[1]=w,o[2]=C}static distance(o,c){return et.distance(o.x,o.y,c.x,c.y)}static crossProductZ(o,c,h){const m=c.x,y=c.y;return(h.x-m)*(o.y-y)-(h.y-y)*(o.x-m)}}class pn{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class un extends pn{constructor(o,c,h,m,y){super(o,c),this.compact=h,this.nbDatablocks=m,this.nbLayers=y}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Cn{constructor(o,c,h,m){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),c==null&&(c=Cn.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),m==null&&(m=o.getHeight()/2|0);const y=c/2|0;if(this.leftInit=h-y,this.rightInit=h+y,this.upInit=m-y,this.downInit=m+y,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new pe}detect(){let o=this.leftInit,c=this.rightInit,h=this.upInit,m=this.downInit,y=!1,w=!0,C=!1,R=!1,L=!1,G=!1,se=!1;const ie=this.width,Ee=this.height;for(;w;){w=!1;let Pe=!0;for(;(Pe||!R)&&c<ie;)Pe=this.containsBlackPoint(h,m,c,!1),Pe?(c++,w=!0,R=!0):R||c++;if(c>=ie){y=!0;break}let Me=!0;for(;(Me||!L)&&m<Ee;)Me=this.containsBlackPoint(o,c,m,!0),Me?(m++,w=!0,L=!0):L||m++;if(m>=Ee){y=!0;break}let Ve=!0;for(;(Ve||!G)&&o>=0;)Ve=this.containsBlackPoint(h,m,o,!1),Ve?(o--,w=!0,G=!0):G||o--;if(o<0){y=!0;break}let Ze=!0;for(;(Ze||!se)&&h>=0;)Ze=this.containsBlackPoint(o,c,h,!0),Ze?(h--,w=!0,se=!0):se||h--;if(h<0){y=!0;break}w&&(C=!0)}if(!y&&C){const Pe=c-o;let Me=null;for(let ft=1;Me===null&&ft<Pe;ft++)Me=this.getBlackPointOnSegment(o,m-ft,o+ft,m);if(Me==null)throw new pe;let Ve=null;for(let ft=1;Ve===null&&ft<Pe;ft++)Ve=this.getBlackPointOnSegment(o,h+ft,o+ft,h);if(Ve==null)throw new pe;let Ze=null;for(let ft=1;Ze===null&&ft<Pe;ft++)Ze=this.getBlackPointOnSegment(c,h+ft,c-ft,h);if(Ze==null)throw new pe;let dt=null;for(let ft=1;dt===null&&ft<Pe;ft++)dt=this.getBlackPointOnSegment(c,m-ft,c-ft,m);if(dt==null)throw new pe;return this.centerEdges(dt,Me,Ze,Ve)}else throw new pe}getBlackPointOnSegment(o,c,h,m){const y=et.round(et.distance(o,c,h,m)),w=(h-o)/y,C=(m-c)/y,R=this.image;for(let L=0;L<y;L++){const G=et.round(o+L*w),se=et.round(c+L*C);if(R.get(G,se))return new ot(G,se)}return null}centerEdges(o,c,h,m){const y=o.getX(),w=o.getY(),C=c.getX(),R=c.getY(),L=h.getX(),G=h.getY(),se=m.getX(),ie=m.getY(),Ee=Cn.CORR;return y<this.width/2?[new ot(se-Ee,ie+Ee),new ot(C+Ee,R+Ee),new ot(L-Ee,G-Ee),new ot(y+Ee,w-Ee)]:[new ot(se+Ee,ie+Ee),new ot(C+Ee,R-Ee),new ot(L-Ee,G+Ee),new ot(y-Ee,w-Ee)]}containsBlackPoint(o,c,h,m){const y=this.image;if(m){for(let w=o;w<=c;w++)if(y.get(w,h))return!0}else for(let w=o;w<=c;w++)if(y.get(h,w))return!0;return!1}}Cn.INIT_SIZE=10,Cn.CORR=1;class Vn{static checkAndNudgePoints(o,c){const h=o.getWidth(),m=o.getHeight();let y=!0;for(let w=0;w<c.length&&y;w+=2){const C=Math.floor(c[w]),R=Math.floor(c[w+1]);if(C<-1||C>h||R<-1||R>m)throw new pe;y=!1,C===-1?(c[w]=0,y=!0):C===h&&(c[w]=h-1,y=!0),R===-1?(c[w+1]=0,y=!0):R===m&&(c[w+1]=m-1,y=!0)}y=!0;for(let w=c.length-2;w>=0&&y;w-=2){const C=Math.floor(c[w]),R=Math.floor(c[w+1]);if(C<-1||C>h||R<-1||R>m)throw new pe;y=!1,C===-1?(c[w]=0,y=!0):C===h&&(c[w]=h-1,y=!0),R===-1?(c[w+1]=0,y=!0):R===m&&(c[w+1]=m-1,y=!0)}}}class gn{constructor(o,c,h,m,y,w,C,R,L){this.a11=o,this.a21=c,this.a31=h,this.a12=m,this.a22=y,this.a32=w,this.a13=C,this.a23=R,this.a33=L}static quadrilateralToQuadrilateral(o,c,h,m,y,w,C,R,L,G,se,ie,Ee,Pe,Me,Ve){const Ze=gn.quadrilateralToSquare(o,c,h,m,y,w,C,R);return gn.squareToQuadrilateral(L,G,se,ie,Ee,Pe,Me,Ve).times(Ze)}transformPoints(o){const c=o.length,h=this.a11,m=this.a12,y=this.a13,w=this.a21,C=this.a22,R=this.a23,L=this.a31,G=this.a32,se=this.a33;for(let ie=0;ie<c;ie+=2){const Ee=o[ie],Pe=o[ie+1],Me=y*Ee+R*Pe+se;o[ie]=(h*Ee+w*Pe+L)/Me,o[ie+1]=(m*Ee+C*Pe+G)/Me}}transformPointsWithValues(o,c){const h=this.a11,m=this.a12,y=this.a13,w=this.a21,C=this.a22,R=this.a23,L=this.a31,G=this.a32,se=this.a33,ie=o.length;for(let Ee=0;Ee<ie;Ee++){const Pe=o[Ee],Me=c[Ee],Ve=y*Pe+R*Me+se;o[Ee]=(h*Pe+w*Me+L)/Ve,c[Ee]=(m*Pe+C*Me+G)/Ve}}static squareToQuadrilateral(o,c,h,m,y,w,C,R){const L=o-h+y-C,G=c-m+w-R;if(L===0&&G===0)return new gn(h-o,y-h,o,m-c,w-m,c,0,0,1);{const se=h-y,ie=C-y,Ee=m-w,Pe=R-w,Me=se*Pe-ie*Ee,Ve=(L*Pe-ie*G)/Me,Ze=(se*G-L*Ee)/Me;return new gn(h-o+Ve*h,C-o+Ze*C,o,m-c+Ve*m,R-c+Ze*R,c,Ve,Ze,1)}}static quadrilateralToSquare(o,c,h,m,y,w,C,R){return gn.squareToQuadrilateral(o,c,h,m,y,w,C,R).buildAdjoint()}buildAdjoint(){return new gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new gn(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Xn extends Vn{sampleGrid(o,c,h,m,y,w,C,R,L,G,se,ie,Ee,Pe,Me,Ve,Ze,dt,ft){const ht=gn.quadrilateralToQuadrilateral(m,y,w,C,R,L,G,se,ie,Ee,Pe,Me,Ve,Ze,dt,ft);return this.sampleGridWithTransform(o,c,h,ht)}sampleGridWithTransform(o,c,h,m){if(c<=0||h<=0)throw new pe;const y=new be(c,h),w=new Float32Array(2*c);for(let C=0;C<h;C++){const R=w.length,L=C+.5;for(let G=0;G<R;G+=2)w[G]=G/2+.5,w[G+1]=L;m.transformPoints(w),Vn.checkAndNudgePoints(o,w);try{for(let G=0;G<R;G+=2)o.get(Math.floor(w[G]),Math.floor(w[G+1]))&&y.set(G/2,C)}catch{throw new pe}}return y}}class Dn{static setGridSampler(o){Dn.gridSampler=o}static getInstance(){return Dn.gridSampler}}Dn.gridSampler=new Xn;class Mt{constructor(o,c){this.x=o,this.y=c}toResultPoint(){return new ot(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class jn{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let c=this.getMatrixCenter(),h=this.getBullsEyeCorners(c);if(o){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let m=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),y=this.getMatrixCornerPoints(h);return new un(m,y,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new pe;let c=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],c),this.sampleLine(o[1],o[2],c),this.sampleLine(o[2],o[3],c),this.sampleLine(o[3],o[0],c)]);this.shift=this.getRotation(h,c);let m=0;for(let w=0;w<4;w++){let C=h[(this.shift+w)%4];this.compact?(m<<=7,m+=C>>1&127):(m<<=10,m+=(C>>2&992)+(C>>1&31))}let y=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(y>>6)+1,this.nbDataBlocks=(y&63)+1):(this.nbLayers=(y>>11)+1,this.nbDataBlocks=(y&2047)+1)}getRotation(o,c){let h=0;o.forEach((m,y,w)=>{let C=(m>>c-2<<1)+(m&1);h=(h<<3)+C}),h=((h&1)<<11)+(h>>1);for(let m=0;m<4;m++)if(Z.bitCount(h^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new pe}getCorrectedParameterData(o,c){let h,m;c?(h=7,m=2):(h=10,m=4);let y=h-m,w=new Int32Array(h);for(let R=h-1;R>=0;--R)w[R]=o&15,o>>=4;try{new Tt(vt.AZTEC_PARAM).decode(w,y)}catch{throw new pe}let C=0;for(let R=0;R<m;R++)C=(C<<4)+w[R];return C}getBullsEyeCorners(o){let c=o,h=o,m=o,y=o,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let se=this.getFirstDifferent(c,w,1,-1),ie=this.getFirstDifferent(h,w,1,1),Ee=this.getFirstDifferent(m,w,-1,1),Pe=this.getFirstDifferent(y,w,-1,-1);if(this.nbCenterLayers>2){let Me=this.distancePoint(Pe,se)*this.nbCenterLayers/(this.distancePoint(y,c)*(this.nbCenterLayers+2));if(Me<.75||Me>1.25||!this.isWhiteOrBlackRectangle(se,ie,Ee,Pe))break}c=se,h=ie,m=Ee,y=Pe,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new pe;this.compact=this.nbCenterLayers===5;let C=new ot(c.getX()+.5,c.getY()-.5),R=new ot(h.getX()+.5,h.getY()+.5),L=new ot(m.getX()-.5,m.getY()+.5),G=new ot(y.getX()-.5,y.getY()-.5);return this.expandSquare([C,R,L,G],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,c,h,m;try{let C=new Cn(this.image).detect();o=C[0],c=C[1],h=C[2],m=C[3]}catch{let R=this.image.getWidth()/2,L=this.image.getHeight()/2;o=this.getFirstDifferent(new Mt(R+7,L-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Mt(R+7,L+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(R-7,L+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Mt(R-7,L-7),!1,-1,-1).toResultPoint()}let y=et.round((o.getX()+m.getX()+c.getX()+h.getX())/4),w=et.round((o.getY()+m.getY()+c.getY()+h.getY())/4);try{let C=new Cn(this.image,15,y,w).detect();o=C[0],c=C[1],h=C[2],m=C[3]}catch{o=this.getFirstDifferent(new Mt(y+7,w-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Mt(y+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(y-7,w+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new Mt(y-7,w-7),!1,-1,-1).toResultPoint()}return y=et.round((o.getX()+m.getX()+c.getX()+h.getX())/4),w=et.round((o.getY()+m.getY()+c.getY()+h.getY())/4),new Mt(y,w)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,c,h,m,y){let w=Dn.getInstance(),C=this.getDimension(),R=C/2-this.nbCenterLayers,L=C/2+this.nbCenterLayers;return w.sampleGrid(o,C,C,R,R,L,R,L,L,R,L,c.getX(),c.getY(),h.getX(),h.getY(),m.getX(),m.getY(),y.getX(),y.getY())}sampleLine(o,c,h){let m=0,y=this.distanceResultPoint(o,c),w=y/h,C=o.getX(),R=o.getY(),L=w*(c.getX()-o.getX())/y,G=w*(c.getY()-o.getY())/y;for(let se=0;se<h;se++)this.image.get(et.round(C+se*L),et.round(R+se*G))&&(m|=1<<h-se-1);return m}isWhiteOrBlackRectangle(o,c,h,m){let y=3;o=new Mt(o.getX()-y,o.getY()+y),c=new Mt(c.getX()-y,c.getY()-y),h=new Mt(h.getX()+y,h.getY()-y),m=new Mt(m.getX()+y,m.getY()+y);let w=this.getColor(m,o);if(w===0)return!1;let C=this.getColor(o,c);return C!==w||(C=this.getColor(c,h),C!==w)?!1:(C=this.getColor(h,m),C===w)}getColor(o,c){let h=this.distancePoint(o,c),m=(c.getX()-o.getX())/h,y=(c.getY()-o.getY())/h,w=0,C=o.getX(),R=o.getY(),L=this.image.get(o.getX(),o.getY()),G=Math.ceil(h);for(let ie=0;ie<G;ie++)C+=m,R+=y,this.image.get(et.round(C),et.round(R))!==L&&w++;let se=w/h;return se>.1&&se<.9?0:se<=.1===L?1:-1}getFirstDifferent(o,c,h,m){let y=o.getX()+h,w=o.getY()+m;for(;this.isValid(y,w)&&this.image.get(y,w)===c;)y+=h,w+=m;for(y-=h,w-=m;this.isValid(y,w)&&this.image.get(y,w)===c;)y+=h;for(y-=h;this.isValid(y,w)&&this.image.get(y,w)===c;)w+=m;return w-=m,new Mt(y,w)}expandSquare(o,c,h){let m=h/(2*c),y=o[0].getX()-o[2].getX(),w=o[0].getY()-o[2].getY(),C=(o[0].getX()+o[2].getX())/2,R=(o[0].getY()+o[2].getY())/2,L=new ot(C+m*y,R+m*w),G=new ot(C-m*y,R-m*w);y=o[1].getX()-o[3].getX(),w=o[1].getY()-o[3].getY(),C=(o[1].getX()+o[3].getX())/2,R=(o[1].getY()+o[3].getY())/2;let se=new ot(C+m*y,R+m*w),ie=new ot(C-m*y,R-m*w);return[L,se,G,ie]}isValid(o,c){return o>=0&&o<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(o){let c=et.round(o.getX()),h=et.round(o.getY());return this.isValid(c,h)}distancePoint(o,c){return et.distance(o.getX(),o.getY(),c.getX(),c.getY())}distanceResultPoint(o,c){return et.distance(o.getX(),o.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Z.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(o,c=null){let h=null,m=new jn(o.getBlackMatrix()),y=null,w=null;try{let G=m.detectMirror(!1);y=G.getPoints(),this.reportFoundResultPoints(c,y),w=new Ot().decode(G)}catch(G){h=G}if(w==null)try{let G=m.detectMirror(!0);y=G.getPoints(),this.reportFoundResultPoints(c,y),w=new Ot().decode(G)}catch(G){throw h??G}let C=new he(w.getText(),w.getRawBytes(),w.getNumBits(),y,Ae.AZTEC,k.currentTimeMillis()),R=w.getByteSegments();R!=null&&C.putMetadata(ze.BYTE_SEGMENTS,R);let L=w.getECLevel();return L!=null&&C.putMetadata(ze.ERROR_CORRECTION_LEVEL,L),C}reportFoundResultPoints(o,c){if(o!=null){let h=o.get(Re.NEED_RESULT_POINT_CALLBACK);h!=null&&c.forEach((m,y,w)=>{h.foundPossibleResultPoint(m)})}}reset(){}}class cs extends le{constructor(o=500){super(new Yt,o)}}class Kt{decode(o,c){try{return this.doDecode(o,c)}catch{if(c&&c.get(Re.TRY_HARDER)===!0&&o.isRotateSupported()){const y=o.rotateCounterClockwise(),w=this.doDecode(y,c),C=w.getResultMetadata();let R=270;C!==null&&C.get(ze.ORIENTATION)===!0&&(R=R+C.get(ze.ORIENTATION)%360),w.putMetadata(ze.ORIENTATION,R);const L=w.getResultPoints();if(L!==null){const G=y.getHeight();for(let se=0;se<L.length;se++)L[se]=new ot(G-L[se].getY()-1,L[se].getX())}return w}else throw new pe}}reset(){}doDecode(o,c){const h=o.getWidth(),m=o.getHeight();let y=new ee(h);const w=c&&c.get(Re.TRY_HARDER)===!0,C=Math.max(1,m>>(w?8:5));let R;w?R=m:R=15;const L=Math.trunc(m/2);for(let G=0;G<R;G++){const se=Math.trunc((G+1)/2),ie=(G&1)===0,Ee=L+C*(ie?se:-se);if(Ee<0||Ee>=m)break;try{y=o.getBlackRow(Ee,y)}catch{continue}for(let Pe=0;Pe<2;Pe++){if(Pe===1&&(y.reverse(),c&&c.get(Re.NEED_RESULT_POINT_CALLBACK)===!0)){const Me=new Map;c.forEach((Ve,Ze)=>Me.set(Ze,Ve)),Me.delete(Re.NEED_RESULT_POINT_CALLBACK),c=Me}try{const Me=this.decodeRow(Ee,y,c);if(Pe===1){Me.putMetadata(ze.ORIENTATION,180);const Ve=Me.getResultPoints();Ve!==null&&(Ve[0]=new ot(h-Ve[0].getX()-1,Ve[0].getY()),Ve[1]=new ot(h-Ve[1].getX()-1,Ve[1].getY()))}return Me}catch{}}}throw new pe}static recordPattern(o,c,h){const m=h.length;for(let L=0;L<m;L++)h[L]=0;const y=o.getSize();if(c>=y)throw new pe;let w=!o.get(c),C=0,R=c;for(;R<y;){if(o.get(R)!==w)h[C]++;else{if(++C===m)break;h[C]=1,w=!w}R++}if(!(C===m||C===m-1&&R===y))throw new pe}static recordPatternInReverse(o,c,h){let m=h.length,y=o.get(c);for(;c>0&&m>=0;)o.get(--c)!==y&&(m--,y=!y);if(m>=0)throw new pe;Kt.recordPattern(o,c+1,h)}static patternMatchVariance(o,c,h){const m=o.length;let y=0,w=0;for(let L=0;L<m;L++)y+=o[L],w+=c[L];if(y<w)return Number.POSITIVE_INFINITY;const C=y/w;h*=C;let R=0;for(let L=0;L<m;L++){const G=o[L],se=c[L]*C,ie=G>se?G-se:se-G;if(ie>h)return Number.POSITIVE_INFINITY;R+=ie}return R/y}}class at extends Kt{static findStartPattern(o){const c=o.getSize(),h=o.getNextSet(0);let m=0,y=Int32Array.from([0,0,0,0,0,0]),w=h,C=!1;const R=6;for(let L=h;L<c;L++)if(o.get(L)!==C)y[m]++;else{if(m===R-1){let G=at.MAX_AVG_VARIANCE,se=-1;for(let ie=at.CODE_START_A;ie<=at.CODE_START_C;ie++){const Ee=Kt.patternMatchVariance(y,at.CODE_PATTERNS[ie],at.MAX_INDIVIDUAL_VARIANCE);Ee<G&&(G=Ee,se=ie)}if(se>=0&&o.isRange(Math.max(0,w-(L-w)/2),w,!1))return Int32Array.from([w,L,se]);w+=y[0]+y[1],y=y.slice(2,y.length-1),y[m-1]=0,y[m]=0,m--}else m++;y[m]=1,C=!C}throw new pe}static decodeCode(o,c,h){Kt.recordPattern(o,h,c);let m=at.MAX_AVG_VARIANCE,y=-1;for(let w=0;w<at.CODE_PATTERNS.length;w++){const C=at.CODE_PATTERNS[w],R=this.patternMatchVariance(c,C,at.MAX_INDIVIDUAL_VARIANCE);R<m&&(m=R,y=w)}if(y>=0)return y;throw new pe}decodeRow(o,c,h){const m=h&&h.get(Re.ASSUME_GS1)===!0,y=at.findStartPattern(c),w=y[2];let C=0;const R=new Uint8Array(20);R[C++]=w;let L;switch(w){case at.CODE_START_A:L=at.CODE_CODE_A;break;case at.CODE_START_B:L=at.CODE_CODE_B;break;case at.CODE_START_C:L=at.CODE_CODE_C;break;default:throw new Y}let G=!1,se=!1,ie="",Ee=y[0],Pe=y[1];const Me=Int32Array.from([0,0,0,0,0,0]);let Ve=0,Ze=0,dt=w,ft=0,ht=!0,yn=!1,Nn=!1;for(;!G;){const Jo=se;switch(se=!1,Ve=Ze,Ze=at.decodeCode(c,Me,Pe),R[C++]=Ze,Ze!==at.CODE_STOP&&(ht=!0),Ze!==at.CODE_STOP&&(ft++,dt+=ft*Ze),Ee=Pe,Pe+=Me.reduce((dh,fl)=>dh+fl,0),Ze){case at.CODE_START_A:case at.CODE_START_B:case at.CODE_START_C:throw new Y}switch(L){case at.CODE_CODE_A:if(Ze<64)Nn===yn?ie+=String.fromCharCode(32+Ze):ie+=String.fromCharCode(32+Ze+128),Nn=!1;else if(Ze<96)Nn===yn?ie+=String.fromCharCode(Ze-64):ie+=String.fromCharCode(Ze+64),Nn=!1;else switch(Ze!==at.CODE_STOP&&(ht=!1),Ze){case at.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_A:!yn&&Nn?(yn=!0,Nn=!1):yn&&Nn?(yn=!1,Nn=!1):Nn=!0;break;case at.CODE_SHIFT:se=!0,L=at.CODE_CODE_B;break;case at.CODE_CODE_B:L=at.CODE_CODE_B;break;case at.CODE_CODE_C:L=at.CODE_CODE_C;break;case at.CODE_STOP:G=!0;break}break;case at.CODE_CODE_B:if(Ze<96)Nn===yn?ie+=String.fromCharCode(32+Ze):ie+=String.fromCharCode(32+Ze+128),Nn=!1;else switch(Ze!==at.CODE_STOP&&(ht=!1),Ze){case at.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case at.CODE_FNC_2:case at.CODE_FNC_3:break;case at.CODE_FNC_4_B:!yn&&Nn?(yn=!0,Nn=!1):yn&&Nn?(yn=!1,Nn=!1):Nn=!0;break;case at.CODE_SHIFT:se=!0,L=at.CODE_CODE_A;break;case at.CODE_CODE_A:L=at.CODE_CODE_A;break;case at.CODE_CODE_C:L=at.CODE_CODE_C;break;case at.CODE_STOP:G=!0;break}break;case at.CODE_CODE_C:if(Ze<100)Ze<10&&(ie+="0"),ie+=Ze;else switch(Ze!==at.CODE_STOP&&(ht=!1),Ze){case at.CODE_FNC_1:m&&(ie.length===0?ie+="]C1":ie+="");break;case at.CODE_CODE_A:L=at.CODE_CODE_A;break;case at.CODE_CODE_B:L=at.CODE_CODE_B;break;case at.CODE_STOP:G=!0;break}break}Jo&&(L=L===at.CODE_CODE_A?at.CODE_CODE_B:at.CODE_CODE_A)}const ps=Pe-Ee;if(Pe=c.getNextUnset(Pe),!c.isRange(Pe,Math.min(c.getSize(),Pe+(Pe-Ee)/2),!1))throw new pe;if(dt-=ft*Ve,dt%103!==Ve)throw new S;const Ra=ie.length;if(Ra===0)throw new pe;Ra>0&&ht&&(L===at.CODE_CODE_C?ie=ie.substring(0,Ra-2):ie=ie.substring(0,Ra-1));const da=(y[1]+y[0])/2,Vr=Ee+ps/2,fa=R.length,vi=new Uint8Array(fa);for(let Jo=0;Jo<fa;Jo++)vi[Jo]=R[Jo];const dl=[new ot(da,o),new ot(Vr,o)];return new he(ie,vi,0,dl,Ae.CODE_128,new Date().getTime())}}at.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],at.MAX_AVG_VARIANCE=.25,at.MAX_INDIVIDUAL_VARIANCE=.7,at.CODE_SHIFT=98,at.CODE_CODE_C=99,at.CODE_CODE_B=100,at.CODE_CODE_A=101,at.CODE_FNC_1=102,at.CODE_FNC_2=97,at.CODE_FNC_3=96,at.CODE_FNC_4_A=101,at.CODE_FNC_4_B=100,at.CODE_START_A=103,at.CODE_START_B=104,at.CODE_START_C=105,at.CODE_STOP=106;class Vt extends Kt{constructor(o=!1,c=!1){super(),this.usingCheckDigit=o,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,c,h){let m=this.counters;m.fill(0),this.decodeRowResult="";let y=Vt.findAsteriskPattern(c,m),w=c.getNextSet(y[1]),C=c.getSize(),R,L;do{Vt.recordPattern(c,w,m);let Me=Vt.toNarrowWidePattern(m);if(Me<0)throw new pe;R=Vt.patternToChar(Me),this.decodeRowResult+=R,L=w;for(let Ve of m)w+=Ve;w=c.getNextSet(w)}while(R!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let G=0;for(let Me of m)G+=Me;let se=w-L-G;if(w!==C&&se*2<G)throw new pe;if(this.usingCheckDigit){let Me=this.decodeRowResult.length-1,Ve=0;for(let Ze=0;Ze<Me;Ze++)Ve+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(Me)!==Vt.ALPHABET_STRING.charAt(Ve%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,Me)}if(this.decodeRowResult.length===0)throw new pe;let ie;this.extendedMode?ie=Vt.decodeExtended(this.decodeRowResult):ie=this.decodeRowResult;let Ee=(y[1]+y[0])/2,Pe=L+G/2;return new he(ie,null,0,[new ot(Ee,o),new ot(Pe,o)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(o,c){let h=o.getSize(),m=o.getNextSet(0),y=0,w=m,C=!1,R=c.length;for(let L=m;L<h;L++)if(o.get(L)!==C)c[y]++;else{if(y===R-1){if(this.toNarrowWidePattern(c)===Vt.ASTERISK_ENCODING&&o.isRange(Math.max(0,w-Math.floor((L-w)/2)),w,!1))return[w,L];w+=c[0]+c[1],c.copyWithin(0,2,2+y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,C=!C}throw new pe}static toNarrowWidePattern(o){let c=o.length,h=0,m;do{let y=2147483647;for(let R of o)R<y&&R>h&&(y=R);h=y,m=0;let w=0,C=0;for(let R=0;R<c;R++){let L=o[R];L>h&&(C|=1<<c-1-R,m++,w+=L)}if(m===3){for(let R=0;R<c&&m>0;R++){let L=o[R];if(L>h&&(m--,L*2>=w))return-1}return C}}while(m>3);return-1}static patternToChar(o){for(let c=0;c<Vt.CHARACTER_ENCODINGS.length;c++)if(Vt.CHARACTER_ENCODINGS[c]===o)return Vt.ALPHABET_STRING.charAt(c);if(o===Vt.ASTERISK_ENCODING)return"*";throw new pe}static decodeExtended(o){let c=o.length,h="";for(let m=0;m<c;m++){let y=o.charAt(m);if(y==="+"||y==="$"||y==="%"||y==="/"){let w=o.charAt(m+1),C="\0";switch(y){case"+":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)+32);else throw new Y;break;case"$":if(w>="A"&&w<="Z")C=String.fromCharCode(w.charCodeAt(0)-64);else throw new Y;break;case"%":if(w>="A"&&w<="E")C=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")C=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")C=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")C="\0";else if(w==="V")C="@";else if(w==="W")C="`";else if(w==="X"||w==="Y"||w==="Z")C="";else throw new Y;break;case"/":if(w>="A"&&w<="O")C=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")C=":";else throw new Y;break}h+=C,m++}else h+=y}return h}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class Bt extends Kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,c,h){let m=this.decodeStart(c),y=this.decodeEnd(c),w=new X;Bt.decodeMiddle(c,m[1],y[0],w);let C=w.toString(),R=null;h!=null&&(R=h.get(Re.ALLOWED_LENGTHS)),R==null&&(R=Bt.DEFAULT_ALLOWED_LENGTHS);let L=C.length,G=!1,se=0;for(let Pe of R){if(L===Pe){G=!0;break}Pe>se&&(se=Pe)}if(!G&&L>se&&(G=!0),!G)throw new Y;const ie=[new ot(m[1],o),new ot(y[0],o)];return new he(C,null,0,ie,Ae.ITF,new Date().getTime())}static decodeMiddle(o,c,h,m){let y=new Int32Array(10),w=new Int32Array(5),C=new Int32Array(5);for(y.fill(0),w.fill(0),C.fill(0);c<h;){Kt.recordPattern(o,c,y);for(let L=0;L<5;L++){let G=2*L;w[L]=y[G],C[L]=y[G+1]}let R=Bt.decodeDigit(w);m.append(R.toString()),R=this.decodeDigit(C),m.append(R.toString()),y.forEach(function(L){c+=L})}}decodeStart(o){let c=Bt.skipWhiteSpace(o),h=Bt.findGuardPattern(o,c,Bt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,c){let h=this.narrowLineWidth*10;h=h<c?h:c;for(let m=c-1;h>0&&m>=0&&!o.get(m);m--)h--;if(h!==0)throw new pe}static skipWhiteSpace(o){const c=o.getSize(),h=o.getNextSet(0);if(h===c)throw new pe;return h}decodeEnd(o){o.reverse();try{let c=Bt.skipWhiteSpace(o),h;try{h=Bt.findGuardPattern(o,c,Bt.END_PATTERN_REVERSED[0])}catch(y){y instanceof pe&&(h=Bt.findGuardPattern(o,c,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let m=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-m,h}finally{o.reverse()}}static findGuardPattern(o,c,h){let m=h.length,y=new Int32Array(m),w=o.getSize(),C=!1,R=0,L=c;y.fill(0);for(let G=c;G<w;G++)if(o.get(G)!==C)y[R]++;else{if(R===m-1){if(Kt.patternMatchVariance(y,h,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[L,G];L+=y[0]+y[1],k.arraycopy(y,2,y,0,R-1),y[R-1]=0,y[R]=0,R--}else R++;y[R]=1,C=!C}throw new pe}static decodeDigit(o){let c=Bt.MAX_AVG_VARIANCE,h=-1,m=Bt.PATTERNS.length;for(let y=0;y<m;y++){let w=Bt.PATTERNS[y],C=Kt.patternMatchVariance(o,w,Bt.MAX_INDIVIDUAL_VARIANCE);C<c?(c=C,h=y):C===c&&(h=-1)}if(h>=0)return h%10;throw new pe}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Lt extends Kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let c=!1,h,m=0,y=Int32Array.from([0,0,0]);for(;!c;){y=Int32Array.from([0,0,0]),h=Lt.findGuardPattern(o,m,!1,this.START_END_PATTERN,y);let w=h[0];m=h[1];let C=w-(m-w);C>=0&&(c=o.isRange(C,w,!1))}return h}static checkChecksum(o){return Lt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let h=parseInt(o.charAt(c-1),10);return Lt.getStandardUPCEANChecksum(o.substring(0,c-1))===h}static getStandardUPCEANChecksum(o){let c=o.length,h=0;for(let m=c-1;m>=0;m-=2){let y=o.charAt(m).charCodeAt(0)-48;if(y<0||y>9)throw new Y;h+=y}h*=3;for(let m=c-2;m>=0;m-=2){let y=o.charAt(m).charCodeAt(0)-48;if(y<0||y>9)throw new Y;h+=y}return(1e3-h)%10}static decodeEnd(o,c){return Lt.findGuardPattern(o,c,!1,Lt.START_END_PATTERN,new Int32Array(Lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,c,h,m){return this.findGuardPattern(o,c,h,m,new Int32Array(m.length))}static findGuardPattern(o,c,h,m,y){let w=o.getSize();c=h?o.getNextUnset(c):o.getNextSet(c);let C=0,R=c,L=m.length,G=h;for(let se=c;se<w;se++)if(o.get(se)!==G)y[C]++;else{if(C===L-1){if(Kt.patternMatchVariance(y,m,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return Int32Array.from([R,se]);R+=y[0]+y[1];let ie=y.slice(2,y.length-1);for(let Ee=0;Ee<C-1;Ee++)y[Ee]=ie[Ee];y[C-1]=0,y[C]=0,C--}else C++;y[C]=1,G=!G}throw new pe}static decodeDigit(o,c,h,m){this.recordPattern(o,h,c);let y=this.MAX_AVG_VARIANCE,w=-1,C=m.length;for(let R=0;R<C;R++){let L=m[R],G=Kt.patternMatchVariance(c,L,Lt.MAX_INDIVIDUAL_VARIANCE);G<y&&(y=G,w=R)}if(w>=0)return w;throw new pe}}Lt.MAX_AVG_VARIANCE=.48,Lt.MAX_INDIVIDUAL_VARIANCE=.7,Lt.START_END_PATTERN=Int32Array.from([1,1,1]),Lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class dr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,h){let m=this.decodeRowStringBuffer,y=this.decodeMiddle(c,h,m),w=m.toString(),C=dr.parseExtensionString(w),R=[new ot((h[0]+h[1])/2,o),new ot(y,o)],L=new he(w,null,0,R,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&L.putAllMetadata(C),L}decodeMiddle(o,c,h){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=o.getSize(),w=c[1],C=0;for(let L=0;L<5&&w<y;L++){let G=Lt.decodeDigit(o,m,w,Lt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+G%10);for(let se of m)w+=se;G>=10&&(C|=1<<4-L),L!==4&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==5)throw new pe;let R=this.determineCheckDigit(C);if(dr.extensionChecksum(h.toString())!==R)throw new pe;return w}static extensionChecksum(o){let c=o.length,h=0;for(let m=c-2;m>=0;m-=2)h+=o.charAt(m).charCodeAt(0)-48;h*=3;for(let m=c-1;m>=0;m-=2)h+=o.charAt(m).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let c=0;c<10;c++)if(o===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new pe}static parseExtensionString(o){if(o.length!==5)return null;let c=dr.parseExtension5String(o);return c==null?null:new Map([[ze.SUGGESTED_PRICE,c]])}static parseExtension5String(o){let c;switch(o.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let h=parseInt(o.substring(1)),m=(h/100).toString(),y=h%100,w=y<10?"0"+y:y.toString();return c+m+"."+w}}class wn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,c,h){let m=this.decodeRowStringBuffer,y=this.decodeMiddle(c,h,m),w=m.toString(),C=wn.parseExtensionString(w),R=[new ot((h[0]+h[1])/2,o),new ot(y,o)],L=new he(w,null,0,R,Ae.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&L.putAllMetadata(C),L}decodeMiddle(o,c,h){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=o.getSize(),w=c[1],C=0;for(let R=0;R<2&&w<y;R++){let L=Lt.decodeDigit(o,m,w,Lt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+L%10);for(let G of m)w+=G;L>=10&&(C|=1<<1-R),R!==1&&(w=o.getNextSet(w),w=o.getNextUnset(w))}if(h.length!==2)throw new pe;if(parseInt(h.toString())%4!==C)throw new pe;return w}static parseExtensionString(o){return o.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(o)]])}}class En{static decodeRow(o,c,h){let m=Lt.findGuardPattern(c,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new dr().decodeRow(o,c,m)}catch{return new wn().decodeRow(o,c,m)}}}En.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class en extends Lt{constructor(){super(),this.decodeRowStringBuffer="",en.L_AND_G_PATTERNS=en.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let c=en.L_PATTERNS[o-10],h=new Int32Array(c.length);for(let m=0;m<c.length;m++)h[m]=c[c.length-m-1];en.L_AND_G_PATTERNS[o]=h}}decodeRow(o,c,h){let m=en.findStartGuardPattern(c),y=h==null?null:h.get(Re.NEED_RESULT_POINT_CALLBACK);if(y!=null){const ht=new ot((m[0]+m[1])/2,o);y.foundPossibleResultPoint(ht)}let w=this.decodeMiddle(c,m,this.decodeRowStringBuffer),C=w.rowOffset,R=w.resultString;if(y!=null){const ht=new ot(C,o);y.foundPossibleResultPoint(ht)}let L=this.decodeEnd(c,C);if(y!=null){const ht=new ot((L[0]+L[1])/2,o);y.foundPossibleResultPoint(ht)}let G=L[1],se=G+(G-L[0]);if(se>=c.getSize()||!c.isRange(G,se,!1))throw new pe;let ie=R.toString();if(ie.length<8)throw new Y;if(!en.checkChecksum(ie))throw new S;let Ee=(m[1]+m[0])/2,Pe=(L[1]+L[0])/2,Me=this.getBarcodeFormat(),Ve=[new ot(Ee,o),new ot(Pe,o)],Ze=new he(ie,null,0,Ve,Me,new Date().getTime()),dt=0;try{let ht=En.decodeRow(o,c,L[1]);Ze.putMetadata(ze.UPC_EAN_EXTENSION,ht.getText()),Ze.putAllMetadata(ht.getResultMetadata()),Ze.addResultPoints(ht.getResultPoints()),dt=ht.getText().length}catch{}let ft=h==null?null:h.get(Re.ALLOWED_EAN_EXTENSIONS);if(ft!=null){let ht=!1;for(let yn in ft)if(dt.toString()===yn){ht=!0;break}if(!ht)throw new pe}return Ze}decodeEnd(o,c){return en.findGuardPattern(o,c,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return en.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let c=o.length;if(c===0)return!1;let h=parseInt(o.charAt(c-1),10);return en.getStandardUPCEANChecksum(o.substring(0,c-1))===h}static getStandardUPCEANChecksum(o){let c=o.length,h=0;for(let m=c-1;m>=0;m-=2){let y=o.charAt(m).charCodeAt(0)-48;if(y<0||y>9)throw new Y;h+=y}h*=3;for(let m=c-2;m>=0;m-=2){let y=o.charAt(m).charCodeAt(0)-48;if(y<0||y>9)throw new Y;h+=y}return(1e3-h)%10}}class Xt extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,h){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=o.getSize(),w=c[1],C=0;for(let L=0;L<6&&w<y;L++){let G=en.decodeDigit(o,m,w,en.L_AND_G_PATTERNS);h+=String.fromCharCode(48+G%10);for(let se of m)w+=se;G>=10&&(C|=1<<5-L)}h=Xt.determineFirstDigit(h,C),w=en.findGuardPattern(o,w,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&w<y;L++){let G=en.decodeDigit(o,m,w,en.L_PATTERNS);h+=String.fromCharCode(48+G);for(let se of m)w+=se}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(o,c){for(let h=0;h<10;h++)if(c===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new pe}}Xt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class tn extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,c,h){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=o.getSize(),w=c[1];for(let R=0;R<4&&w<y;R++){let L=en.decodeDigit(o,m,w,en.L_PATTERNS);h+=String.fromCharCode(48+L);for(let G of m)w+=G}w=en.findGuardPattern(o,w,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let R=0;R<4&&w<y;R++){let L=en.decodeDigit(o,m,w,en.L_PATTERNS);h+=String.fromCharCode(48+L);for(let G of m)w+=G}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ae.EAN_8}}class Qn extends en{constructor(){super(...arguments),this.ean13Reader=new Xt}getBarcodeFormat(){return Ae.UPC_A}decode(o,c){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,c,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,c,h))}decodeMiddle(o,c,h){return this.ean13Reader.decodeMiddle(o,c,h)}maybeReturnResult(o){let c=o.getText();if(c.charAt(0)==="0"){let h=new he(c.substring(1),null,null,o.getResultPoints(),Ae.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new pe}reset(){this.ean13Reader.reset()}}class Gr extends en{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,c,h){const m=this.decodeMiddleCounters.map(L=>L);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const y=o.getSize();let w=c[1],C=0;for(let L=0;L<6&&w<y;L++){const G=Gr.decodeDigit(o,m,w,Gr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+G%10);for(let se of m)w+=se;G>=10&&(C|=1<<5-L)}let R=Gr.determineNumSysAndCheckDigit(h,C);return{rowOffset:w,resultString:R}}decodeEnd(o,c){return Gr.findGuardPatternWithoutCounters(o,c,!0,Gr.MIDDLE_END_PATTERN)}checkChecksum(o){return en.checkChecksum(Gr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,c){for(let h=0;h<=1;h++)for(let m=0;m<10;m++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][m]){let y=String.fromCharCode(48+h),w=String.fromCharCode(48+m);return y+o+w}throw pe.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(o){const c=o.slice(1,7).split("").map(y=>y.charCodeAt(0)),h=new X;h.append(o.charAt(0));let m=c[5];switch(m){case 0:case 1:case 2:h.appendChars(c,0,2),h.append(m),h.append("0000"),h.appendChars(c,2,3);break;case 3:h.appendChars(c,0,3),h.append("00000"),h.appendChars(c,3,2);break;case 4:h.appendChars(c,0,4),h.append("00000"),h.append(c[4]);break;default:h.appendChars(c,0,5),h.append("0000"),h.append(m);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Gr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Vs extends Kt{constructor(o){super();let c=o==null?null:o.get(Re.POSSIBLE_FORMATS),h=[];r(c)?(h.push(new Xt),h.push(new Qn),h.push(new tn),h.push(new Gr)):(c.indexOf(Ae.EAN_13)>-1&&h.push(new Xt),c.indexOf(Ae.UPC_A)>-1&&h.push(new Qn),c.indexOf(Ae.EAN_8)>-1&&h.push(new tn),c.indexOf(Ae.UPC_E)>-1&&h.push(new Gr)),this.readers=h}decodeRow(o,c,h){for(let m of this.readers)try{const y=m.decodeRow(o,c,h),w=y.getBarcodeFormat()===Ae.EAN_13&&y.getText().charAt(0)==="0",C=h==null?null:h.get(Re.POSSIBLE_FORMATS),R=C==null||C.includes(Ae.UPC_A);if(w&&R){const L=y.getRawBytes(),G=new he(y.getText().substring(1),L,L?L.length:null,y.getResultPoints(),Ae.UPC_A);return G.putAllMetadata(y.getResultMetadata()),G}return y}catch{}throw new pe}reset(){for(let o of this.readers)o.reset()}}class Wr extends Kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,c){for(let h=0;h<c.length;h++)if(Kt.patternMatchVariance(o,c[h],Wr.MAX_INDIVIDUAL_VARIANCE)<Wr.MAX_AVG_VARIANCE)return h;throw new pe}static count(o){return et.sum(new Int32Array(o))}static increment(o,c){let h=0,m=c[0];for(let y=1;y<o.length;y++)c[y]>m&&(m=c[y],h=y);o[h]++}static decrement(o,c){let h=0,m=c[0];for(let y=1;y<o.length;y++)c[y]<m&&(m=c[y],h=y);o[h]--}static isFinderPattern(o){let c=o[0]+o[1],h=c+o[2]+o[3],m=c/h;if(m>=Wr.MIN_FINDER_PATTERN_RATIO&&m<=Wr.MAX_FINDER_PATTERN_RATIO){let y=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let C of o)C>w&&(w=C),C<y&&(y=C);return w<10*y}return!1}}Wr.MAX_AVG_VARIANCE=.2,Wr.MAX_INDIVIDUAL_VARIANCE=.45,Wr.MIN_FINDER_PATTERN_RATIO=9.5/12,Wr.MAX_FINDER_PATTERN_RATIO=12.5/14;class us{constructor(o,c){this.value=o,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof us))return!1;const c=o;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class on{constructor(o,c,h,m,y){this.value=o,this.startEnd=c,this.value=o,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new ot(h,y)),this.resultPoints.push(new ot(m,y))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof on))return!1;const c=o;return this.value===c.value}hashCode(){return this.value}}class zs{constructor(){}static getRSSvalue(o,c,h){let m=0;for(let R of o)m+=R;let y=0,w=0,C=o.length;for(let R=0;R<C-1;R++){let L;for(L=1,w|=1<<R;L<o[R];L++,w&=~(1<<R)){let G=zs.combins(m-L-1,C-R-2);if(h&&w===0&&m-L-(C-R-1)>=C-R-1&&(G-=zs.combins(m-L-(C-R),C-R-2)),C-R-1>1){let se=0;for(let ie=m-L-(C-R-2);ie>c;ie--)se+=zs.combins(m-L-ie-1,C-R-3);G-=se*(C-1-R)}else m-L>c&&G--;y+=G}m-=L}return y}static combins(o,c){let h,m;o-c>c?(m=c,h=o-c):(m=o-c,h=c);let y=1,w=1;for(let C=o;C>h;C--)y*=C,w<=m&&(y/=w,w++);for(;w<=m;)y/=w,w++;return y}}class ti{static buildBitArray(o){let c=o.length*2-1;o[o.length-1].getRightChar()==null&&(c-=1);let h=12*c,m=new ee(h),y=0,C=o[0].getRightChar().getValue();for(let R=11;R>=0;--R)(C&1<<R)!=0&&m.set(y),y++;for(let R=1;R<o.length;++R){let L=o[R],G=L.getLeftChar().getValue();for(let se=11;se>=0;--se)(G&1<<se)!=0&&m.set(y),y++;if(L.getRightChar()!=null){let se=L.getRightChar().getValue();for(let ie=11;ie>=0;--ie)(se&1<<ie)!=0&&m.set(y),y++}}return m}}class Ss{constructor(o,c){c?this.decodedInformation=null:(this.finished=o,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class oa{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class Gn extends oa{constructor(o,c){super(o),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class br extends oa{constructor(o,c,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Rr extends oa{constructor(o,c,h){if(super(o),c<0||c>10||h<0||h>10)throw new Y;this.firstDigit=c,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Rr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Rr.FNC1}isAnyFNC1(){return this.firstDigit===Rr.FNC1||this.secondDigit===Rr.FNC1}}Rr.FNC1=10;class Rt{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new pe;let c=o.substring(0,2);for(let y of Rt.TWO_DIGIT_DATA_LENGTH)if(y[0]===c)return y[1]===Rt.VARIABLE_LENGTH?Rt.processVariableAI(2,y[2],o):Rt.processFixedAI(2,y[1],o);if(o.length<3)throw new pe;let h=o.substring(0,3);for(let y of Rt.THREE_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Rt.VARIABLE_LENGTH?Rt.processVariableAI(3,y[2],o):Rt.processFixedAI(3,y[1],o);for(let y of Rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(y[0]===h)return y[1]===Rt.VARIABLE_LENGTH?Rt.processVariableAI(4,y[2],o):Rt.processFixedAI(4,y[1],o);if(o.length<4)throw new pe;let m=o.substring(0,4);for(let y of Rt.FOUR_DIGIT_DATA_LENGTH)if(y[0]===m)return y[1]===Rt.VARIABLE_LENGTH?Rt.processVariableAI(4,y[2],o):Rt.processFixedAI(4,y[1],o);throw new pe}static processFixedAI(o,c,h){if(h.length<o)throw new pe;let m=h.substring(0,o);if(h.length<o+c)throw new pe;let y=h.substring(o,o+c),w=h.substring(o+c),C="("+m+")"+y,R=Rt.parseFieldsInGeneralPurpose(w);return R==null?C:C+R}static processVariableAI(o,c,h){let m=h.substring(0,o),y;h.length<o+c?y=h.length:y=o+c;let w=h.substring(o,y),C=h.substring(y),R="("+m+")"+w,L=Rt.parseFieldsInGeneralPurpose(C);return L==null?R:R+L}}Rt.VARIABLE_LENGTH=[],Rt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Rt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Rt.VARIABLE_LENGTH,20],["22",Rt.VARIABLE_LENGTH,29],["30",Rt.VARIABLE_LENGTH,8],["37",Rt.VARIABLE_LENGTH,8],["90",Rt.VARIABLE_LENGTH,30],["91",Rt.VARIABLE_LENGTH,30],["92",Rt.VARIABLE_LENGTH,30],["93",Rt.VARIABLE_LENGTH,30],["94",Rt.VARIABLE_LENGTH,30],["95",Rt.VARIABLE_LENGTH,30],["96",Rt.VARIABLE_LENGTH,30],["97",Rt.VARIABLE_LENGTH,3],["98",Rt.VARIABLE_LENGTH,30],["99",Rt.VARIABLE_LENGTH,30]],Rt.THREE_DIGIT_DATA_LENGTH=[["240",Rt.VARIABLE_LENGTH,30],["241",Rt.VARIABLE_LENGTH,30],["242",Rt.VARIABLE_LENGTH,6],["250",Rt.VARIABLE_LENGTH,30],["251",Rt.VARIABLE_LENGTH,30],["253",Rt.VARIABLE_LENGTH,17],["254",Rt.VARIABLE_LENGTH,20],["400",Rt.VARIABLE_LENGTH,30],["401",Rt.VARIABLE_LENGTH,30],["402",17],["403",Rt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Rt.VARIABLE_LENGTH,20],["421",Rt.VARIABLE_LENGTH,15],["422",3],["423",Rt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Rt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Rt.VARIABLE_LENGTH,15],["391",Rt.VARIABLE_LENGTH,18],["392",Rt.VARIABLE_LENGTH,15],["393",Rt.VARIABLE_LENGTH,18],["703",Rt.VARIABLE_LENGTH,30]],Rt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Rt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Rt.VARIABLE_LENGTH,20],["8003",Rt.VARIABLE_LENGTH,30],["8004",Rt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Rt.VARIABLE_LENGTH,30],["8008",Rt.VARIABLE_LENGTH,12],["8018",18],["8020",Rt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Rt.VARIABLE_LENGTH,70],["8200",Rt.VARIABLE_LENGTH,70]];class vs{constructor(o){this.buffer=new X,this.information=o}decodeAllCodes(o,c){let h=c,m=null;do{let y=this.decodeGeneralPurposeField(h,m),w=Rt.parseFieldsInGeneralPurpose(y.getNewString());if(w!=null&&o.append(w),y.isRemaining()?m=""+y.getRemainingValue():m=null,h===y.getNewPosition())break;h=y.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let c=o;c<o+3;++c)if(this.information.get(c))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let y=this.extractNumericValueFromBitArray(o,4);return y===0?new Rr(this.information.getSize(),Rr.FNC1,Rr.FNC1):new Rr(this.information.getSize(),y-1,Rr.FNC1)}let c=this.extractNumericValueFromBitArray(o,7),h=(c-8)/11,m=(c-8)%11;return new Rr(o+7,h,m)}extractNumericValueFromBitArray(o,c){return vs.extractNumericValueFromBitArray(this.information,o,c)}static extractNumericValueFromBitArray(o,c,h){let m=0;for(let y=0;y<h;++y)o.get(c+y)&&(m|=1<<h-y-1);return m}decodeGeneralPurposeField(o,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new br(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new br(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,c;do{let h=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),o=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),o=c.isFinished()):(c=this.parseNumericBlock(),o=c.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let c;return o.isSecondDigitFNC1()?c=new br(this.current.getPosition(),this.buffer.toString()):c=new br(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Ss(!0,c)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let c=new br(this.current.getPosition(),this.buffer.toString());return new Ss(!0,c)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ss(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new br(this.current.getPosition(),this.buffer.toString());return new Ss(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ss(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let c=new br(this.current.getPosition(),this.buffer.toString());return new Ss(!0,c)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ss(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(o,8);return m>=232&&m<253}decodeIsoIec646(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Gn(o+5,Gn.FNC1);if(c>=5&&c<15)return new Gn(o+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new Gn(o+7,""+(h+1));if(h>=90&&h<116)return new Gn(o+7,""+(h+7));let m=this.extractNumericValueFromBitArray(o,8),y;switch(m){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new Y}return new Gn(o+8,y)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(o,5);if(c>=5&&c<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let c=this.extractNumericValueFromBitArray(o,5);if(c===15)return new Gn(o+5,Gn.FNC1);if(c>=5&&c<15)return new Gn(o+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new Gn(o+6,""+(h+33));let m;switch(h){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new ve("Decoding invalid alphanumeric value: "+h)}return new Gn(o+6,m)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<5&&c+o<this.information.getSize();++c)if(c===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+c))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let c=o;c<o+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let c=0;c<4&&c+o<this.information.getSize();++c)if(this.information.get(o+c))return!1;return!0}}class wr{constructor(o){this.information=o,this.generalDecoder=new vs(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Kn extends wr{constructor(o){super(o)}encodeCompressedGtin(o,c){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,c,h)}encodeCompressedGtinWithoutAI(o,c,h){for(let m=0;m<4;++m){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*m,10);y/100===0&&o.append("0"),y/10===0&&o.append("0"),o.append(y)}Kn.appendCheckDigit(o,h)}static appendCheckDigit(o,c){let h=0;for(let m=0;m<13;m++){let y=o.charAt(m+c).charCodeAt(0)-48;h+=(m&1)===0?3*y:y}h=10-h%10,h===10&&(h=0),o.append(h)}}Kn.GTIN_SIZE=40;class ns extends Kn{constructor(o){super(o)}parseInformation(){let o=new X;o.append("(01)");let c=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(ns.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,ns.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(o,ns.HEADER_SIZE+44)}}ns.HEADER_SIZE=4;class Js extends wr{constructor(o){super(o)}parseInformation(){let o=new X;return this.getGeneralDecoder().decodeAllCodes(o,Js.HEADER_SIZE)}}Js.HEADER_SIZE=5;class Aa extends Kn{constructor(o){super(o)}encodeCompressedWeight(o,c,h){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(c,h);this.addWeightCode(o,m);let y=this.checkWeight(m),w=1e5;for(let C=0;C<5;++C)y/w===0&&o.append("0"),w/=10;o.append(y)}}class Zs extends Aa{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Zs.HEADER_SIZE+Aa.GTIN_SIZE+Zs.WEIGHT_SIZE)throw new pe;let o=new X;return this.encodeCompressedGtin(o,Zs.HEADER_SIZE),this.encodeCompressedWeight(o,Zs.HEADER_SIZE+Aa.GTIN_SIZE,Zs.WEIGHT_SIZE),o.toString()}}Zs.HEADER_SIZE=5,Zs.WEIGHT_SIZE=15;class Ni extends Zs{constructor(o){super(o)}addWeightCode(o,c){o.append("(3103)")}checkWeight(o){return o}}class Ba extends Zs{constructor(o){super(o)}addWeightCode(o,c){c<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Hs extends Kn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Hs.HEADER_SIZE+Kn.GTIN_SIZE)throw new pe;let o=new X;this.encodeCompressedGtin(o,Hs.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Hs.HEADER_SIZE+Kn.GTIN_SIZE,Hs.LAST_DIGIT_SIZE);o.append("(392"),o.append(c),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Hs.HEADER_SIZE+Kn.GTIN_SIZE+Hs.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}Hs.HEADER_SIZE=8,Hs.LAST_DIGIT_SIZE=2;class Ur extends Kn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Ur.HEADER_SIZE+Kn.GTIN_SIZE)throw new pe;let o=new X;this.encodeCompressedGtin(o,Ur.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ur.HEADER_SIZE+Kn.GTIN_SIZE,Ur.LAST_DIGIT_SIZE);o.append("(393"),o.append(c),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ur.HEADER_SIZE+Kn.GTIN_SIZE+Ur.LAST_DIGIT_SIZE,Ur.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let m=this.getGeneralDecoder().decodeGeneralPurposeField(Ur.HEADER_SIZE+Kn.GTIN_SIZE+Ur.LAST_DIGIT_SIZE+Ur.FIRST_THREE_DIGITS_SIZE,null);return o.append(m.getNewString()),o.toString()}}Ur.HEADER_SIZE=8,Ur.LAST_DIGIT_SIZE=2,Ur.FIRST_THREE_DIGITS_SIZE=10;class $n extends Aa{constructor(o,c,h){super(o),this.dateCode=h,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE+$n.DATE_SIZE)throw new pe;let o=new X;return this.encodeCompressedGtin(o,$n.HEADER_SIZE),this.encodeCompressedWeight(o,$n.HEADER_SIZE+$n.GTIN_SIZE,$n.WEIGHT_SIZE),this.encodeCompressedDate(o,$n.HEADER_SIZE+$n.GTIN_SIZE+$n.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,$n.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let m=h%32;h/=32;let y=h%12+1;h/=12;let w=h;w/10==0&&o.append("0"),o.append(w),y/10==0&&o.append("0"),o.append(y),m/10==0&&o.append("0"),o.append(m)}addWeightCode(o,c){o.append("("),o.append(this.firstAIdigits),o.append(c/1e5),o.append(")")}checkWeight(o){return o%1e5}}$n.HEADER_SIZE=8,$n.WEIGHT_SIZE=20,$n.DATE_SIZE=16;function Ua(re){try{if(re.get(1))return new ns(re);if(!re.get(2))return new Js(re);switch(vs.extractNumericValueFromBitArray(re,1,4)){case 4:return new Ni(re);case 5:return new Ba(re)}switch(vs.extractNumericValueFromBitArray(re,1,5)){case 12:return new Hs(re);case 13:return new Ur(re)}switch(vs.extractNumericValueFromBitArray(re,1,7)){case 56:return new $n(re,"310","11");case 57:return new $n(re,"320","11");case 58:return new $n(re,"310","13");case 59:return new $n(re,"320","13");case 60:return new $n(re,"310","15");case 61:return new $n(re,"320","15");case 62:return new $n(re,"310","17");case 63:return new $n(re,"320","17")}}catch(o){throw console.log(o),new ve("unknown decoder: "+re)}}class Os{constructor(o,c,h,m){this.leftchar=o,this.rightchar=c,this.finderpattern=h,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,c){return o instanceof Os?Os.equalsOrNull(o.leftchar,c.leftchar)&&Os.equalsOrNull(o.rightchar,c.rightchar)&&Os.equalsOrNull(o.finderpattern,c.finderpattern):!1}static equalsOrNull(o,c){return o===null?c===null:Os.equals(o,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class rs{constructor(o,c,h){this.pairs=o,this.rowNumber=c,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,c){return o instanceof rs?this.checkEqualitity(o,c)&&o.wasReversed===c.wasReversed:!1}checkEqualitity(o,c){if(!o||!c)return;let h;return o.forEach((m,y)=>{c.forEach(w=>{m.getLeftChar().getValue()===w.getLeftChar().getValue()&&m.getRightChar().getValue()===w.getRightChar().getValue()&&m.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class yt extends Wr{constructor(o){super(...arguments),this.pairs=new Array(yt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,c,h){this.pairs.length=0,this.startFromEven=!1;try{return yt.constructResult(this.decodeRow2pairs(o,c))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,yt.constructResult(this.decodeRow2pairs(o,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,c){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,o))}catch(y){if(y instanceof pe){if(!this.pairs.length)throw new pe;h=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(o,!1),m){let y=this.checkRowsBoolean(!1);if(y!=null||(y=this.checkRowsBoolean(!0),y!=null))return y}throw new pe}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),c}checkRows(o,c){for(let h=c;h<this.rows.length;h++){let m=this.rows[h];this.pairs.length=0;for(let w of o)this.pairs.push(w.getPairs());if(this.pairs.push(m.getPairs()),!yt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let y=new Array(o);y.push(m);try{return this.checkRows(y,h+1)}catch(w){this.verbose&&console.log(w)}}throw new pe}static isValidSequence(o){for(let c of yt.FINDER_PATTERN_SEQUENCES){if(o.length>c.length)continue;let h=!0;for(let m=0;m<o.length;m++)if(o[m].getFinderPattern().getValue()!=c[m]){h=!1;break}if(h)return!0}return!1}storeRow(o,c){let h=0,m=!1,y=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>o){y=w.isEquivalent(this.pairs);break}m=w.isEquivalent(this.pairs),h++}y||m||yt.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new rs(this.pairs,o,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,c){for(let h of c)if(h.getPairs().length!==o.length){for(let m of h.getPairs())for(let y of o)if(Os.equals(m,y))break}}static isPartialRow(o,c){for(let h of c){let m=!0;for(let y of o){let w=!1;for(let C of h.getPairs())if(y.equals(C)){w=!0;break}if(!w){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(o){let c=ti.buildBitArray(o),m=Ua(c).parseInformation(),y=o[0].getFinderPattern().getResultPoints(),w=o[o.length-1].getFinderPattern().getResultPoints(),C=[y[0],y[1],w[0],w[1]];return new he(m,null,null,C,Ae.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),c=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let m=h.getChecksumPortion(),y=2;for(let C=1;C<this.pairs.size();++C){let R=this.pairs.get(C);m+=R.getLeftChar().getChecksumPortion(),y++;let L=R.getRightChar();L!=null&&(m+=L.getChecksumPortion(),y++)}return m%=211,211*(y-4)+m==c.getValue()}static getNextSecondBar(o,c){let h;return o.get(c)?(h=o.getNextUnset(c),h=o.getNextSet(h)):(h=o.getNextSet(c),h=o.getNextUnset(h)),h}retrieveNextPair(o,c,h){let m=c.length%2==0;this.startFromEven&&(m=!m);let y,w=!0,C=-1;do this.findNextPair(o,c,C),y=this.parseFoundFinderPattern(o,h,m),y==null?C=yt.getNextSecondBar(o,this.startEnd[0]):w=!1;while(w);let R=this.decodeDataCharacter(o,y,m,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new pe;let L;try{L=this.decodeDataCharacter(o,y,m,!1)}catch(G){L=null,this.verbose&&console.log(G)}return new Os(R,L,y,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,c,h){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let y=o.getSize(),w;h>=0?w=h:this.isEmptyPair(c)?w=0:w=c[c.length-1].getFinderPattern().getStartEnd()[1];let C=c.length%2!=0;this.startFromEven&&(C=!C);let R=!1;for(;w<y&&(R=!o.get(w),!!R);)w++;let L=0,G=w;for(let se=w;se<y;se++)if(o.get(se)!=R)m[L]++;else{if(L==3){if(C&&yt.reverseCounters(m),yt.isFinderPattern(m)){this.startEnd[0]=G,this.startEnd[1]=se;return}C&&yt.reverseCounters(m),G+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,L--}else L++;m[L]=1,R=!R}throw new pe}static reverseCounters(o){let c=o.length;for(let h=0;h<c/2;++h){let m=o[h];o[h]=o[c-h-1],o[c-h-1]=m}}parseFoundFinderPattern(o,c,h){let m,y,w;if(h){let L=this.startEnd[0]-1;for(;L>=0&&!o.get(L);)L--;L++,m=this.startEnd[0]-L,y=L,w=this.startEnd[1]}else y=this.startEnd[0],w=o.getNextUnset(this.startEnd[1]+1),m=w-this.startEnd[1];let C=this.getDecodeFinderCounters();k.arraycopy(C,0,C,1,C.length-1),C[0]=m;let R;try{R=this.parseFinderValue(C,yt.FINDER_PATTERNS)}catch{return null}return new on(R,[y,w],y,w,c)}decodeDataCharacter(o,c,h,m){let y=this.getDataCharacterCounters();for(let Vr=0;Vr<y.length;Vr++)y[Vr]=0;if(m)yt.recordPatternInReverse(o,c.getStartEnd()[0],y);else{yt.recordPattern(o,c.getStartEnd()[1],y);for(let Vr=0,fa=y.length-1;Vr<fa;Vr++,fa--){let vi=y[Vr];y[Vr]=y[fa],y[fa]=vi}}let w=17,C=et.sum(new Int32Array(y))/w,R=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(C-R)/R>.3)throw new pe;let L=this.getOddCounts(),G=this.getEvenCounts(),se=this.getOddRoundingErrors(),ie=this.getEvenRoundingErrors();for(let Vr=0;Vr<y.length;Vr++){let fa=1*y[Vr]/C,vi=fa+.5;if(vi<1){if(fa<.3)throw new pe;vi=1}else if(vi>8){if(fa>8.7)throw new pe;vi=8}let dl=Vr/2;(Vr&1)==0?(L[dl]=vi,se[dl]=fa-vi):(G[dl]=vi,ie[dl]=fa-vi)}this.adjustOddEvenCounts(w);let Ee=4*c.getValue()+(h?0:2)+(m?0:1)-1,Pe=0,Me=0;for(let Vr=L.length-1;Vr>=0;Vr--){if(yt.isNotA1left(c,h,m)){let fa=yt.WEIGHTS[Ee][2*Vr];Me+=L[Vr]*fa}Pe+=L[Vr]}let Ve=0;for(let Vr=G.length-1;Vr>=0;Vr--)if(yt.isNotA1left(c,h,m)){let fa=yt.WEIGHTS[Ee][2*Vr+1];Ve+=G[Vr]*fa}let Ze=Me+Ve;if((Pe&1)!=0||Pe>13||Pe<4)throw new pe;let dt=(13-Pe)/2,ft=yt.SYMBOL_WIDEST[dt],ht=9-ft,yn=zs.getRSSvalue(L,ft,!0),Nn=zs.getRSSvalue(G,ht,!1),ps=yt.EVEN_TOTAL_SUBSET[dt],Ra=yt.GSUM[dt],da=yn*ps+Nn+Ra;return new us(da,Ze)}static isNotA1left(o,c,h){return!(o.getValue()==0&&c&&h)}adjustOddEvenCounts(o){let c=et.sum(new Int32Array(this.getOddCounts())),h=et.sum(new Int32Array(this.getEvenCounts())),m=!1,y=!1;c>13?y=!0:c<4&&(m=!0);let w=!1,C=!1;h>13?C=!0:h<4&&(w=!0);let R=c+h-o,L=(c&1)==1,G=(h&1)==0;if(R==1)if(L){if(G)throw new pe;y=!0}else{if(!G)throw new pe;C=!0}else if(R==-1)if(L){if(G)throw new pe;m=!0}else{if(!G)throw new pe;w=!0}else if(R==0){if(L){if(!G)throw new pe;c<h?(m=!0,C=!0):(y=!0,w=!0)}else if(G)throw new pe}else throw new pe;if(m){if(y)throw new pe;yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(C)throw new pe;yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.SYMBOL_WIDEST=[7,5,4,3,1],yt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],yt.GSUM=[0,348,1388,2948,3988],yt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],yt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],yt.FINDER_PAT_A=0,yt.FINDER_PAT_B=1,yt.FINDER_PAT_C=2,yt.FINDER_PAT_D=3,yt.FINDER_PAT_E=4,yt.FINDER_PAT_F=5,yt.FINDER_PATTERN_SEQUENCES=[[yt.FINDER_PAT_A,yt.FINDER_PAT_A],[yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B],[yt.FINDER_PAT_A,yt.FINDER_PAT_C,yt.FINDER_PAT_B,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_C],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F]],yt.MAX_PAIRS=11;class Va extends us{constructor(o,c,h){super(o,c),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class fr extends Wr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,c,h){const m=this.decodePair(c,!1,o,h);fr.addOrTally(this.possibleLeftPairs,m),c.reverse();let y=this.decodePair(c,!0,o,h);fr.addOrTally(this.possibleRightPairs,y),c.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&fr.checkChecksum(w,C))return fr.constructResult(w,C)}throw new pe}static addOrTally(o,c){if(c==null)return;let h=!1;for(let m of o)if(m.getValue()===c.getValue()){m.incrementCount(),h=!0;break}h||o.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,c){let h=4537077*o.getValue()+c.getValue(),m=new String(h).toString(),y=new X;for(let L=13-m.length;L>0;L--)y.append("0");y.append(m);let w=0;for(let L=0;L<13;L++){let G=y.charAt(L).charCodeAt(0)-48;w+=(L&1)===0?3*G:G}w=10-w%10,w===10&&(w=0),y.append(w.toString());let C=o.getFinderPattern().getResultPoints(),R=c.getFinderPattern().getResultPoints();return new he(y.toString(),null,0,[C[0],C[1],R[0],R[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(o,c){let h=(o.getChecksumPortion()+16*c.getChecksumPortion())%79,m=9*o.getFinderPattern().getValue()+c.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,h===m}decodePair(o,c,h,m){try{let y=this.findFinderPattern(o,c),w=this.parseFoundFinderPattern(o,h,c,y),C=m==null?null:m.get(Re.NEED_RESULT_POINT_CALLBACK);if(C!=null){let G=(y[0]+y[1])/2;c&&(G=o.getSize()-1-G),C.foundPossibleResultPoint(new ot(G,h))}let R=this.decodeDataCharacter(o,w,!0),L=this.decodeDataCharacter(o,w,!1);return new Va(1597*R.getValue()+L.getValue(),R.getChecksumPortion()+4*L.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(o,c,h){let m=this.getDataCharacterCounters();for(let Ve=0;Ve<m.length;Ve++)m[Ve]=0;if(h)Kt.recordPatternInReverse(o,c.getStartEnd()[0],m);else{Kt.recordPattern(o,c.getStartEnd()[1]+1,m);for(let Ve=0,Ze=m.length-1;Ve<Ze;Ve++,Ze--){let dt=m[Ve];m[Ve]=m[Ze],m[Ze]=dt}}let y=h?16:15,w=et.sum(new Int32Array(m))/y,C=this.getOddCounts(),R=this.getEvenCounts(),L=this.getOddRoundingErrors(),G=this.getEvenRoundingErrors();for(let Ve=0;Ve<m.length;Ve++){let Ze=m[Ve]/w,dt=Math.floor(Ze+.5);dt<1?dt=1:dt>8&&(dt=8);let ft=Math.floor(Ve/2);(Ve&1)===0?(C[ft]=dt,L[ft]=Ze-dt):(R[ft]=dt,G[ft]=Ze-dt)}this.adjustOddEvenCounts(h,y);let se=0,ie=0;for(let Ve=C.length-1;Ve>=0;Ve--)ie*=9,ie+=C[Ve],se+=C[Ve];let Ee=0,Pe=0;for(let Ve=R.length-1;Ve>=0;Ve--)Ee*=9,Ee+=R[Ve],Pe+=R[Ve];let Me=ie+3*Ee;if(h){if((se&1)!==0||se>12||se<4)throw new pe;let Ve=(12-se)/2,Ze=fr.OUTSIDE_ODD_WIDEST[Ve],dt=9-Ze,ft=zs.getRSSvalue(C,Ze,!1),ht=zs.getRSSvalue(R,dt,!0),yn=fr.OUTSIDE_EVEN_TOTAL_SUBSET[Ve],Nn=fr.OUTSIDE_GSUM[Ve];return new us(ft*yn+ht+Nn,Me)}else{if((Pe&1)!==0||Pe>10||Pe<4)throw new pe;let Ve=(10-Pe)/2,Ze=fr.INSIDE_ODD_WIDEST[Ve],dt=9-Ze,ft=zs.getRSSvalue(C,Ze,!0),ht=zs.getRSSvalue(R,dt,!1),yn=fr.INSIDE_ODD_TOTAL_SUBSET[Ve],Nn=fr.INSIDE_GSUM[Ve];return new us(ht*yn+ft+Nn,Me)}}findFinderPattern(o,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let m=o.getSize(),y=!1,w=0;for(;w<m&&(y=!o.get(w),c!==y);)w++;let C=0,R=w;for(let L=w;L<m;L++)if(o.get(L)!==y)h[C]++;else{if(C===3){if(Wr.isFinderPattern(h))return[R,L];R+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,y=!y}throw new pe}parseFoundFinderPattern(o,c,h,m){let y=o.get(m[0]),w=m[0]-1;for(;w>=0&&y!==o.get(w);)w--;w++;const C=m[0]-w,R=this.getDecodeFinderCounters(),L=new Int32Array(R.length);k.arraycopy(R,0,L,1,R.length-1),L[0]=C;const G=this.parseFinderValue(L,fr.FINDER_PATTERNS);let se=w,ie=m[1];return h&&(se=o.getSize()-1-se,ie=o.getSize()-1-ie),new on(G,[w,m[1]],se,ie,c)}adjustOddEvenCounts(o,c){let h=et.sum(new Int32Array(this.getOddCounts())),m=et.sum(new Int32Array(this.getEvenCounts())),y=!1,w=!1,C=!1,R=!1;o?(h>12?w=!0:h<4&&(y=!0),m>12?R=!0:m<4&&(C=!0)):(h>11?w=!0:h<5&&(y=!0),m>10?R=!0:m<4&&(C=!0));let L=h+m-c,G=(h&1)===(o?1:0),se=(m&1)===1;if(L===1)if(G){if(se)throw new pe;w=!0}else{if(!se)throw new pe;R=!0}else if(L===-1)if(G){if(se)throw new pe;y=!0}else{if(!se)throw new pe;C=!0}else if(L===0){if(G){if(!se)throw new pe;h<m?(y=!0,R=!0):(w=!0,C=!0)}else if(se)throw new pe}else throw new pe;if(y){if(w)throw new pe;Wr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Wr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(R)throw new pe;Wr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}R&&Wr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],fr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],fr.OUTSIDE_GSUM=[0,161,961,2015,2715],fr.INSIDE_GSUM=[0,336,1036,1516],fr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],fr.INSIDE_ODD_WIDEST=[2,4,6,8],fr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class la extends Kt{constructor(o,c){super(),this.readers=[],this.verbose=c===!0;const h=o?o.get(Re.POSSIBLE_FORMATS):null,m=o&&o.get(Re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Ae.EAN_13)||h.includes(Ae.UPC_A)||h.includes(Ae.EAN_8)||h.includes(Ae.UPC_E))&&this.readers.push(new Vs(o)),h.includes(Ae.CODE_39)&&this.readers.push(new Vt(m)),h.includes(Ae.CODE_128)&&this.readers.push(new at),h.includes(Ae.ITF)&&this.readers.push(new Bt),h.includes(Ae.RSS_14)&&this.readers.push(new fr),h.includes(Ae.RSS_EXPANDED)&&this.readers.push(new yt(this.verbose))):(this.readers.push(new Vs(o)),this.readers.push(new Vt),this.readers.push(new Vs(o)),this.readers.push(new at),this.readers.push(new Bt),this.readers.push(new fr),this.readers.push(new yt(this.verbose)))}decodeRow(o,c,h){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(o,c,h)}catch{}throw new pe}reset(){this.readers.forEach(o=>o.reset())}}class Po extends le{constructor(o=500,c){super(new la(c),o,c)}}class ir{constructor(o,c,h){this.ecCodewords=o,this.ecBlocks=[c],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ar{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Wn{constructor(o,c,h,m,y,w){this.versionNumber=o,this.symbolSizeRows=c,this.symbolSizeColumns=h,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=y,this.ecBlocks=w;let C=0;const R=w.getECCodewords(),L=w.getECBlocks();for(let G of L)C+=G.getCount()*(G.getDataCodewords()+R);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,c){if((o&1)!==0||(c&1)!==0)throw new Y;for(let h of Wn.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===c)return h;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new Wn(1,10,10,8,8,new ir(5,new ar(1,3))),new Wn(2,12,12,10,10,new ir(7,new ar(1,5))),new Wn(3,14,14,12,12,new ir(10,new ar(1,8))),new Wn(4,16,16,14,14,new ir(12,new ar(1,12))),new Wn(5,18,18,16,16,new ir(14,new ar(1,18))),new Wn(6,20,20,18,18,new ir(18,new ar(1,22))),new Wn(7,22,22,20,20,new ir(20,new ar(1,30))),new Wn(8,24,24,22,22,new ir(24,new ar(1,36))),new Wn(9,26,26,24,24,new ir(28,new ar(1,44))),new Wn(10,32,32,14,14,new ir(36,new ar(1,62))),new Wn(11,36,36,16,16,new ir(42,new ar(1,86))),new Wn(12,40,40,18,18,new ir(48,new ar(1,114))),new Wn(13,44,44,20,20,new ir(56,new ar(1,144))),new Wn(14,48,48,22,22,new ir(68,new ar(1,174))),new Wn(15,52,52,24,24,new ir(42,new ar(2,102))),new Wn(16,64,64,14,14,new ir(56,new ar(2,140))),new Wn(17,72,72,16,16,new ir(36,new ar(4,92))),new Wn(18,80,80,18,18,new ir(48,new ar(4,114))),new Wn(19,88,88,20,20,new ir(56,new ar(4,144))),new Wn(20,96,96,22,22,new ir(68,new ar(4,174))),new Wn(21,104,104,24,24,new ir(56,new ar(6,136))),new Wn(22,120,120,18,18,new ir(68,new ar(6,175))),new Wn(23,132,132,20,20,new ir(62,new ar(8,163))),new Wn(24,144,144,22,22,new ir(62,new ar(8,156),new ar(2,155))),new Wn(25,8,18,6,16,new ir(7,new ar(1,5))),new Wn(26,8,32,6,14,new ir(11,new ar(1,10))),new Wn(27,12,26,10,24,new ir(14,new ar(1,16))),new Wn(28,12,36,10,16,new ir(18,new ar(1,22))),new Wn(29,16,36,14,16,new ir(24,new ar(1,32))),new Wn(30,16,48,14,22,new ir(28,new ar(1,49)))]}}Wn.VERSIONS=Wn.buildVersions();class Ea{constructor(o){const c=o.getHeight();if(c<8||c>144||(c&1)!==0)throw new Y;this.version=Ea.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const c=o.getHeight(),h=o.getWidth();return Wn.getVersionForDimensions(c,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let c=0,h=4,m=0;const y=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let C=!1,R=!1,L=!1,G=!1;do if(h===y&&m===0&&!C)o[c++]=this.readCorner1(y,w)&255,h-=2,m+=2,C=!0;else if(h===y-2&&m===0&&(w&3)!==0&&!R)o[c++]=this.readCorner2(y,w)&255,h-=2,m+=2,R=!0;else if(h===y+4&&m===2&&(w&7)===0&&!L)o[c++]=this.readCorner3(y,w)&255,h-=2,m+=2,L=!0;else if(h===y-2&&m===0&&(w&7)===4&&!G)o[c++]=this.readCorner4(y,w)&255,h-=2,m+=2,G=!0;else{do h<y&&m>=0&&!this.readMappingMatrix.get(m,h)&&(o[c++]=this.readUtah(h,m,y,w)&255),h-=2,m+=2;while(h>=0&&m<w);h+=1,m+=3;do h>=0&&m<w&&!this.readMappingMatrix.get(m,h)&&(o[c++]=this.readUtah(h,m,y,w)&255),h+=2,m-=2;while(h<y&&m>=0);h+=3,m+=1}while(h<y||m<w);if(c!==this.version.getTotalCodewords())throw new Y;return o}readModule(o,c,h,m){return o<0&&(o+=h,c+=4-(h+4&7)),c<0&&(c+=m,o+=4-(m+4&7)),this.readMappingMatrix.set(c,o),this.mappingBitMatrix.get(c,o)}readUtah(o,c,h,m){let y=0;return this.readModule(o-2,c-2,h,m)&&(y|=1),y<<=1,this.readModule(o-2,c-1,h,m)&&(y|=1),y<<=1,this.readModule(o-1,c-2,h,m)&&(y|=1),y<<=1,this.readModule(o-1,c-1,h,m)&&(y|=1),y<<=1,this.readModule(o-1,c,h,m)&&(y|=1),y<<=1,this.readModule(o,c-2,h,m)&&(y|=1),y<<=1,this.readModule(o,c-1,h,m)&&(y|=1),y<<=1,this.readModule(o,c,h,m)&&(y|=1),y}readCorner1(o,c){let h=0;return this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,1,o,c)&&(h|=1),h<<=1,this.readModule(o-1,2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(2,c-1,o,c)&&(h|=1),h<<=1,this.readModule(3,c-1,o,c)&&(h|=1),h}readCorner2(o,c){let h=0;return this.readModule(o-3,0,o,c)&&(h|=1),h<<=1,this.readModule(o-2,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(0,c-4,o,c)&&(h|=1),h<<=1,this.readModule(0,c-3,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h}readCorner3(o,c){let h=0;return this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(0,c-3,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-3,o,c)&&(h|=1),h<<=1,this.readModule(1,c-2,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h}readCorner4(o,c){let h=0;return this.readModule(o-3,0,o,c)&&(h|=1),h<<=1,this.readModule(o-2,0,o,c)&&(h|=1),h<<=1,this.readModule(o-1,0,o,c)&&(h|=1),h<<=1,this.readModule(0,c-2,o,c)&&(h|=1),h<<=1,this.readModule(0,c-1,o,c)&&(h|=1),h<<=1,this.readModule(1,c-1,o,c)&&(h|=1),h<<=1,this.readModule(2,c-1,o,c)&&(h|=1),h<<=1,this.readModule(3,c-1,o,c)&&(h|=1),h}extractDataRegion(o){const c=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==c)throw new _("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),y=this.version.getDataRegionSizeColumns(),w=c/m|0,C=h/y|0,R=w*m,L=C*y,G=new be(L,R);for(let se=0;se<w;++se){const ie=se*m;for(let Ee=0;Ee<C;++Ee){const Pe=Ee*y;for(let Me=0;Me<m;++Me){const Ve=se*(m+2)+1+Me,Ze=ie+Me;for(let dt=0;dt<y;++dt){const ft=Ee*(y+2)+1+dt;if(o.get(ft,Ve)){const ht=Pe+dt;G.set(ht,Ze)}}}}}return G}}class qs{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c){const h=c.getECBlocks();let m=0;const y=h.getECBlocks();for(let Me of y)m+=Me.getCount();const w=new Array(m);let C=0;for(let Me of y)for(let Ve=0;Ve<Me.getCount();Ve++){const Ze=Me.getDataCodewords(),dt=h.getECCodewords()+Ze;w[C++]=new qs(Ze,new Uint8Array(dt))}const L=w[0].codewords.length-h.getECCodewords(),G=L-1;let se=0;for(let Me=0;Me<G;Me++)for(let Ve=0;Ve<C;Ve++)w[Ve].codewords[Me]=o[se++];const ie=c.getVersionNumber()===24,Ee=ie?8:C;for(let Me=0;Me<Ee;Me++)w[Me].codewords[L-1]=o[se++];const Pe=w[0].codewords.length;for(let Me=L;Me<Pe;Me++)for(let Ve=0;Ve<C;Ve++){const Ze=ie?(Ve+8)%C:Ve,dt=ie&&Ze>7?Me-1:Me;w[Ze].codewords[dt]=o[se++]}if(se!==o.length)throw new _;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class hs{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new _(""+o);let c=0,h=this.bitOffset,m=this.byteOffset;const y=this.bytes;if(h>0){const w=8-h,C=o<w?o:w,R=w-C,L=255>>8-C<<R;c=(y[m]&L)>>R,o-=C,h+=C,h===8&&(h=0,m++)}if(o>0){for(;o>=8;)c=c<<8|y[m]&255,m++,o-=8;if(o>0){const w=8-o,C=255>>w<<w;c=c<<o|(y[m]&C)>>w,h+=o}}return this.bitOffset=h,this.byteOffset=m,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var vn;(function(re){re[re.PAD_ENCODE=0]="PAD_ENCODE",re[re.ASCII_ENCODE=1]="ASCII_ENCODE",re[re.C40_ENCODE=2]="C40_ENCODE",re[re.TEXT_ENCODE=3]="TEXT_ENCODE",re[re.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",re[re.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",re[re.BASE256_ENCODE=6]="BASE256_ENCODE"})(vn||(vn={}));class ca{static decode(o){const c=new hs(o),h=new X,m=new X,y=new Array;let w=vn.ASCII_ENCODE;do if(w===vn.ASCII_ENCODE)w=this.decodeAsciiSegment(c,h,m);else{switch(w){case vn.C40_ENCODE:this.decodeC40Segment(c,h);break;case vn.TEXT_ENCODE:this.decodeTextSegment(c,h);break;case vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,h);break;case vn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,h);break;case vn.BASE256_ENCODE:this.decodeBase256Segment(c,h,y);break;default:throw new Y}w=vn.ASCII_ENCODE}while(w!==vn.PAD_ENCODE&&c.available()>0);return m.length()>0&&h.append(m.toString()),new We(o,h.toString(),y.length===0?null:y,null)}static decodeAsciiSegment(o,c,h){let m=!1;do{let y=o.readBits(8);if(y===0)throw new Y;if(y<=128)return m&&(y+=128),c.append(String.fromCharCode(y-1)),vn.ASCII_ENCODE;if(y===129)return vn.PAD_ENCODE;if(y<=229){const w=y-130;w<10&&c.append("0"),c.append(""+w)}else switch(y){case 230:return vn.C40_ENCODE;case 231:return vn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:c.append("[)>05"),h.insert(0,"");break;case 237:c.append("[)>06"),h.insert(0,"");break;case 238:return vn.ANSIX12_ENCODE;case 239:return vn.TEXT_ENCODE;case 240:return vn.EDIFACT_ENCODE;case 241:break;default:if(y!==254||o.available()!==0)throw new Y;break}}while(o.available()>0);return vn.ASCII_ENCODE}static decodeC40Segment(o,c){let h=!1;const m=[];let y=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),m);for(let C=0;C<3;C++){const R=m[C];switch(y){case 0:if(R<3)y=R+1;else if(R<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[R];h?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),h=!1):c.append(L)}else throw new Y;break;case 1:h?(c.append(String.fromCharCode(R+128)),h=!1):c.append(String.fromCharCode(R)),y=0;break;case 2:if(R<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[R];h?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),h=!1):c.append(L)}else switch(R){case 27:c.append("");break;case 30:h=!0;break;default:throw new Y}y=0;break;case 3:h?(c.append(String.fromCharCode(R+224)),h=!1):c.append(String.fromCharCode(R+96)),y=0;break;default:throw new Y}}}while(o.available()>0)}static decodeTextSegment(o,c){let h=!1,m=[],y=0;do{if(o.available()===8)return;const w=o.readBits(8);if(w===254)return;this.parseTwoBytes(w,o.readBits(8),m);for(let C=0;C<3;C++){const R=m[C];switch(y){case 0:if(R<3)y=R+1;else if(R<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[R];h?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),h=!1):c.append(L)}else throw new Y;break;case 1:h?(c.append(String.fromCharCode(R+128)),h=!1):c.append(String.fromCharCode(R)),y=0;break;case 2:if(R<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[R];h?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),h=!1):c.append(L)}else switch(R){case 27:c.append("");break;case 30:h=!0;break;default:throw new Y}y=0;break;case 3:if(R<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[R];h?(c.append(String.fromCharCode(L.charCodeAt(0)+128)),h=!1):c.append(L),y=0}else throw new Y;break;default:throw new Y}}}while(o.available()>0)}static decodeAnsiX12Segment(o,c){const h=[];do{if(o.available()===8)return;const m=o.readBits(8);if(m===254)return;this.parseTwoBytes(m,o.readBits(8),h);for(let y=0;y<3;y++){const w=h[y];switch(w){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(w<14)c.append(String.fromCharCode(w+44));else if(w<40)c.append(String.fromCharCode(w+51));else throw new Y;break}}}while(o.available()>0)}static parseTwoBytes(o,c,h){let m=(o<<8)+c-1,y=Math.floor(m/1600);h[0]=y,m-=y*1600,y=Math.floor(m/40),h[1]=y,h[2]=m-y*40}static decodeEdifactSegment(o,c){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let m=o.readBits(6);if(m===31){const y=8-o.getBitOffset();y!==8&&o.readBits(y);return}(m&32)===0&&(m|=64),c.append(String.fromCharCode(m))}}while(o.available()>0)}static decodeBase256Segment(o,c,h){let m=1+o.getByteOffset();const y=this.unrandomize255State(o.readBits(8),m++);let w;if(y===0?w=o.available()/8|0:y<250?w=y:w=250*(y-249)+this.unrandomize255State(o.readBits(8),m++),w<0)throw new Y;const C=new Uint8Array(w);for(let R=0;R<w;R++){if(o.available()<8)throw new Y;C[R]=this.unrandomize255State(o.readBits(8),m++)}h.push(C);try{c.append(z.decode(C,q.ISO88591))}catch(R){throw new ve("Platform does not support required encoding: "+R.message)}}static unrandomize255State(o,c){const h=149*c%255+1,m=o-h;return m>=0?m:m+256}}ca.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ca.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ca.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ca.TEXT_SHIFT2_SET_CHARS=ca.C40_SHIFT2_SET_CHARS,ca.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class fi{constructor(){this.rsDecoder=new Tt(vt.DATA_MATRIX_FIELD_256)}decode(o){const c=new Ea(o),h=c.getVersion(),m=c.readCodewords(),y=qs.getDataBlocks(m,h);let w=0;for(let L of y)w+=L.getNumDataCodewords();const C=new Uint8Array(w),R=y.length;for(let L=0;L<R;L++){const G=y[L],se=G.getCodewords(),ie=G.getNumDataCodewords();this.correctErrors(se,ie);for(let Ee=0;Ee<ie;Ee++)C[Ee*R+L]=se[Ee]}return ca.decode(C)}correctErrors(o,c){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-c)}catch{throw new S}for(let m=0;m<c;m++)o[m]=h[m]}}class _n{constructor(o){this.image=o,this.rectangleDetector=new Cn(this.image)}detect(){const o=this.rectangleDetector.detect();let c=this.detectSolid1(o);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new pe;c=this.shiftToModuleCenter(c);const h=c[0],m=c[1],y=c[2],w=c[3];let C=this.transitionsBetween(h,w)+1,R=this.transitionsBetween(y,w)+1;(C&1)===1&&(C+=1),(R&1)===1&&(R+=1),4*C<7*R&&4*R<7*C&&(C=R=Math.max(C,R));let L=_n.sampleGrid(this.image,h,m,y,w,C,R);return new pn(L,[h,m,y,w])}static shiftPoint(o,c,h){let m=(c.getX()-o.getX())/(h+1),y=(c.getY()-o.getY())/(h+1);return new ot(o.getX()+m,o.getY()+y)}static moveAway(o,c,h){let m=o.getX(),y=o.getY();return m<c?m-=1:m+=1,y<h?y-=1:y+=1,new ot(m,y)}detectSolid1(o){let c=o[0],h=o[1],m=o[3],y=o[2],w=this.transitionsBetween(c,h),C=this.transitionsBetween(h,m),R=this.transitionsBetween(m,y),L=this.transitionsBetween(y,c),G=w,se=[y,c,h,m];return G>C&&(G=C,se[0]=c,se[1]=h,se[2]=m,se[3]=y),G>R&&(G=R,se[0]=h,se[1]=m,se[2]=y,se[3]=c),G>L&&(se[0]=m,se[1]=y,se[2]=c,se[3]=h),se}detectSolid2(o){let c=o[0],h=o[1],m=o[2],y=o[3],w=this.transitionsBetween(c,y),C=_n.shiftPoint(h,m,(w+1)*4),R=_n.shiftPoint(m,h,(w+1)*4),L=this.transitionsBetween(C,c),G=this.transitionsBetween(R,y);return L<G?(o[0]=c,o[1]=h,o[2]=m,o[3]=y):(o[0]=h,o[1]=m,o[2]=y,o[3]=c),o}correctTopRight(o){let c=o[0],h=o[1],m=o[2],y=o[3],w=this.transitionsBetween(c,y),C=this.transitionsBetween(h,y),R=_n.shiftPoint(c,h,(C+1)*4),L=_n.shiftPoint(m,h,(w+1)*4);w=this.transitionsBetween(R,y),C=this.transitionsBetween(L,y);let G=new ot(y.getX()+(m.getX()-h.getX())/(w+1),y.getY()+(m.getY()-h.getY())/(w+1)),se=new ot(y.getX()+(c.getX()-h.getX())/(C+1),y.getY()+(c.getY()-h.getY())/(C+1));if(!this.isValid(G))return this.isValid(se)?se:null;if(!this.isValid(se))return G;let ie=this.transitionsBetween(R,G)+this.transitionsBetween(L,G),Ee=this.transitionsBetween(R,se)+this.transitionsBetween(L,se);return ie>Ee?G:se}shiftToModuleCenter(o){let c=o[0],h=o[1],m=o[2],y=o[3],w=this.transitionsBetween(c,y)+1,C=this.transitionsBetween(m,y)+1,R=_n.shiftPoint(c,h,C*4),L=_n.shiftPoint(m,h,w*4);w=this.transitionsBetween(R,y)+1,C=this.transitionsBetween(L,y)+1,(w&1)===1&&(w+=1),(C&1)===1&&(C+=1);let G=(c.getX()+h.getX()+m.getX()+y.getX())/4,se=(c.getY()+h.getY()+m.getY()+y.getY())/4;c=_n.moveAway(c,G,se),h=_n.moveAway(h,G,se),m=_n.moveAway(m,G,se),y=_n.moveAway(y,G,se);let ie,Ee;return R=_n.shiftPoint(c,h,C*4),R=_n.shiftPoint(R,y,w*4),ie=_n.shiftPoint(h,c,C*4),ie=_n.shiftPoint(ie,m,w*4),L=_n.shiftPoint(m,y,C*4),L=_n.shiftPoint(L,h,w*4),Ee=_n.shiftPoint(y,m,C*4),Ee=_n.shiftPoint(Ee,c,w*4),[R,ie,L,Ee]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,c,h,m,y,w,C){return Dn.getInstance().sampleGrid(o,w,C,.5,.5,w-.5,.5,w-.5,C-.5,.5,C-.5,c.getX(),c.getY(),y.getX(),y.getY(),m.getX(),m.getY(),h.getX(),h.getY())}transitionsBetween(o,c){let h=Math.trunc(o.getX()),m=Math.trunc(o.getY()),y=Math.trunc(c.getX()),w=Math.trunc(c.getY()),C=Math.abs(w-m)>Math.abs(y-h);if(C){let Me=h;h=m,m=Me,Me=y,y=w,w=Me}let R=Math.abs(y-h),L=Math.abs(w-m),G=-R/2,se=m<w?1:-1,ie=h<y?1:-1,Ee=0,Pe=this.image.get(C?m:h,C?h:m);for(let Me=h,Ve=m;Me!==y;Me+=ie){let Ze=this.image.get(C?Ve:Me,C?Me:Ve);if(Ze!==Pe&&(Ee++,Pe=Ze),G+=L,G>0){if(Ve===w)break;Ve+=se,G-=R}}return Ee}}class Ca{constructor(){this.decoder=new fi}decode(o,c=null){let h,m;if(c!=null&&c.has(Re.PURE_BARCODE)){const L=Ca.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(L),m=Ca.NO_POINTS}else{const L=new _n(o.getBlackMatrix()).detect();h=this.decoder.decode(L.getBits()),m=L.getPoints()}const y=h.getRawBytes(),w=new he(h.getText(),y,8*y.length,m,Ae.DATA_MATRIX,k.currentTimeMillis()),C=h.getByteSegments();C!=null&&w.putMetadata(ze.BYTE_SEGMENTS,C);const R=h.getECLevel();return R!=null&&w.putMetadata(ze.ERROR_CORRECTION_LEVEL,R),w}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(c==null||h==null)throw new pe;const m=this.moduleSize(c,o);let y=c[1];const w=h[1];let C=c[0];const L=(h[0]-C+1)/m,G=(w-y+1)/m;if(L<=0||G<=0)throw new pe;const se=m/2;y+=se,C+=se;const ie=new be(L,G);for(let Ee=0;Ee<G;Ee++){const Pe=y+Ee*m;for(let Me=0;Me<L;Me++)o.get(C+Me*m,Pe)&&ie.set(Me,Ee)}return ie}static moduleSize(o,c){const h=c.getWidth();let m=o[0];const y=o[1];for(;m<h&&c.get(m,y);)m++;if(m===h)throw new pe;const w=m-o[0];if(w===0)throw new pe;return w}}Ca.NO_POINTS=[];class Ds extends le{constructor(o=500){super(new Ca,o)}}var Lr;(function(re){re[re.L=0]="L",re[re.M=1]="M",re[re.Q=2]="Q",re[re.H=3]="H"})(Lr||(Lr={}));class kn{constructor(o,c,h){this.value=o,this.stringValue=c,this.bits=h,kn.FOR_BITS.set(h,this),kn.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return kn.L;case"M":return kn.M;case"Q":return kn.Q;case"H":return kn.H;default:throw new b(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof kn))return!1;const c=o;return this.value===c.value}static forBits(o){if(o<0||o>=kn.FOR_BITS.size)throw new _;return kn.FOR_BITS.get(o)}}kn.FOR_BITS=new Map,kn.FOR_VALUE=new Map,kn.L=new kn(Lr.L,"L",1),kn.M=new kn(Lr.M,"M",0),kn.Q=new kn(Lr.Q,"Q",3),kn.H=new kn(Lr.H,"H",2);class ds{constructor(o){this.errorCorrectionLevel=kn.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,c){return Z.bitCount(o^c)}static decodeFormatInformation(o,c){const h=ds.doDecodeFormatInformation(o,c);return h!==null?h:ds.doDecodeFormatInformation(o^ds.FORMAT_INFO_MASK_QR,c^ds.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,c){let h=Number.MAX_SAFE_INTEGER,m=0;for(const y of ds.FORMAT_INFO_DECODE_LOOKUP){const w=y[0];if(w===o||w===c)return new ds(y[1]);let C=ds.numBitsDiffering(o,w);C<h&&(m=y[1],h=C),o!==c&&(C=ds.numBitsDiffering(c,w),C<h&&(m=y[1],h=C))}return h<=3?new ds(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof ds))return!1;const c=o;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}ds.FORMAT_INFO_MASK_QR=21522,ds.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ye{constructor(o,...c){this.ecCodewordsPerBlock=o,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const c=this.ecBlocks;for(const h of c)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _e{constructor(o,c){this.count=o,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ft{constructor(o,c,...h){this.versionNumber=o,this.alignmentPatternCenters=c,this.ecBlocks=h;let m=0;const y=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const C of w)m+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new Y;try{return this.getVersionForNumber((o-17)/4)}catch{throw new Y}}static getVersionForNumber(o){if(o<1||o>40)throw new _;return Ft.VERSIONS[o-1]}static decodeVersionInformation(o){let c=Number.MAX_SAFE_INTEGER,h=0;for(let m=0;m<Ft.VERSION_DECODE_INFO.length;m++){const y=Ft.VERSION_DECODE_INFO[m];if(y===o)return Ft.getVersionForNumber(m+7);const w=ds.numBitsDiffering(o,y);w<c&&(h=m+7,c=w)}return c<=3?Ft.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),c=new be(o);c.setRegion(0,0,9,9),c.setRegion(o-8,0,8,9),c.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let m=0;m<h;m++){const y=this.alignmentPatternCenters[m]-2;for(let w=0;w<h;w++)m===0&&(w===0||w===h-1)||m===h-1&&w===0||c.setRegion(this.alignmentPatternCenters[w]-2,y,5,5)}return c.setRegion(6,9,1,o-17),c.setRegion(9,6,o-17,1),this.versionNumber>6&&(c.setRegion(o-11,0,3,6),c.setRegion(0,o-11,6,3)),c}toString(){return""+this.versionNumber}}Ft.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ft.VERSIONS=[new Ft(1,new Int32Array(0),new Ye(7,new _e(1,19)),new Ye(10,new _e(1,16)),new Ye(13,new _e(1,13)),new Ye(17,new _e(1,9))),new Ft(2,Int32Array.from([6,18]),new Ye(10,new _e(1,34)),new Ye(16,new _e(1,28)),new Ye(22,new _e(1,22)),new Ye(28,new _e(1,16))),new Ft(3,Int32Array.from([6,22]),new Ye(15,new _e(1,55)),new Ye(26,new _e(1,44)),new Ye(18,new _e(2,17)),new Ye(22,new _e(2,13))),new Ft(4,Int32Array.from([6,26]),new Ye(20,new _e(1,80)),new Ye(18,new _e(2,32)),new Ye(26,new _e(2,24)),new Ye(16,new _e(4,9))),new Ft(5,Int32Array.from([6,30]),new Ye(26,new _e(1,108)),new Ye(24,new _e(2,43)),new Ye(18,new _e(2,15),new _e(2,16)),new Ye(22,new _e(2,11),new _e(2,12))),new Ft(6,Int32Array.from([6,34]),new Ye(18,new _e(2,68)),new Ye(16,new _e(4,27)),new Ye(24,new _e(4,19)),new Ye(28,new _e(4,15))),new Ft(7,Int32Array.from([6,22,38]),new Ye(20,new _e(2,78)),new Ye(18,new _e(4,31)),new Ye(18,new _e(2,14),new _e(4,15)),new Ye(26,new _e(4,13),new _e(1,14))),new Ft(8,Int32Array.from([6,24,42]),new Ye(24,new _e(2,97)),new Ye(22,new _e(2,38),new _e(2,39)),new Ye(22,new _e(4,18),new _e(2,19)),new Ye(26,new _e(4,14),new _e(2,15))),new Ft(9,Int32Array.from([6,26,46]),new Ye(30,new _e(2,116)),new Ye(22,new _e(3,36),new _e(2,37)),new Ye(20,new _e(4,16),new _e(4,17)),new Ye(24,new _e(4,12),new _e(4,13))),new Ft(10,Int32Array.from([6,28,50]),new Ye(18,new _e(2,68),new _e(2,69)),new Ye(26,new _e(4,43),new _e(1,44)),new Ye(24,new _e(6,19),new _e(2,20)),new Ye(28,new _e(6,15),new _e(2,16))),new Ft(11,Int32Array.from([6,30,54]),new Ye(20,new _e(4,81)),new Ye(30,new _e(1,50),new _e(4,51)),new Ye(28,new _e(4,22),new _e(4,23)),new Ye(24,new _e(3,12),new _e(8,13))),new Ft(12,Int32Array.from([6,32,58]),new Ye(24,new _e(2,92),new _e(2,93)),new Ye(22,new _e(6,36),new _e(2,37)),new Ye(26,new _e(4,20),new _e(6,21)),new Ye(28,new _e(7,14),new _e(4,15))),new Ft(13,Int32Array.from([6,34,62]),new Ye(26,new _e(4,107)),new Ye(22,new _e(8,37),new _e(1,38)),new Ye(24,new _e(8,20),new _e(4,21)),new Ye(22,new _e(12,11),new _e(4,12))),new Ft(14,Int32Array.from([6,26,46,66]),new Ye(30,new _e(3,115),new _e(1,116)),new Ye(24,new _e(4,40),new _e(5,41)),new Ye(20,new _e(11,16),new _e(5,17)),new Ye(24,new _e(11,12),new _e(5,13))),new Ft(15,Int32Array.from([6,26,48,70]),new Ye(22,new _e(5,87),new _e(1,88)),new Ye(24,new _e(5,41),new _e(5,42)),new Ye(30,new _e(5,24),new _e(7,25)),new Ye(24,new _e(11,12),new _e(7,13))),new Ft(16,Int32Array.from([6,26,50,74]),new Ye(24,new _e(5,98),new _e(1,99)),new Ye(28,new _e(7,45),new _e(3,46)),new Ye(24,new _e(15,19),new _e(2,20)),new Ye(30,new _e(3,15),new _e(13,16))),new Ft(17,Int32Array.from([6,30,54,78]),new Ye(28,new _e(1,107),new _e(5,108)),new Ye(28,new _e(10,46),new _e(1,47)),new Ye(28,new _e(1,22),new _e(15,23)),new Ye(28,new _e(2,14),new _e(17,15))),new Ft(18,Int32Array.from([6,30,56,82]),new Ye(30,new _e(5,120),new _e(1,121)),new Ye(26,new _e(9,43),new _e(4,44)),new Ye(28,new _e(17,22),new _e(1,23)),new Ye(28,new _e(2,14),new _e(19,15))),new Ft(19,Int32Array.from([6,30,58,86]),new Ye(28,new _e(3,113),new _e(4,114)),new Ye(26,new _e(3,44),new _e(11,45)),new Ye(26,new _e(17,21),new _e(4,22)),new Ye(26,new _e(9,13),new _e(16,14))),new Ft(20,Int32Array.from([6,34,62,90]),new Ye(28,new _e(3,107),new _e(5,108)),new Ye(26,new _e(3,41),new _e(13,42)),new Ye(30,new _e(15,24),new _e(5,25)),new Ye(28,new _e(15,15),new _e(10,16))),new Ft(21,Int32Array.from([6,28,50,72,94]),new Ye(28,new _e(4,116),new _e(4,117)),new Ye(26,new _e(17,42)),new Ye(28,new _e(17,22),new _e(6,23)),new Ye(30,new _e(19,16),new _e(6,17))),new Ft(22,Int32Array.from([6,26,50,74,98]),new Ye(28,new _e(2,111),new _e(7,112)),new Ye(28,new _e(17,46)),new Ye(30,new _e(7,24),new _e(16,25)),new Ye(24,new _e(34,13))),new Ft(23,Int32Array.from([6,30,54,78,102]),new Ye(30,new _e(4,121),new _e(5,122)),new Ye(28,new _e(4,47),new _e(14,48)),new Ye(30,new _e(11,24),new _e(14,25)),new Ye(30,new _e(16,15),new _e(14,16))),new Ft(24,Int32Array.from([6,28,54,80,106]),new Ye(30,new _e(6,117),new _e(4,118)),new Ye(28,new _e(6,45),new _e(14,46)),new Ye(30,new _e(11,24),new _e(16,25)),new Ye(30,new _e(30,16),new _e(2,17))),new Ft(25,Int32Array.from([6,32,58,84,110]),new Ye(26,new _e(8,106),new _e(4,107)),new Ye(28,new _e(8,47),new _e(13,48)),new Ye(30,new _e(7,24),new _e(22,25)),new Ye(30,new _e(22,15),new _e(13,16))),new Ft(26,Int32Array.from([6,30,58,86,114]),new Ye(28,new _e(10,114),new _e(2,115)),new Ye(28,new _e(19,46),new _e(4,47)),new Ye(28,new _e(28,22),new _e(6,23)),new Ye(30,new _e(33,16),new _e(4,17))),new Ft(27,Int32Array.from([6,34,62,90,118]),new Ye(30,new _e(8,122),new _e(4,123)),new Ye(28,new _e(22,45),new _e(3,46)),new Ye(30,new _e(8,23),new _e(26,24)),new Ye(30,new _e(12,15),new _e(28,16))),new Ft(28,Int32Array.from([6,26,50,74,98,122]),new Ye(30,new _e(3,117),new _e(10,118)),new Ye(28,new _e(3,45),new _e(23,46)),new Ye(30,new _e(4,24),new _e(31,25)),new Ye(30,new _e(11,15),new _e(31,16))),new Ft(29,Int32Array.from([6,30,54,78,102,126]),new Ye(30,new _e(7,116),new _e(7,117)),new Ye(28,new _e(21,45),new _e(7,46)),new Ye(30,new _e(1,23),new _e(37,24)),new Ye(30,new _e(19,15),new _e(26,16))),new Ft(30,Int32Array.from([6,26,52,78,104,130]),new Ye(30,new _e(5,115),new _e(10,116)),new Ye(28,new _e(19,47),new _e(10,48)),new Ye(30,new _e(15,24),new _e(25,25)),new Ye(30,new _e(23,15),new _e(25,16))),new Ft(31,Int32Array.from([6,30,56,82,108,134]),new Ye(30,new _e(13,115),new _e(3,116)),new Ye(28,new _e(2,46),new _e(29,47)),new Ye(30,new _e(42,24),new _e(1,25)),new Ye(30,new _e(23,15),new _e(28,16))),new Ft(32,Int32Array.from([6,34,60,86,112,138]),new Ye(30,new _e(17,115)),new Ye(28,new _e(10,46),new _e(23,47)),new Ye(30,new _e(10,24),new _e(35,25)),new Ye(30,new _e(19,15),new _e(35,16))),new Ft(33,Int32Array.from([6,30,58,86,114,142]),new Ye(30,new _e(17,115),new _e(1,116)),new Ye(28,new _e(14,46),new _e(21,47)),new Ye(30,new _e(29,24),new _e(19,25)),new Ye(30,new _e(11,15),new _e(46,16))),new Ft(34,Int32Array.from([6,34,62,90,118,146]),new Ye(30,new _e(13,115),new _e(6,116)),new Ye(28,new _e(14,46),new _e(23,47)),new Ye(30,new _e(44,24),new _e(7,25)),new Ye(30,new _e(59,16),new _e(1,17))),new Ft(35,Int32Array.from([6,30,54,78,102,126,150]),new Ye(30,new _e(12,121),new _e(7,122)),new Ye(28,new _e(12,47),new _e(26,48)),new Ye(30,new _e(39,24),new _e(14,25)),new Ye(30,new _e(22,15),new _e(41,16))),new Ft(36,Int32Array.from([6,24,50,76,102,128,154]),new Ye(30,new _e(6,121),new _e(14,122)),new Ye(28,new _e(6,47),new _e(34,48)),new Ye(30,new _e(46,24),new _e(10,25)),new Ye(30,new _e(2,15),new _e(64,16))),new Ft(37,Int32Array.from([6,28,54,80,106,132,158]),new Ye(30,new _e(17,122),new _e(4,123)),new Ye(28,new _e(29,46),new _e(14,47)),new Ye(30,new _e(49,24),new _e(10,25)),new Ye(30,new _e(24,15),new _e(46,16))),new Ft(38,Int32Array.from([6,32,58,84,110,136,162]),new Ye(30,new _e(4,122),new _e(18,123)),new Ye(28,new _e(13,46),new _e(32,47)),new Ye(30,new _e(48,24),new _e(14,25)),new Ye(30,new _e(42,15),new _e(32,16))),new Ft(39,Int32Array.from([6,26,54,82,110,138,166]),new Ye(30,new _e(20,117),new _e(4,118)),new Ye(28,new _e(40,47),new _e(7,48)),new Ye(30,new _e(43,24),new _e(22,25)),new Ye(30,new _e(10,15),new _e(67,16))),new Ft(40,Int32Array.from([6,30,58,86,114,142,170]),new Ye(30,new _e(19,118),new _e(6,119)),new Ye(28,new _e(18,47),new _e(31,48)),new Ye(30,new _e(34,24),new _e(34,25)),new Ye(30,new _e(20,15),new _e(61,16)))];var fs;(function(re){re[re.DATA_MASK_000=0]="DATA_MASK_000",re[re.DATA_MASK_001=1]="DATA_MASK_001",re[re.DATA_MASK_010=2]="DATA_MASK_010",re[re.DATA_MASK_011=3]="DATA_MASK_011",re[re.DATA_MASK_100=4]="DATA_MASK_100",re[re.DATA_MASK_101=5]="DATA_MASK_101",re[re.DATA_MASK_110=6]="DATA_MASK_110",re[re.DATA_MASK_111=7]="DATA_MASK_111"})(fs||(fs={}));class Ns{constructor(o,c){this.value=o,this.isMasked=c}unmaskBitMatrix(o,c){for(let h=0;h<c;h++)for(let m=0;m<c;m++)this.isMasked(h,m)&&o.flip(m,h)}}Ns.values=new Map([[fs.DATA_MASK_000,new Ns(fs.DATA_MASK_000,(re,o)=>(re+o&1)===0)],[fs.DATA_MASK_001,new Ns(fs.DATA_MASK_001,(re,o)=>(re&1)===0)],[fs.DATA_MASK_010,new Ns(fs.DATA_MASK_010,(re,o)=>o%3===0)],[fs.DATA_MASK_011,new Ns(fs.DATA_MASK_011,(re,o)=>(re+o)%3===0)],[fs.DATA_MASK_100,new Ns(fs.DATA_MASK_100,(re,o)=>(Math.floor(re/2)+Math.floor(o/3)&1)===0)],[fs.DATA_MASK_101,new Ns(fs.DATA_MASK_101,(re,o)=>re*o%6===0)],[fs.DATA_MASK_110,new Ns(fs.DATA_MASK_110,(re,o)=>re*o%6<3)],[fs.DATA_MASK_111,new Ns(fs.DATA_MASK_111,(re,o)=>(re+o+re*o%3&1)===0)]]);class ea{constructor(o){const c=o.getHeight();if(c<21||(c&3)!==1)throw new Y;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let y=0;y<6;y++)o=this.copyBit(y,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let y=5;y>=0;y--)o=this.copyBit(8,y,o);const c=this.bitMatrix.getHeight();let h=0;const m=c-7;for(let y=c-1;y>=m;y--)h=this.copyBit(8,y,h);for(let y=c-8;y<c;y++)h=this.copyBit(y,8,h);if(this.parsedFormatInfo=ds.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),c=Math.floor((o-17)/4);if(c<=6)return Ft.getVersionForNumber(c);let h=0;const m=o-11;for(let w=5;w>=0;w--)for(let C=o-9;C>=m;C--)h=this.copyBit(C,w,h);let y=Ft.decodeVersionInformation(h);if(y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;h=0;for(let w=5;w>=0;w--)for(let C=o-9;C>=m;C--)h=this.copyBit(w,C,h);if(y=Ft.decodeVersionInformation(h),y!==null&&y.getDimensionForVersion()===o)return this.parsedVersion=y,y;throw new Y}copyBit(o,c,h){return(this.isMirror?this.bitMatrix.get(c,o):this.bitMatrix.get(o,c))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),c=this.readVersion(),h=Ns.values.get(o.getDataMask()),m=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,m);const y=c.buildFunctionPattern();let w=!0;const C=new Uint8Array(c.getTotalCodewords());let R=0,L=0,G=0;for(let se=m-1;se>0;se-=2){se===6&&se--;for(let ie=0;ie<m;ie++){const Ee=w?m-1-ie:ie;for(let Pe=0;Pe<2;Pe++)y.get(se-Pe,Ee)||(G++,L<<=1,this.bitMatrix.get(se-Pe,Ee)&&(L|=1),G===8&&(C[R++]=L,G=0,L=0))}w=!w}if(R!==c.getTotalCodewords())throw new Y;return C}remask(){if(this.parsedFormatInfo===null)return;const o=Ns.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let c=0,h=o.getWidth();c<h;c++)for(let m=c+1,y=o.getHeight();m<y;m++)o.get(c,m)!==o.get(m,c)&&(o.flip(m,c),o.flip(c,m))}}class zi{constructor(o,c){this.numDataCodewords=o,this.codewords=c}static getDataBlocks(o,c,h){if(o.length!==c.getTotalCodewords())throw new _;const m=c.getECBlocksForLevel(h);let y=0;const w=m.getECBlocks();for(const Pe of w)y+=Pe.getCount();const C=new Array(y);let R=0;for(const Pe of w)for(let Me=0;Me<Pe.getCount();Me++){const Ve=Pe.getDataCodewords(),Ze=m.getECCodewordsPerBlock()+Ve;C[R++]=new zi(Ve,new Uint8Array(Ze))}const L=C[0].codewords.length;let G=C.length-1;for(;G>=0&&C[G].codewords.length!==L;)G--;G++;const se=L-m.getECCodewordsPerBlock();let ie=0;for(let Pe=0;Pe<se;Pe++)for(let Me=0;Me<R;Me++)C[Me].codewords[Pe]=o[ie++];for(let Pe=G;Pe<R;Pe++)C[Pe].codewords[se]=o[ie++];const Ee=C[0].codewords.length;for(let Pe=se;Pe<Ee;Pe++)for(let Me=0;Me<R;Me++){const Ve=Me<G?Pe:Pe+1;C[Me].codewords[Ve]=o[ie++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ua;(function(re){re[re.TERMINATOR=0]="TERMINATOR",re[re.NUMERIC=1]="NUMERIC",re[re.ALPHANUMERIC=2]="ALPHANUMERIC",re[re.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",re[re.BYTE=4]="BYTE",re[re.ECI=5]="ECI",re[re.KANJI=6]="KANJI",re[re.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",re[re.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",re[re.HANZI=9]="HANZI"})(ua||(ua={}));class ln{constructor(o,c,h,m){this.value=o,this.stringValue=c,this.characterCountBitsForVersions=h,this.bits=m,ln.FOR_BITS.set(m,this),ln.FOR_VALUE.set(o,this)}static forBits(o){const c=ln.FOR_BITS.get(o);if(c===void 0)throw new _;return c}getCharacterCountBits(o){const c=o.getVersionNumber();let h;return c<=9?h=0:c<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof ln))return!1;const c=o;return this.value===c.value}toString(){return this.stringValue}}ln.FOR_BITS=new Map,ln.FOR_VALUE=new Map,ln.TERMINATOR=new ln(ua.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ln.NUMERIC=new ln(ua.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ln.ALPHANUMERIC=new ln(ua.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ln.STRUCTURED_APPEND=new ln(ua.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ln.BYTE=new ln(ua.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ln.ECI=new ln(ua.ECI,"ECI",Int32Array.from([0,0,0]),7),ln.KANJI=new ln(ua.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ln.FNC1_FIRST_POSITION=new ln(ua.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ln.FNC1_SECOND_POSITION=new ln(ua.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ln.HANZI=new ln(ua.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class kr{static decode(o,c,h,m){const y=new hs(o);let w=new X;const C=new Array;let R=-1,L=-1;try{let G=null,se=!1,ie;do{if(y.available()<4)ie=ln.TERMINATOR;else{const Ee=y.readBits(4);ie=ln.forBits(Ee)}switch(ie){case ln.TERMINATOR:break;case ln.FNC1_FIRST_POSITION:case ln.FNC1_SECOND_POSITION:se=!0;break;case ln.STRUCTURED_APPEND:if(y.available()<16)throw new Y;R=y.readBits(8),L=y.readBits(8);break;case ln.ECI:const Ee=kr.parseECIValue(y);if(G=F.getCharacterSetECIByValue(Ee),G===null)throw new Y;break;case ln.HANZI:const Pe=y.readBits(4),Me=y.readBits(ie.getCharacterCountBits(c));Pe===kr.GB2312_SUBSET&&kr.decodeHanziSegment(y,w,Me);break;default:const Ve=y.readBits(ie.getCharacterCountBits(c));switch(ie){case ln.NUMERIC:kr.decodeNumericSegment(y,w,Ve);break;case ln.ALPHANUMERIC:kr.decodeAlphanumericSegment(y,w,Ve,se);break;case ln.BYTE:kr.decodeByteSegment(y,w,Ve,G,C,m);break;case ln.KANJI:kr.decodeKanjiSegment(y,w,Ve);break;default:throw new Y}break}}while(ie!==ln.TERMINATOR)}catch{throw new Y}return new We(o,w.toString(),C.length===0?null:C,h===null?null:h.toString(),R,L)}static decodeHanziSegment(o,c,h){if(h*13>o.available())throw new Y;const m=new Uint8Array(2*h);let y=0;for(;h>0;){const w=o.readBits(13);let C=w/96<<8&4294967295|w%96;C<959?C+=41377:C+=42657,m[y]=C>>8&255,m[y+1]=C&255,y+=2,h--}try{c.append(z.decode(m,q.GB2312))}catch(w){throw new Y(w)}}static decodeKanjiSegment(o,c,h){if(h*13>o.available())throw new Y;const m=new Uint8Array(2*h);let y=0;for(;h>0;){const w=o.readBits(13);let C=w/192<<8&4294967295|w%192;C<7936?C+=33088:C+=49472,m[y]=C>>8,m[y+1]=C,y+=2,h--}try{c.append(z.decode(m,q.SHIFT_JIS))}catch(w){throw new Y(w)}}static decodeByteSegment(o,c,h,m,y,w){if(8*h>o.available())throw new Y;const C=new Uint8Array(h);for(let L=0;L<h;L++)C[L]=o.readBits(8);let R;m===null?R=q.guessEncoding(C,w):R=m.getName();try{c.append(z.decode(C,R))}catch(L){throw new Y(L)}y.push(C)}static toAlphaNumericChar(o){if(o>=kr.ALPHANUMERIC_CHARS.length)throw new Y;return kr.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,c,h,m){const y=c.length();for(;h>1;){if(o.available()<11)throw new Y;const w=o.readBits(11);c.append(kr.toAlphaNumericChar(Math.floor(w/45))),c.append(kr.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(o.available()<6)throw new Y;c.append(kr.toAlphaNumericChar(o.readBits(6)))}if(m)for(let w=y;w<c.length();w++)c.charAt(w)==="%"&&(w<c.length()-1&&c.charAt(w+1)==="%"?c.deleteCharAt(w+1):c.setCharAt(w,""))}static decodeNumericSegment(o,c,h){for(;h>=3;){if(o.available()<10)throw new Y;const m=o.readBits(10);if(m>=1e3)throw new Y;c.append(kr.toAlphaNumericChar(Math.floor(m/100))),c.append(kr.toAlphaNumericChar(Math.floor(m/10)%10)),c.append(kr.toAlphaNumericChar(m%10)),h-=3}if(h===2){if(o.available()<7)throw new Y;const m=o.readBits(7);if(m>=100)throw new Y;c.append(kr.toAlphaNumericChar(Math.floor(m/10))),c.append(kr.toAlphaNumericChar(m%10))}else if(h===1){if(o.available()<4)throw new Y;const m=o.readBits(4);if(m>=10)throw new Y;c.append(kr.toAlphaNumericChar(m))}}static parseECIValue(o){const c=o.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const h=o.readBits(8);return(c&63)<<8&4294967295|h}if((c&224)===192){const h=o.readBits(16);return(c&31)<<16&4294967295|h}throw new Y}}kr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",kr.GB2312_SUBSET=1;class Lo{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const c=o[0];o[0]=o[2],o[2]=c}}class ao{constructor(){this.rsDecoder=new Tt(vt.QR_CODE_FIELD_256)}decodeBooleanArray(o,c){return this.decodeBitMatrix(be.parseFromBooleanArray(o),c)}decodeBitMatrix(o,c){const h=new ea(o);let m=null;try{return this.decodeBitMatrixParser(h,c)}catch(y){m=y}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const y=this.decodeBitMatrixParser(h,c);return y.setOther(new Lo(!0)),y}catch(y){throw m!==null?m:y}}decodeBitMatrixParser(o,c){const h=o.readVersion(),m=o.readFormatInformation().getErrorCorrectionLevel(),y=o.readCodewords(),w=zi.getDataBlocks(y,h,m);let C=0;for(const G of w)C+=G.getNumDataCodewords();const R=new Uint8Array(C);let L=0;for(const G of w){const se=G.getCodewords(),ie=G.getNumDataCodewords();this.correctErrors(se,ie);for(let Ee=0;Ee<ie;Ee++)R[L++]=se[Ee]}return kr.decode(R,h,m,c)}correctErrors(o,c){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-c)}catch{throw new S}for(let m=0;m<c;m++)o[m]=h[m]}}class ha extends ot{constructor(o,c,h){super(o,c),this.estimatedModuleSize=h}aboutEquals(o,c,h){if(Math.abs(c-this.getY())<=o&&Math.abs(h-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,c,h){const m=(this.getX()+c)/2,y=(this.getY()+o)/2,w=(this.estimatedModuleSize+h)/2;return new ha(m,y,w)}}class za{constructor(o,c,h,m,y,w,C){this.image=o,this.startX=c,this.startY=h,this.width=m,this.height=y,this.moduleSize=w,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,c=this.height,h=this.width,m=o+h,y=this.startY+c/2,w=new Int32Array(3),C=this.image;for(let R=0;R<c;R++){const L=y+((R&1)===0?Math.floor((R+1)/2):-Math.floor((R+1)/2));w[0]=0,w[1]=0,w[2]=0;let G=o;for(;G<m&&!C.get(G,L);)G++;let se=0;for(;G<m;){if(C.get(G,L))if(se===1)w[1]++;else if(se===2){if(this.foundPatternCross(w)){const ie=this.handlePossibleCenter(w,L,G);if(ie!==null)return ie}w[0]=w[2],w[1]=1,w[2]=0,se=1}else w[++se]++;else se===1&&se++,w[se]++;G++}if(this.foundPatternCross(w)){const ie=this.handlePossibleCenter(w,L,m);if(ie!==null)return ie}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new pe}static centerFromEnd(o,c){return c-o[2]-o[1]/2}foundPatternCross(o){const c=this.moduleSize,h=c/2;for(let m=0;m<3;m++)if(Math.abs(c-o[m])>=h)return!1;return!0}crossCheckVertical(o,c,h,m){const y=this.image,w=y.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let R=o;for(;R>=0&&y.get(c,R)&&C[1]<=h;)C[1]++,R--;if(R<0||C[1]>h)return NaN;for(;R>=0&&!y.get(c,R)&&C[0]<=h;)C[0]++,R--;if(C[0]>h)return NaN;for(R=o+1;R<w&&y.get(c,R)&&C[1]<=h;)C[1]++,R++;if(R===w||C[1]>h)return NaN;for(;R<w&&!y.get(c,R)&&C[2]<=h;)C[2]++,R++;if(C[2]>h)return NaN;const L=C[0]+C[1]+C[2];return 5*Math.abs(L-m)>=2*m?NaN:this.foundPatternCross(C)?za.centerFromEnd(C,R):NaN}handlePossibleCenter(o,c,h){const m=o[0]+o[1]+o[2],y=za.centerFromEnd(o,h),w=this.crossCheckVertical(c,y,2*o[1],m);if(!isNaN(w)){const C=(o[0]+o[1]+o[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(C,w,y))return L.combineEstimate(w,y,C);const R=new ha(y,w,C);this.possibleCenters.push(R),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(R)}return null}}class Ti extends ot{constructor(o,c,h,m){super(o,c),this.estimatedModuleSize=h,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,c,h){if(Math.abs(c-this.getY())<=o&&Math.abs(h-this.getX())<=o){const m=Math.abs(o-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(o,c,h){const m=this.count+1,y=(this.count*this.getX()+c)/m,w=(this.count*this.getY()+o)/m,C=(this.count*this.estimatedModuleSize+h)/m;return new Ti(y,w,C,m)}}class Ha{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yr{constructor(o,c){this.image=o,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const c=o!=null&&o.get(Re.TRY_HARDER)!==void 0,h=o!=null&&o.get(Re.PURE_BARCODE)!==void 0,m=this.image,y=m.getHeight(),w=m.getWidth();let C=Math.floor(3*y/(4*Yr.MAX_MODULES));(C<Yr.MIN_SKIP||c)&&(C=Yr.MIN_SKIP);let R=!1;const L=new Int32Array(5);for(let se=C-1;se<y&&!R;se+=C){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let ie=0;for(let Ee=0;Ee<w;Ee++)if(m.get(Ee,se))(ie&1)===1&&ie++,L[ie]++;else if((ie&1)===0)if(ie===4)if(Yr.foundPatternCross(L)){if(this.handlePossibleCenter(L,se,Ee,h)===!0)if(C=2,this.hasSkipped===!0)R=this.haveMultiplyConfirmedCenters();else{const Me=this.findRowSkip();Me>L[2]&&(se+=Me-L[2]-C,Ee=w-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,ie=3;continue}ie=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,ie=3;else L[++ie]++;else L[ie]++;Yr.foundPatternCross(L)&&this.handlePossibleCenter(L,se,w,h)===!0&&(C=L[0],this.hasSkipped&&(R=this.haveMultiplyConfirmedCenters()))}const G=this.selectBestPatterns();return ot.orderBestPatterns(G),new Ha(G)}static centerFromEnd(o,c){return c-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let c=0;for(let y=0;y<5;y++){const w=o[y];if(w===0)return!1;c+=w}if(c<7)return!1;const h=c/7,m=h/2;return Math.abs(h-o[0])<m&&Math.abs(h-o[1])<m&&Math.abs(3*h-o[2])<3*m&&Math.abs(h-o[3])<m&&Math.abs(h-o[4])<m}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,c,h,m){const y=this.getCrossCheckStateCount();let w=0;const C=this.image;for(;o>=w&&c>=w&&C.get(c-w,o-w);)y[2]++,w++;if(o<w||c<w)return!1;for(;o>=w&&c>=w&&!C.get(c-w,o-w)&&y[1]<=h;)y[1]++,w++;if(o<w||c<w||y[1]>h)return!1;for(;o>=w&&c>=w&&C.get(c-w,o-w)&&y[0]<=h;)y[0]++,w++;if(y[0]>h)return!1;const R=C.getHeight(),L=C.getWidth();for(w=1;o+w<R&&c+w<L&&C.get(c+w,o+w);)y[2]++,w++;if(o+w>=R||c+w>=L)return!1;for(;o+w<R&&c+w<L&&!C.get(c+w,o+w)&&y[3]<h;)y[3]++,w++;if(o+w>=R||c+w>=L||y[3]>=h)return!1;for(;o+w<R&&c+w<L&&C.get(c+w,o+w)&&y[4]<h;)y[4]++,w++;if(y[4]>=h)return!1;const G=y[0]+y[1]+y[2]+y[3]+y[4];return Math.abs(G-m)<2*m&&Yr.foundPatternCross(y)}crossCheckVertical(o,c,h,m){const y=this.image,w=y.getHeight(),C=this.getCrossCheckStateCount();let R=o;for(;R>=0&&y.get(c,R);)C[2]++,R--;if(R<0)return NaN;for(;R>=0&&!y.get(c,R)&&C[1]<=h;)C[1]++,R--;if(R<0||C[1]>h)return NaN;for(;R>=0&&y.get(c,R)&&C[0]<=h;)C[0]++,R--;if(C[0]>h)return NaN;for(R=o+1;R<w&&y.get(c,R);)C[2]++,R++;if(R===w)return NaN;for(;R<w&&!y.get(c,R)&&C[3]<h;)C[3]++,R++;if(R===w||C[3]>=h)return NaN;for(;R<w&&y.get(c,R)&&C[4]<h;)C[4]++,R++;if(C[4]>=h)return NaN;const L=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(L-m)>=2*m?NaN:Yr.foundPatternCross(C)?Yr.centerFromEnd(C,R):NaN}crossCheckHorizontal(o,c,h,m){const y=this.image,w=y.getWidth(),C=this.getCrossCheckStateCount();let R=o;for(;R>=0&&y.get(R,c);)C[2]++,R--;if(R<0)return NaN;for(;R>=0&&!y.get(R,c)&&C[1]<=h;)C[1]++,R--;if(R<0||C[1]>h)return NaN;for(;R>=0&&y.get(R,c)&&C[0]<=h;)C[0]++,R--;if(C[0]>h)return NaN;for(R=o+1;R<w&&y.get(R,c);)C[2]++,R++;if(R===w)return NaN;for(;R<w&&!y.get(R,c)&&C[3]<h;)C[3]++,R++;if(R===w||C[3]>=h)return NaN;for(;R<w&&y.get(R,c)&&C[4]<h;)C[4]++,R++;if(C[4]>=h)return NaN;const L=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(L-m)>=m?NaN:Yr.foundPatternCross(C)?Yr.centerFromEnd(C,R):NaN}handlePossibleCenter(o,c,h,m){const y=o[0]+o[1]+o[2]+o[3]+o[4];let w=Yr.centerFromEnd(o,h),C=this.crossCheckVertical(c,Math.floor(w),o[2],y);if(!isNaN(C)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(C),o[2],y),!isNaN(w)&&(!m||this.crossCheckDiagonal(Math.floor(C),Math.floor(w),o[2],y)))){const R=y/7;let L=!1;const G=this.possibleCenters;for(let se=0,ie=G.length;se<ie;se++){const Ee=G[se];if(Ee.aboutEquals(R,C,w)){G[se]=Ee.combineEstimate(C,w,R),L=!0;break}}if(!L){const se=new Ti(w,C,R);G.push(se),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(se)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const h of this.possibleCenters)if(h.getCount()>=Yr.CENTER_QUORUM)if(c==null)c=h;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-h.getX())-Math.abs(c.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,c=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Yr.CENTER_QUORUM&&(o++,c+=w.getEstimatedModuleSize());if(o<3)return!1;const m=c/h;let y=0;for(const w of this.possibleCenters)y+=Math.abs(w.getEstimatedModuleSize()-m);return y<=.05*c}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new pe;const c=this.possibleCenters;let h;if(o>3){let m=0,y=0;for(const R of this.possibleCenters){const L=R.getEstimatedModuleSize();m+=L,y+=L*L}h=m/o;let w=Math.sqrt(y/o-h*h);c.sort((R,L)=>{const G=Math.abs(L.getEstimatedModuleSize()-h),se=Math.abs(R.getEstimatedModuleSize()-h);return G<se?-1:G>se?1:0});const C=Math.max(.2*h,w);for(let R=0;R<c.length&&c.length>3;R++){const L=c[R];Math.abs(L.getEstimatedModuleSize()-h)>C&&(c.splice(R,1),R--)}}if(c.length>3){let m=0;for(const y of c)m+=y.getEstimatedModuleSize();h=m/c.length,c.sort((y,w)=>{if(w.getCount()===y.getCount()){const C=Math.abs(w.getEstimatedModuleSize()-h),R=Math.abs(y.getEstimatedModuleSize()-h);return C<R?1:C>R?-1:0}else return w.getCount()-y.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Yr.CENTER_QUORUM=2,Yr.MIN_SKIP=3,Yr.MAX_MODULES=57;class hn{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(Re.NEED_RESULT_POINT_CALLBACK);const h=new Yr(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const c=o.getTopLeft(),h=o.getTopRight(),m=o.getBottomLeft(),y=this.calculateModuleSize(c,h,m);if(y<1)throw new pe("No pattern found in proccess finder.");const w=hn.computeDimension(c,h,m,y),C=Ft.getProvisionalVersionForDimension(w),R=C.getDimensionForVersion()-7;let L=null;if(C.getAlignmentPatternCenters().length>0){const Ee=h.getX()-c.getX()+m.getX(),Pe=h.getY()-c.getY()+m.getY(),Me=1-3/R,Ve=Math.floor(c.getX()+Me*(Ee-c.getX())),Ze=Math.floor(c.getY()+Me*(Pe-c.getY()));for(let dt=4;dt<=16;dt<<=1)try{L=this.findAlignmentInRegion(y,Ve,Ze,dt);break}catch(ft){if(!(ft instanceof pe))throw ft}}const G=hn.createTransform(c,h,m,L,w),se=hn.sampleGrid(this.image,G,w);let ie;return L===null?ie=[m,c,h]:ie=[m,c,h,L],new pn(se,ie)}static createTransform(o,c,h,m,y){const w=y-3.5;let C,R,L,G;return m!==null?(C=m.getX(),R=m.getY(),L=w-3,G=L):(C=c.getX()-o.getX()+h.getX(),R=c.getY()-o.getY()+h.getY(),L=w,G=w),gn.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,L,G,3.5,w,o.getX(),o.getY(),c.getX(),c.getY(),C,R,h.getX(),h.getY())}static sampleGrid(o,c,h){return Dn.getInstance().sampleGridWithTransform(o,h,h,c)}static computeDimension(o,c,h,m){const y=et.round(ot.distance(o,c)/m),w=et.round(ot.distance(o,h)/m);let C=Math.floor((y+w)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new pe("Dimensions could be not found.")}return C}calculateModuleSize(o,c,h){return(this.calculateModuleSizeOneWay(o,c)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,c){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(c.getX()),Math.floor(c.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?m/7:isNaN(m)?h/7:(h+m)/14}sizeOfBlackWhiteBlackRunBothWays(o,c,h,m){let y=this.sizeOfBlackWhiteBlackRun(o,c,h,m),w=1,C=o-(h-o);C<0?(w=o/(o-C),C=0):C>=this.image.getWidth()&&(w=(this.image.getWidth()-1-o)/(C-o),C=this.image.getWidth()-1);let R=Math.floor(c-(m-c)*w);return w=1,R<0?(w=c/(c-R),R=0):R>=this.image.getHeight()&&(w=(this.image.getHeight()-1-c)/(R-c),R=this.image.getHeight()-1),C=Math.floor(o+(C-o)*w),y+=this.sizeOfBlackWhiteBlackRun(o,c,C,R),y-1}sizeOfBlackWhiteBlackRun(o,c,h,m){const y=Math.abs(m-c)>Math.abs(h-o);if(y){let Ee=o;o=c,c=Ee,Ee=h,h=m,m=Ee}const w=Math.abs(h-o),C=Math.abs(m-c);let R=-w/2;const L=o<h?1:-1,G=c<m?1:-1;let se=0;const ie=h+L;for(let Ee=o,Pe=c;Ee!==ie;Ee+=L){const Me=y?Pe:Ee,Ve=y?Ee:Pe;if(se===1===this.image.get(Me,Ve)){if(se===2)return et.distance(Ee,Pe,o,c);se++}if(R+=C,R>0){if(Pe===m)break;Pe+=G,R-=w}}return se===2?et.distance(h+L,m,o,c):NaN}findAlignmentInRegion(o,c,h,m){const y=Math.floor(m*o),w=Math.max(0,c-y),C=Math.min(this.image.getWidth()-1,c+y);if(C-w<o*3)throw new pe("Alignment top exceeds estimated module size.");const R=Math.max(0,h-y),L=Math.min(this.image.getHeight()-1,h+y);if(L-R<o*3)throw new pe("Alignment bottom exceeds estimated module size.");return new za(this.image,w,R,C-w,L-R,o,this.resultPointCallback).find()}}class qa{constructor(){this.decoder=new ao}getDecoder(){return this.decoder}decode(o,c){let h,m;if(c!=null&&c.get(Re.PURE_BARCODE)!==void 0){const R=qa.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(R,c),m=qa.NO_POINTS}else{const R=new hn(o.getBlackMatrix()).detect(c);h=this.decoder.decodeBitMatrix(R.getBits(),c),m=R.getPoints()}h.getOther()instanceof Lo&&h.getOther().applyMirroredCorrection(m);const y=new he(h.getText(),h.getRawBytes(),void 0,m,Ae.QR_CODE,void 0),w=h.getByteSegments();w!==null&&y.putMetadata(ze.BYTE_SEGMENTS,w);const C=h.getECLevel();return C!==null&&y.putMetadata(ze.ERROR_CORRECTION_LEVEL,C),h.hasStructuredAppend()&&(y.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),y.putMetadata(ze.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),y}reset(){}static extractPureBits(o){const c=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(c===null||h===null)throw new pe;const m=this.moduleSize(c,o);let y=c[1],w=h[1],C=c[0],R=h[0];if(C>=R||y>=w)throw new pe;if(w-y!==R-C&&(R=C+(w-y),R>=o.getWidth()))throw new pe;const L=Math.round((R-C+1)/m),G=Math.round((w-y+1)/m);if(L<=0||G<=0)throw new pe;if(G!==L)throw new pe;const se=Math.floor(m/2);y+=se,C+=se;const ie=C+Math.floor((L-1)*m)-R;if(ie>0){if(ie>se)throw new pe;C-=ie}const Ee=y+Math.floor((G-1)*m)-w;if(Ee>0){if(Ee>se)throw new pe;y-=Ee}const Pe=new be(L,G);for(let Me=0;Me<G;Me++){const Ve=y+Math.floor(Me*m);for(let Ze=0;Ze<L;Ze++)o.get(C+Math.floor(Ze*m),Ve)&&Pe.set(Ze,Me)}return Pe}static moduleSize(o,c){const h=c.getHeight(),m=c.getWidth();let y=o[0],w=o[1],C=!0,R=0;for(;y<m&&w<h;){if(C!==c.get(y,w)){if(++R===5)break;C=!C}y++,w++}if(y===m||w===h)throw new pe;return(y-o[0])/7}}qa.NO_POINTS=new Array;class xn{PDF417Common(){}static getBitCountSum(o){return et.sum(o)}static toIntArray(o){if(o==null||!o.length)return xn.EMPTY_INT_ARRAY;const c=new Int32Array(o.length);let h=0;for(const m of o)c[h++]=m;return c}static getCodeword(o){const c=J.binarySearch(xn.SYMBOL_TABLE,o&262143);return c<0?-1:(xn.CODEWORD_TABLE[c]-1)%xn.NUMBER_OF_CODEWORDS}}xn.NUMBER_OF_CODEWORDS=929,xn.MAX_CODEWORDS_IN_BARCODE=xn.NUMBER_OF_CODEWORDS-1,xn.MIN_ROWS_IN_BARCODE=3,xn.MAX_ROWS_IN_BARCODE=90,xn.MODULES_IN_CODEWORD=17,xn.MODULES_IN_STOP_PATTERN=18,xn.BARS_IN_MODULE=8,xn.EMPTY_INT_ARRAY=new Int32Array([]),xn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class po{constructor(o,c){this.bits=o,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class dn{static detectMultiple(o,c,h){let m=o.getBlackMatrix(),y=dn.detect(h,m);return y.length||(m=m.clone(),m.rotate180(),y=dn.detect(h,m)),new po(m,y)}static detect(o,c){const h=new Array;let m=0,y=0,w=!1;for(;m<c.getHeight();){const C=dn.findVertices(c,m,y);if(C[0]==null&&C[3]==null){if(!w)break;w=!1,y=0;for(const R of h)R[1]!=null&&(m=Math.trunc(Math.max(m,R[1].getY()))),R[3]!=null&&(m=Math.max(m,Math.trunc(R[3].getY())));m+=dn.ROW_STEP;continue}if(w=!0,h.push(C),!o)break;C[2]!=null?(y=Math.trunc(C[2].getX()),m=Math.trunc(C[2].getY())):(y=Math.trunc(C[4].getX()),m=Math.trunc(C[4].getY()))}return h}static findVertices(o,c,h){const m=o.getHeight(),y=o.getWidth(),w=new Array(8);return dn.copyToResult(w,dn.findRowsWithPattern(o,m,y,c,h,dn.START_PATTERN),dn.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY())),dn.copyToResult(w,dn.findRowsWithPattern(o,m,y,c,h,dn.STOP_PATTERN),dn.INDEXES_STOP_PATTERN),w}static copyToResult(o,c,h){for(let m=0;m<h.length;m++)o[h[m]]=c[m]}static findRowsWithPattern(o,c,h,m,y,w){const C=new Array(4);let R=!1;const L=new Int32Array(w.length);for(;m<c;m+=dn.ROW_STEP){let se=dn.findGuardPattern(o,y,m,h,!1,w,L);if(se!=null){for(;m>0;){const ie=dn.findGuardPattern(o,y,--m,h,!1,w,L);if(ie!=null)se=ie;else{m++;break}}C[0]=new ot(se[0],m),C[1]=new ot(se[1],m),R=!0;break}}let G=m+1;if(R){let se=0,ie=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;G<c;G++){const Ee=dn.findGuardPattern(o,ie[0],G,h,!1,w,L);if(Ee!=null&&Math.abs(ie[0]-Ee[0])<dn.MAX_PATTERN_DRIFT&&Math.abs(ie[1]-Ee[1])<dn.MAX_PATTERN_DRIFT)ie=Ee,se=0;else{if(se>dn.SKIPPED_ROW_COUNT_MAX)break;se++}}G-=se+1,C[2]=new ot(ie[0],G),C[3]=new ot(ie[1],G)}return G-m<dn.BARCODE_MIN_HEIGHT&&J.fill(C,null),C}static findGuardPattern(o,c,h,m,y,w,C){J.fillWithin(C,0,C.length,0);let R=c,L=0;for(;o.get(R,h)&&R>0&&L++<dn.MAX_PIXEL_DRIFT;)R--;let G=R,se=0,ie=w.length;for(let Ee=y;G<m;G++)if(o.get(G,h)!==Ee)C[se]++;else{if(se===ie-1){if(dn.patternMatchVariance(C,w,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return new Int32Array([R,G]);R+=C[0]+C[1],k.arraycopy(C,2,C,0,se-1),C[se-1]=0,C[se]=0,se--}else se++;C[se]=1,Ee=!Ee}return se===ie-1&&dn.patternMatchVariance(C,w,dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE?new Int32Array([R,G-1]):null}static patternMatchVariance(o,c,h){let m=o.length,y=0,w=0;for(let L=0;L<m;L++)y+=o[L],w+=c[L];if(y<w)return 1/0;let C=y/w;h*=C;let R=0;for(let L=0;L<m;L++){let G=o[L],se=c[L]*C,ie=G>se?G-se:se-G;if(ie>h)return 1/0;R+=ie}return R/y}}dn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),dn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),dn.MAX_AVG_VARIANCE=.42,dn.MAX_INDIVIDUAL_VARIANCE=.8,dn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),dn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),dn.MAX_PIXEL_DRIFT=3,dn.MAX_PATTERN_DRIFT=5,dn.SKIPPED_ROW_COUNT_MAX=25,dn.ROW_STEP=5,dn.BARCODE_MIN_HEIGHT=10;class lr{constructor(o,c){if(c.length===0)throw new _;this.field=o;let h=c.length;if(h>1&&c[0]===0){let m=1;for(;m<h&&c[m]===0;)m++;m===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-m),k.arraycopy(c,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let m=0;for(let y of this.coefficients)m=this.field.add(m,y);return m}let c=this.coefficients[0],h=this.coefficients.length;for(let m=1;m<h;m++)c=this.field.add(this.field.multiply(o,c),this.coefficients[m]);return c}add(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let c=this.coefficients,h=o.coefficients;if(c.length>h.length){let w=c;c=h,h=w}let m=new Int32Array(h.length),y=h.length-c.length;k.arraycopy(h,0,m,0,y);for(let w=y;w<h.length;w++)m[w]=this.field.add(c[w-y],h[w]);return new lr(this.field,m)}subtract(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof lr?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new lr(this.field,new Int32Array([0]));let c=this.coefficients,h=c.length,m=o.coefficients,y=m.length,w=new Int32Array(h+y-1);for(let C=0;C<h;C++){let R=c[C];for(let L=0;L<y;L++)w[C+L]=this.field.add(w[C+L],this.field.multiply(R,m[L]))}return new lr(this.field,w)}negative(){let o=this.coefficients.length,c=new Int32Array(o);for(let h=0;h<o;h++)c[h]=this.field.subtract(0,this.coefficients[h]);return new lr(this.field,c)}multiplyScalar(o){if(o===0)return new lr(this.field,new Int32Array([0]));if(o===1)return this;let c=this.coefficients.length,h=new Int32Array(c);for(let m=0;m<c;m++)h[m]=this.field.multiply(this.coefficients[m],o);return new lr(this.field,h)}multiplyByMonomial(o,c){if(o<0)throw new _;if(c===0)return new lr(this.field,new Int32Array([0]));let h=this.coefficients.length,m=new Int32Array(h+o);for(let y=0;y<h;y++)m[y]=this.field.multiply(this.coefficients[y],c);return new lr(this.field,m)}toString(){let o=new X;for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(c===0||h!==1)&&o.append(h),c!==0&&(c===1?o.append("x"):(o.append("x^"),o.append(c))))}return o.toString()}}class ko{add(o,c){return(o+c)%this.modulus}subtract(o,c){return(this.modulus+o-c)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new _;return this.logTable[o]}inverse(o){if(o===0)throw new Nt;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,c){return o===0||c===0?0:this.expTable[(this.logTable[o]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class _r extends ko{constructor(o,c){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let m=0;m<o;m++)this.expTable[m]=h,h=h*c%o;for(let m=0;m<o-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new lr(this,new Int32Array([0])),this.one=new lr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,c){if(o<0)throw new _;if(c===0)return this.zero;let h=new Int32Array(o+1);return h[0]=c,new lr(this,h)}}_r.PDF417_GF=new _r(xn.NUMBER_OF_CODEWORDS,3);class Ga{constructor(){this.field=_r.PDF417_GF}decode(o,c,h){let m=new lr(this.field,o),y=new Int32Array(c),w=!1;for(let Pe=c;Pe>0;Pe--){let Me=m.evaluateAt(this.field.exp(Pe));y[c-Pe]=Me,Me!==0&&(w=!0)}if(!w)return 0;let C=this.field.getOne();if(h!=null)for(const Pe of h){let Me=this.field.exp(o.length-1-Pe),Ve=new lr(this.field,new Int32Array([this.field.subtract(0,Me),1]));C=C.multiply(Ve)}let R=new lr(this.field,y),L=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),R,c),G=L[0],se=L[1],ie=this.findErrorLocations(G),Ee=this.findErrorMagnitudes(se,G,ie);for(let Pe=0;Pe<ie.length;Pe++){let Me=o.length-1-this.field.log(ie[Pe]);if(Me<0)throw S.getChecksumInstance();o[Me]=this.field.subtract(o[Me],Ee[Pe])}return ie.length}runEuclideanAlgorithm(o,c,h){if(o.getDegree()<c.getDegree()){let ie=o;o=c,c=ie}let m=o,y=c,w=this.field.getZero(),C=this.field.getOne();for(;y.getDegree()>=Math.round(h/2);){let ie=m,Ee=w;if(m=y,w=C,m.isZero())throw S.getChecksumInstance();y=ie;let Pe=this.field.getZero(),Me=m.getCoefficient(m.getDegree()),Ve=this.field.inverse(Me);for(;y.getDegree()>=m.getDegree()&&!y.isZero();){let Ze=y.getDegree()-m.getDegree(),dt=this.field.multiply(y.getCoefficient(y.getDegree()),Ve);Pe=Pe.add(this.field.buildMonomial(Ze,dt)),y=y.subtract(m.multiplyByMonomial(Ze,dt))}C=Pe.multiply(w).subtract(Ee).negative()}let R=C.getCoefficient(0);if(R===0)throw S.getChecksumInstance();let L=this.field.inverse(R),G=C.multiply(L),se=y.multiply(L);return[G,se]}findErrorLocations(o){let c=o.getDegree(),h=new Int32Array(c),m=0;for(let y=1;y<this.field.getSize()&&m<c;y++)o.evaluateAt(y)===0&&(h[m]=this.field.inverse(y),m++);if(m!==c)throw S.getChecksumInstance();return h}findErrorMagnitudes(o,c,h){let m=c.getDegree(),y=new Int32Array(m);for(let L=1;L<=m;L++)y[m-L]=this.field.multiply(L,c.getCoefficient(L));let w=new lr(this.field,y),C=h.length,R=new Int32Array(C);for(let L=0;L<C;L++){let G=this.field.inverse(h[L]),se=this.field.subtract(0,o.evaluateAt(G)),ie=this.field.inverse(w.evaluateAt(G));R[L]=this.field.multiply(se,ie)}return R}}class ni{constructor(o,c,h,m,y){o instanceof ni?this.constructor_2(o):this.constructor_1(o,c,h,m,y)}constructor_1(o,c,h,m,y){const w=c==null||h==null,C=m==null||y==null;if(w&&C)throw new pe;w?(c=new ot(0,m.getY()),h=new ot(0,y.getY())):C&&(m=new ot(o.getWidth()-1,c.getY()),y=new ot(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=c,this.bottomLeft=h,this.topRight=m,this.bottomRight=y,this.minX=Math.trunc(Math.min(c.getX(),h.getX())),this.maxX=Math.trunc(Math.max(m.getX(),y.getX())),this.minY=Math.trunc(Math.min(c.getY(),m.getY())),this.maxY=Math.trunc(Math.max(h.getY(),y.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,c){return o==null?c:c==null?o:new ni(o.image,o.topLeft,o.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(o,c,h){let m=this.topLeft,y=this.bottomLeft,w=this.topRight,C=this.bottomRight;if(o>0){let R=h?this.topLeft:this.topRight,L=Math.trunc(R.getY()-o);L<0&&(L=0);let G=new ot(R.getX(),L);h?m=G:w=G}if(c>0){let R=h?this.bottomLeft:this.bottomRight,L=Math.trunc(R.getY()+c);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let G=new ot(R.getX(),L);h?y=G:C=G}return new ni(this.image,m,y,w,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ii{constructor(o,c,h,m){this.columnCount=o,this.errorCorrectionLevel=m,this.rowCountUpperPart=c,this.rowCountLowerPart=h,this.rowCount=c+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class io{constructor(){this.buffer=""}static form(o,c){let h=-1;function m(w,C,R,L,G,se){if(w==="%%")return"%";if(c[++h]===void 0)return;w=L?parseInt(L.substr(1)):void 0;let ie=G?parseInt(G.substr(1)):void 0,Ee;switch(se){case"s":Ee=c[h];break;case"c":Ee=c[h][0];break;case"f":Ee=parseFloat(c[h]).toFixed(w);break;case"p":Ee=parseFloat(c[h]).toPrecision(w);break;case"e":Ee=parseFloat(c[h]).toExponential(w);break;case"x":Ee=parseInt(c[h]).toString(ie||16);break;case"d":Ee=parseFloat(parseInt(c[h],ie||10).toPrecision(w)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(ie);let Pe=parseInt(R),Me=R&&R[0]+""=="0"?"0":" ";for(;Ee.length<Pe;)Ee=C!==void 0?Ee+Me:Me+Ee;return Ee}let y=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(y,m)}format(o,...c){this.buffer+=io.form(o,c)}toString(){return this.buffer}}class ta{constructor(o){this.boundingBox=new ni(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let c=this.getCodeword(o);if(c!=null)return c;for(let h=1;h<ta.MAX_NEARBY_DISTANCE;h++){let m=this.imageRowToCodewordIndex(o)-h;if(m>=0&&(c=this.codewords[m],c!=null)||(m=this.imageRowToCodewordIndex(o)+h,m<this.codewords.length&&(c=this.codewords[m],c!=null)))return c}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,c){this.codewords[this.imageRowToCodewordIndex(o)]=c}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new io;let c=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",c++);continue}o.format("%3d: %3d|%3d%n",c++,h.getRowNumber(),h.getValue())}return o.toString()}}ta.MAX_NEARBY_DISTANCE=5;class ri{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let c=this.values.get(o);c==null&&(c=0),c++,this.values.set(o,c)}getValue(){let o=-1,c=new Array;for(const[h,m]of this.values.entries()){const y={getKey:()=>h,getValue:()=>m};y.getValue()>o?(o=y.getValue(),c=[],c.push(y.getKey())):y.getValue()===o&&c.push(y.getKey())}return xn.toIntArray(c)}getConfidence(o){return this.values.get(o)}}class Wa extends ta{constructor(o,c){super(o),this._isLeft=c}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,o);let h=this.getBoundingBox(),m=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.imageRowToCodewordIndex(Math.trunc(y.getY())),R=-1,L=1,G=0;for(let se=w;se<C;se++){if(c[se]==null)continue;let ie=c[se],Ee=ie.getRowNumber()-R;if(Ee===0)G++;else if(Ee===1)L=Math.max(L,G),G=1,R=ie.getRowNumber();else if(Ee<0||ie.getRowNumber()>=o.getRowCount()||Ee>se)c[se]=null;else{let Pe;L>2?Pe=(L-2)*Ee:Pe=Ee;let Me=Pe>=se;for(let Ve=1;Ve<=Pe&&!Me;Ve++)Me=c[se-Ve]!=null;Me?c[se]=null:(R=ie.getRowNumber(),G=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let c=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let m=h.getRowNumber();if(m>=c.length)continue;c[m]++}return c}adjustIncompleteIndicatorColumnRowNumbers(o){let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),C=this.getCodewords(),R=-1;for(let L=y;L<w;L++){if(C[L]==null)continue;let G=C[L];G.setRowNumberAsRowIndicatorColumn();let se=G.getRowNumber()-R;se===0||(se===1?R=G.getRowNumber():G.getRowNumber()>=o.getRowCount()?C[L]=null:R=G.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),c=new ri,h=new ri,m=new ri,y=new ri;for(let C of o){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let R=C.getValue()%30,L=C.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:h.setValue(R*3+1);break;case 1:y.setValue(R/3),m.setValue(R%3);break;case 2:c.setValue(R+1);break}}if(c.getValue().length===0||h.getValue().length===0||m.getValue().length===0||y.getValue().length===0||c.getValue()[0]<1||h.getValue()[0]+m.getValue()[0]<xn.MIN_ROWS_IN_BARCODE||h.getValue()[0]+m.getValue()[0]>xn.MAX_ROWS_IN_BARCODE)return null;let w=new Ii(c.getValue()[0],h.getValue()[0],m.getValue()[0],y.getValue()[0]);return this.removeIncorrectCodewords(o,w),w}removeIncorrectCodewords(o,c){for(let h=0;h<o.length;h++){let m=o[h];if(o[h]==null)continue;let y=m.getValue()%30,w=m.getRowNumber();if(w>c.getRowCount()){o[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:y*3+1!==c.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(y/3)!==c.getErrorCorrectionLevel()||y%3!==c.getRowCountLowerPart())&&(o[h]=null);break;case 2:y+1!==c.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ss{constructor(o,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=xn.MAX_CODEWORDS_IN_BARCODE,c;do c=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let h=this.detectionResultColumns[c].getCodewords();for(let m=0;m<h.length;m++)h[m]!=null&&(h[m].hasValidRowNumber()||this.adjustRowNumbers(c,m,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&c[h]!=null&&o[h].getRowNumber()===c[h].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let y=this.detectionResultColumns[m].getCodewords()[h];y!=null&&(y.setRowNumber(o[h].getRowNumber()),y.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let m=c[h].getRowNumber(),y=0;for(let w=this.barcodeColumnCount+1;w>0&&y<this.ADJUST_ROW_NUMBER_SKIP;w--){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(y=ss.adjustRowNumberIfValid(m,y,C),C.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,c=this.detectionResultColumns[0].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let m=c[h].getRowNumber(),y=0;for(let w=1;w<this.barcodeColumnCount+1&&y<this.ADJUST_ROW_NUMBER_SKIP;w++){let C=this.detectionResultColumns[w].getCodewords()[h];C!=null&&(y=ss.adjustRowNumberIfValid(m,y,C),C.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,c,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),c=0):++c),c}adjustRowNumbers(o,c,h){if(!this.detectionResultColumns[o-1])return;let m=h[c],y=this.detectionResultColumns[o-1].getCodewords(),w=y;this.detectionResultColumns[o+1]!=null&&(w=this.detectionResultColumns[o+1].getCodewords());let C=new Array(14);C[2]=y[c],C[3]=w[c],c>0&&(C[0]=h[c-1],C[4]=y[c-1],C[5]=w[c-1]),c>1&&(C[8]=h[c-2],C[10]=y[c-2],C[11]=w[c-2]),c<h.length-1&&(C[1]=h[c+1],C[6]=y[c+1],C[7]=w[c+1]),c<h.length-2&&(C[9]=h[c+2],C[12]=y[c+2],C[13]=w[c+2]);for(let R of C)if(ss.adjustRowNumber(m,R))return}static adjustRowNumber(o,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===o.getBucket()?(o.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,c){this.detectionResultColumns[o]=c}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new io;for(let h=0;h<o.getCodewords().length;h++){c.format("CW %3d:",h);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){c.format("    |   ");continue}let y=this.detectionResultColumns[m].getCodewords()[h];if(y==null){c.format("    |   ");continue}c.format(" %3d|%3d",y.getRowNumber(),y.getValue())}c.format("%n")}return c.toString()}}class Ya{constructor(o,c,h,m){this.rowNumber=Ya.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(c),this.bucket=Math.trunc(h),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ya.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ya.BARCODE_ROW_UNKNOWN=-1;class Or{static initialize(){for(let o=0;o<xn.SYMBOL_TABLE.length;o++){let c=xn.SYMBOL_TABLE[o],h=c&1;for(let m=0;m<xn.BARS_IN_MODULE;m++){let y=0;for(;(c&1)===h;)y+=1,c>>=1;h=c&1,Or.RATIOS_TABLE[o]||(Or.RATIOS_TABLE[o]=new Array(xn.BARS_IN_MODULE)),Or.RATIOS_TABLE[o][xn.BARS_IN_MODULE-m-1]=Math.fround(y/xn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let c=Or.getDecodedCodewordValue(Or.sampleBitCounts(o));return c!==-1?c:Or.getClosestDecodedValue(o)}static sampleBitCounts(o){let c=et.sum(o),h=new Int32Array(xn.BARS_IN_MODULE),m=0,y=0;for(let w=0;w<xn.MODULES_IN_CODEWORD;w++){let C=c/(2*xn.MODULES_IN_CODEWORD)+w*c/xn.MODULES_IN_CODEWORD;y+o[m]<=C&&(y+=o[m],m++),h[m]++}return h}static getDecodedCodewordValue(o){let c=Or.getBitValue(o);return xn.getCodeword(c)===-1?-1:c}static getBitValue(o){let c=0;for(let h=0;h<o.length;h++)for(let m=0;m<o[h];m++)c=c<<1|(h%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(o){let c=et.sum(o),h=new Array(xn.BARS_IN_MODULE);if(c>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(o[w]/c);let m=jt.MAX_VALUE,y=-1;this.bSymbolTableReady||Or.initialize();for(let w=0;w<Or.RATIOS_TABLE.length;w++){let C=0,R=Or.RATIOS_TABLE[w];for(let L=0;L<xn.BARS_IN_MODULE;L++){let G=Math.fround(R[L]-h[L]);if(C+=Math.fround(G*G),C>=m)break}C<m&&(m=C,y=xn.SYMBOL_TABLE[w])}return y}}Or.bSymbolTableReady=!1,Or.RATIOS_TABLE=new Array(xn.SYMBOL_TABLE.length).map(re=>new Array(xn.BARS_IN_MODULE));class Ri{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class oo{static parseLong(o,c=void 0){return parseInt(o,c)}}class Oi extends p{}Oi.kind="NullPointerException";class Hi{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,c,h){if(o==null)throw new Oi;if(c<0||c>o.length||h<0||c+h>o.length||c+h<0)throw new M;if(h===0)return;for(let m=0;m<h;m++)this.write(o[c+m])}flush(){}close(){}}class pi extends p{}class Mo extends Hi{constructor(o=32){if(super(),this.count=0,o<0)throw new _("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new pi;h=Z.MAX_VALUE}this.buf=J.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,c,h){if(c<0||c>o.length||h<0||c+h-o.length>0)throw new M;this.ensureCapacity(this.count+h),k.arraycopy(o,c,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return J.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var pr;(function(re){re[re.ALPHA=0]="ALPHA",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.PUNCT=3]="PUNCT",re[re.ALPHA_SHIFT=4]="ALPHA_SHIFT",re[re.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pr||(pr={}));function Xa(){if(typeof window<"u")return window.BigInt||null;if(typeof kp<"u")return kp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let si;function gi(re){if(typeof si>"u"&&(si=Xa()),si===null)throw new Error("BigInt is not supported!");return si(re)}function Di(){let re=[];re[0]=gi(1);let o=gi(900);re[1]=o;for(let c=2;c<16;c++)re[c]=re[c-1]*o;return re}class tt{static decode(o,c){let h=new X(""),m=F.ISO8859_1;h.enableDecoding(m);let y=1,w=o[y++],C=new Ri;for(;y<o[0];){switch(w){case tt.TEXT_COMPACTION_MODE_LATCH:y=tt.textCompaction(o,y,h);break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:y=tt.byteCompaction(w,o,m,y,h);break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[y++]);break;case tt.NUMERIC_COMPACTION_MODE_LATCH:y=tt.numericCompaction(o,y,h);break;case tt.ECI_CHARSET:F.getCharacterSetECIByValue(o[y++]);break;case tt.ECI_GENERAL_PURPOSE:y+=2;break;case tt.ECI_USER_DEFINED:y++;break;case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:y=tt.decodeMacroBlock(o,y,C);break;case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:throw new Y;default:y--,y=tt.textCompaction(o,y,h);break}if(y<o.length)w=o[y++];else throw Y.getFormatInstance()}if(h.length()===0)throw Y.getFormatInstance();let R=new We(null,h.toString(),null,c);return R.setOther(C),R}static decodeMacroBlock(o,c,h){if(c+tt.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw Y.getFormatInstance();let m=new Int32Array(tt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<tt.NUMBER_OF_SEQUENCE_CODEWORDS;C++,c++)m[C]=o[c];h.setSegmentIndex(Z.parseInt(tt.decodeBase900toBase10(m,tt.NUMBER_OF_SEQUENCE_CODEWORDS)));let y=new X;c=tt.textCompaction(o,c,y),h.setFileId(y.toString());let w=-1;for(o[c]===tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=c+1);c<o[0];)switch(o[c]){case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,o[c]){case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new X;c=tt.textCompaction(o,c+1,C),h.setFileName(C.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let R=new X;c=tt.textCompaction(o,c+1,R),h.setSender(R.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new X;c=tt.textCompaction(o,c+1,L),h.setAddressee(L.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let G=new X;c=tt.numericCompaction(o,c+1,G),h.setSegmentCount(Z.parseInt(G.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let se=new X;c=tt.numericCompaction(o,c+1,se),h.setTimestamp(oo.parseLong(se.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ie=new X;c=tt.numericCompaction(o,c+1,ie),h.setChecksum(Z.parseInt(ie.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ee=new X;c=tt.numericCompaction(o,c+1,Ee),h.setFileSize(oo.parseLong(Ee.toString()));break;default:throw Y.getFormatInstance()}break;case tt.MACRO_PDF417_TERMINATOR:c++,h.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(w!==-1){let C=c-w;h.isLastSegment()&&C--,h.setOptionalData(J.copyOfRange(o,w,w+C))}return c}static textCompaction(o,c,h){let m=new Int32Array((o[0]-c)*2),y=new Int32Array((o[0]-c)*2),w=0,C=!1;for(;c<o[0]&&!C;){let R=o[c++];if(R<tt.TEXT_COMPACTION_MODE_LATCH)m[w]=R/30,m[w+1]=R%30,w+=2;else switch(R){case tt.TEXT_COMPACTION_MODE_LATCH:m[w++]=tt.TEXT_COMPACTION_MODE_LATCH;break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:c--,C=!0;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[w]=tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,R=o[c++],y[w]=R,w++;break}}return tt.decodeTextCompaction(m,y,w,h),c}static decodeTextCompaction(o,c,h,m){let y=pr.ALPHA,w=pr.ALPHA,C=0;for(;C<h;){let R=o[C],L="";switch(y){case pr.ALPHA:if(R<26)L=String.fromCharCode(65+R);else switch(R){case 26:L=" ";break;case tt.LL:y=pr.LOWER;break;case tt.ML:y=pr.MIXED;break;case tt.PS:w=y,y=pr.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break;case pr.LOWER:if(R<26)L=String.fromCharCode(97+R);else switch(R){case 26:L=" ";break;case tt.AS:w=y,y=pr.ALPHA_SHIFT;break;case tt.ML:y=pr.MIXED;break;case tt.PS:w=y,y=pr.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break;case pr.MIXED:if(R<tt.PL)L=tt.MIXED_CHARS[R];else switch(R){case tt.PL:y=pr.PUNCT;break;case 26:L=" ";break;case tt.LL:y=pr.LOWER;break;case tt.AL:y=pr.ALPHA;break;case tt.PS:w=y,y=pr.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break;case pr.PUNCT:if(R<tt.PAL)L=tt.PUNCT_CHARS[R];else switch(R){case tt.PAL:y=pr.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break;case pr.ALPHA_SHIFT:if(y=w,R<26)L=String.fromCharCode(65+R);else switch(R){case 26:L=" ";break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break;case pr.PUNCT_SHIFT:if(y=w,R<tt.PAL)L=tt.PUNCT_CHARS[R];else switch(R){case tt.PAL:y=pr.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[C]);break;case tt.TEXT_COMPACTION_MODE_LATCH:y=pr.ALPHA;break}break}L!==""&&m.append(L),C++}}static byteCompaction(o,c,h,m,y){let w=new Mo,C=0,R=0,L=!1;switch(o){case tt.BYTE_COMPACTION_MODE_LATCH:let G=new Int32Array(6),se=c[m++];for(;m<c[0]&&!L;)switch(G[C++]=se,R=900*R+se,se=c[m++],se){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:m--,L=!0;break;default:if(C%5===0&&C>0){for(let ie=0;ie<6;++ie)w.write(Number(gi(R)>>gi(8*(5-ie))));R=0,C=0}break}m===c[0]&&se<tt.TEXT_COMPACTION_MODE_LATCH&&(G[C++]=se);for(let ie=0;ie<C;ie++)w.write(G[ie]);break;case tt.BYTE_COMPACTION_MODE_LATCH_6:for(;m<c[0]&&!L;){let ie=c[m++];if(ie<tt.TEXT_COMPACTION_MODE_LATCH)C++,R=900*R+ie;else switch(ie){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:m--,L=!0;break}if(C%5===0&&C>0){for(let Ee=0;Ee<6;++Ee)w.write(Number(gi(R)>>gi(8*(5-Ee))));R=0,C=0}}break}return y.append(z.decode(w.toByteArray(),h)),m}static numericCompaction(o,c,h){let m=0,y=!1,w=new Int32Array(tt.MAX_NUMERIC_CODEWORDS);for(;c<o[0]&&!y;){let C=o[c++];if(c===o[0]&&(y=!0),C<tt.TEXT_COMPACTION_MODE_LATCH)w[m]=C,m++;else switch(C){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:c--,y=!0;break}(m%tt.MAX_NUMERIC_CODEWORDS===0||C===tt.NUMERIC_COMPACTION_MODE_LATCH||y)&&m>0&&(h.append(tt.decodeBase900toBase10(w,m)),m=0)}return c}static decodeBase900toBase10(o,c){let h=gi(0);for(let y=0;y<c;y++)h+=tt.EXP900[c-y-1]*gi(o[y]);let m=h.toString();if(m.charAt(0)!=="1")throw new Y;return m.substring(1)}}tt.TEXT_COMPACTION_MODE_LATCH=900,tt.BYTE_COMPACTION_MODE_LATCH=901,tt.NUMERIC_COMPACTION_MODE_LATCH=902,tt.BYTE_COMPACTION_MODE_LATCH_6=924,tt.ECI_USER_DEFINED=925,tt.ECI_GENERAL_PURPOSE=926,tt.ECI_CHARSET=927,tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,tt.MACRO_PDF417_TERMINATOR=922,tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,tt.MAX_NUMERIC_CODEWORDS=15,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,tt.PL=25,tt.LL=27,tt.AS=27,tt.ML=28,tt.AL=28,tt.PS=29,tt.PAL=29,tt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,tt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",tt.EXP900=Xa()?Di():[],tt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class D{constructor(){}static decode(o,c,h,m,y,w,C){let R=new ni(o,c,h,m,y),L=null,G=null,se;for(let Pe=!0;;Pe=!1){if(c!=null&&(L=D.getRowIndicatorColumn(o,R,c,!0,w,C)),m!=null&&(G=D.getRowIndicatorColumn(o,R,m,!1,w,C)),se=D.merge(L,G),se==null)throw pe.getNotFoundInstance();let Me=se.getBoundingBox();if(Pe&&Me!=null&&(Me.getMinY()<R.getMinY()||Me.getMaxY()>R.getMaxY()))R=Me;else break}se.setBoundingBox(R);let ie=se.getBarcodeColumnCount()+1;se.setDetectionResultColumn(0,L),se.setDetectionResultColumn(ie,G);let Ee=L!=null;for(let Pe=1;Pe<=ie;Pe++){let Me=Ee?Pe:ie-Pe;if(se.getDetectionResultColumn(Me)!==void 0)continue;let Ve;Me===0||Me===ie?Ve=new Wa(R,Me===0):Ve=new ta(R),se.setDetectionResultColumn(Me,Ve);let Ze=-1,dt=Ze;for(let ft=R.getMinY();ft<=R.getMaxY();ft++){if(Ze=D.getStartColumn(se,Me,ft,Ee),Ze<0||Ze>R.getMaxX()){if(dt===-1)continue;Ze=dt}let ht=D.detectCodeword(o,R.getMinX(),R.getMaxX(),Ee,Ze,ft,w,C);ht!=null&&(Ve.setCodeword(ft,ht),dt=Ze,w=Math.min(w,ht.getWidth()),C=Math.max(C,ht.getWidth()))}}return D.createDecoderResult(se)}static merge(o,c){if(o==null&&c==null)return null;let h=D.getBarcodeMetadata(o,c);if(h==null)return null;let m=ni.merge(D.adjustBoundingBox(o),D.adjustBoundingBox(c));return new ss(h,m)}static adjustBoundingBox(o){if(o==null)return null;let c=o.getRowHeights();if(c==null)return null;let h=D.getMax(c),m=0;for(let C of c)if(m+=h-C,C>0)break;let y=o.getCodewords();for(let C=0;m>0&&y[C]==null;C++)m--;let w=0;for(let C=c.length-1;C>=0&&(w+=h-c[C],!(c[C]>0));C--);for(let C=y.length-1;w>0&&y[C]==null;C--)w--;return o.getBoundingBox().addMissingRows(m,w,o.isLeft())}static getMax(o){let c=-1;for(let h of o)c=Math.max(c,h);return c}static getBarcodeMetadata(o,c){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let m;return c==null||(m=c.getBarcodeMetadata())==null?h:h.getColumnCount()!==m.getColumnCount()&&h.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&h.getRowCount()!==m.getRowCount()?null:h}static getRowIndicatorColumn(o,c,h,m,y,w){let C=new Wa(c,m);for(let R=0;R<2;R++){let L=R===0?1:-1,G=Math.trunc(Math.trunc(h.getX()));for(let se=Math.trunc(Math.trunc(h.getY()));se<=c.getMaxY()&&se>=c.getMinY();se+=L){let ie=D.detectCodeword(o,0,o.getWidth(),m,G,se,y,w);ie!=null&&(C.setCodeword(se,ie),m?G=ie.getStartX():G=ie.getEndX())}}return C}static adjustCodewordCount(o,c){let h=c[0][1],m=h.getValue(),y=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-D.getNumberOfECCodeWords(o.getBarcodeECLevel());if(m.length===0){if(y<1||y>xn.MAX_CODEWORDS_IN_BARCODE)throw pe.getNotFoundInstance();h.setValue(y)}else m[0]!==y&&h.setValue(y)}static createDecoderResult(o){let c=D.createBarcodeMatrix(o);D.adjustCodewordCount(o,c);let h=new Array,m=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),y=[],w=new Array;for(let R=0;R<o.getBarcodeRowCount();R++)for(let L=0;L<o.getBarcodeColumnCount();L++){let G=c[R][L+1].getValue(),se=R*o.getBarcodeColumnCount()+L;G.length===0?h.push(se):G.length===1?m[se]=G[0]:(w.push(se),y.push(G))}let C=new Array(y.length);for(let R=0;R<C.length;R++)C[R]=y[R];return D.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),m,xn.toIntArray(h),xn.toIntArray(w),C)}static createDecoderResultFromAmbiguousValues(o,c,h,m,y){let w=new Int32Array(m.length),C=100;for(;C-- >0;){for(let R=0;R<w.length;R++)c[m[R]]=y[R][w[R]];try{return D.decodeCodewords(c,o,h)}catch(R){if(!(R instanceof S))throw R}if(w.length===0)throw S.getChecksumInstance();for(let R=0;R<w.length;R++)if(w[R]<y[R].length-1){w[R]++;break}else if(w[R]=0,R===w.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(o){let c=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let m=0;m<c.length;m++)for(let y=0;y<c[m].length;y++)c[m][y]=new ri;let h=0;for(let m of o.getDetectionResultColumns()){if(m!=null){for(let y of m.getCodewords())if(y!=null){let w=y.getRowNumber();if(w>=0){if(w>=c.length)continue;c[w][h].setValue(y.getValue())}}}h++}return c}static isValidBarcodeColumn(o,c){return c>=0&&c<=o.getBarcodeColumnCount()+1}static getStartColumn(o,c,h,m){let y=m?1:-1,w=null;if(D.isValidBarcodeColumn(o,c-y)&&(w=o.getDetectionResultColumn(c-y).getCodeword(h)),w!=null)return m?w.getEndX():w.getStartX();if(w=o.getDetectionResultColumn(c).getCodewordNearby(h),w!=null)return m?w.getStartX():w.getEndX();if(D.isValidBarcodeColumn(o,c-y)&&(w=o.getDetectionResultColumn(c-y).getCodewordNearby(h)),w!=null)return m?w.getEndX():w.getStartX();let C=0;for(;D.isValidBarcodeColumn(o,c-y);){c-=y;for(let R of o.getDetectionResultColumn(c).getCodewords())if(R!=null)return(m?R.getEndX():R.getStartX())+y*C*(R.getEndX()-R.getStartX());C++}return m?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,c,h,m,y,w,C,R){y=D.adjustCodewordStartColumn(o,c,h,m,y,w);let L=D.getModuleBitCount(o,c,h,m,y,w);if(L==null)return null;let G,se=et.sum(L);if(m)G=y+se;else{for(let Pe=0;Pe<L.length/2;Pe++){let Me=L[Pe];L[Pe]=L[L.length-1-Pe],L[L.length-1-Pe]=Me}G=y,y=G-se}if(!D.checkCodewordSkew(se,C,R))return null;let ie=Or.getDecodedValue(L),Ee=xn.getCodeword(ie);return Ee===-1?null:new Ya(y,G,D.getCodewordBucketNumber(ie),Ee)}static getModuleBitCount(o,c,h,m,y,w){let C=y,R=new Int32Array(8),L=0,G=m?1:-1,se=m;for(;(m?C<h:C>=c)&&L<R.length;)o.get(C,w)===se?(R[L]++,C+=G):(L++,se=!se);return L===R.length||C===(m?h:c)&&L===R.length-1?R:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,c,h,m,y,w){let C=y,R=m?-1:1;for(let L=0;L<2;L++){for(;(m?C>=c:C<h)&&m===o.get(C,w);){if(Math.abs(y-C)>D.CODEWORD_SKEW_SIZE)return y;C+=R}R=-R,m=!m}return C}static checkCodewordSkew(o,c,h){return c-D.CODEWORD_SKEW_SIZE<=o&&o<=h+D.CODEWORD_SKEW_SIZE}static decodeCodewords(o,c,h){if(o.length===0)throw Y.getFormatInstance();let m=1<<c+1,y=D.correctErrors(o,h,m);D.verifyCodewordCount(o,m);let w=tt.decode(o,""+c);return w.setErrorsCorrected(y),w.setErasures(h.length),w}static correctErrors(o,c,h){if(c!=null&&c.length>h/2+D.MAX_ERRORS||h<0||h>D.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return D.errorCorrection.decode(o,h,c)}static verifyCodewordCount(o,c){if(o.length<4)throw Y.getFormatInstance();let h=o[0];if(h>o.length)throw Y.getFormatInstance();if(h===0)if(c<o.length)o[0]=o.length-c;else throw Y.getFormatInstance()}static getBitCountForCodeword(o){let c=new Int32Array(8),h=0,m=c.length-1;for(;!((o&1)!==h&&(h=o&1,m--,m<0));)c[m]++,o>>=1;return c}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return D.getCodewordBucketNumber(D.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let c=new io;for(let h=0;h<o.length;h++){c.format("Row %2d: ",h);for(let m=0;m<o[h].length;m++){let y=o[h][m];y.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",y.getValue()[0],y.getConfidence(y.getValue()[0]))}c.format("%n")}return c.toString()}}D.CODEWORD_SKEW_SIZE=2,D.MAX_ERRORS=3,D.MAX_EC_CODEWORDS=512,D.errorCorrection=new Ga;class ne{decode(o,c=null){let h=ne.decode(o,c,!1);if(h==null||h.length===0||h[0]==null)throw pe.getNotFoundInstance();return h[0]}decodeMultiple(o,c=null){try{return ne.decode(o,c,!0)}catch(h){throw h instanceof Y||h instanceof S?pe.getNotFoundInstance():h}}static decode(o,c,h){const m=new Array,y=dn.detectMultiple(o,c,h);for(const w of y.getPoints()){const C=D.decode(y.getBits(),w[4],w[5],w[6],w[7],ne.getMinCodewordWidth(w),ne.getMaxCodewordWidth(w)),R=new he(C.getText(),C.getRawBytes(),void 0,w,Ae.PDF_417);R.putMetadata(ze.ERROR_CORRECTION_LEVEL,C.getECLevel());const L=C.getOther();L!=null&&R.putMetadata(ze.PDF417_EXTRA_METADATA,L),m.push(R)}return m.map(w=>w)}static getMaxWidth(o,c){return o==null||c==null?0:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMinWidth(o,c){return o==null||c==null?Z.MAX_VALUE:Math.trunc(Math.abs(o.getX()-c.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(ne.getMaxWidth(o[0],o[4]),ne.getMaxWidth(o[6],o[2])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN),Math.max(ne.getMaxWidth(o[1],o[5]),ne.getMaxWidth(o[7],o[3])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(ne.getMinWidth(o[0],o[4]),ne.getMinWidth(o[6],o[2])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN),Math.min(ne.getMinWidth(o[1],o[5]),ne.getMinWidth(o[7],o[3])*xn.MODULES_IN_CODEWORD/xn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ce extends p{}Ce.kind="ReaderException";class ke{constructor(o,c){this.verbose=o===!0,c&&this.setHints(c)}decode(o,c){return c&&this.setHints(c),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const c=!r(o)&&o.get(Re.TRY_HARDER)===!0,h=r(o)?null:o.get(Re.POSSIBLE_FORMATS),m=new Array;if(!r(h)){const y=h.some(w=>w===Ae.UPC_A||w===Ae.UPC_E||w===Ae.EAN_13||w===Ae.EAN_8||w===Ae.CODABAR||w===Ae.CODE_39||w===Ae.CODE_93||w===Ae.CODE_128||w===Ae.ITF||w===Ae.RSS_14||w===Ae.RSS_EXPANDED);y&&!c&&m.push(new la(o,this.verbose)),h.includes(Ae.QR_CODE)&&m.push(new qa),h.includes(Ae.DATA_MATRIX)&&m.push(new Ca),h.includes(Ae.AZTEC)&&m.push(new Yt),h.includes(Ae.PDF_417)&&m.push(new ne),y&&c&&m.push(new la(o,this.verbose))}m.length===0&&(c||m.push(new la(o,this.verbose)),m.push(new qa),m.push(new Ca),m.push(new Yt),m.push(new ne),c&&m.push(new la(o,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Ce("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(o,this.hints)}catch(h){if(h instanceof Ce)continue}throw new pe("No MultiFormat Readers were able to detect the code.")}}class Ue extends le{constructor(o=null,c=500){const h=new ke;h.setHints(o),super(h,c)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class ut extends le{constructor(o=500){super(new ne,o)}}class _t extends le{constructor(o=500){super(new qa,o)}}var zt;(function(re){re[re.ERROR_CORRECTION=0]="ERROR_CORRECTION",re[re.CHARACTER_SET=1]="CHARACTER_SET",re[re.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",re[re.MIN_SIZE=3]="MIN_SIZE",re[re.MAX_SIZE=4]="MAX_SIZE",re[re.MARGIN=5]="MARGIN",re[re.PDF417_COMPACT=6]="PDF417_COMPACT",re[re.PDF417_COMPACTION=7]="PDF417_COMPACTION",re[re.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",re[re.AZTEC_LAYERS=9]="AZTEC_LAYERS",re[re.QR_VERSION=10]="QR_VERSION"})(zt||(zt={}));var Dt=zt;class bn{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new mt(o,Int32Array.from([1])))}buildGenerator(o){const c=this.cachedGenerators;if(o>=c.length){let h=c[c.length-1];const m=this.field;for(let y=c.length;y<=o;y++){const w=h.multiply(new mt(m,Int32Array.from([1,m.exp(y-1+m.getGeneratorBase())])));c.push(w),h=w}}return c[o]}encode(o,c){if(c===0)throw new _("No error correction bytes");const h=o.length-c;if(h<=0)throw new _("No data bytes provided");const m=this.buildGenerator(c),y=new Int32Array(h);k.arraycopy(o,0,y,0,h);let w=new mt(this.field,y);w=w.multiplyByMonomial(c,1);const R=w.divide(m)[1].getCoefficients(),L=c-R.length;for(let G=0;G<L;G++)o[h+G]=0;k.arraycopy(R,0,o,h+L,R.length)}}class kt{constructor(){}static applyMaskPenaltyRule1(o){return kt.applyMaskPenaltyRule1Internal(o,!0)+kt.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let c=0;const h=o.getArray(),m=o.getWidth(),y=o.getHeight();for(let w=0;w<y-1;w++){const C=h[w];for(let R=0;R<m-1;R++){const L=C[R];L===C[R+1]&&L===h[w+1][R]&&L===h[w+1][R+1]&&c++}}return kt.N2*c}static applyMaskPenaltyRule3(o){let c=0;const h=o.getArray(),m=o.getWidth(),y=o.getHeight();for(let w=0;w<y;w++)for(let C=0;C<m;C++){const R=h[w];C+6<m&&R[C]===1&&R[C+1]===0&&R[C+2]===1&&R[C+3]===1&&R[C+4]===1&&R[C+5]===0&&R[C+6]===1&&(kt.isWhiteHorizontal(R,C-4,C)||kt.isWhiteHorizontal(R,C+7,C+11))&&c++,w+6<y&&h[w][C]===1&&h[w+1][C]===0&&h[w+2][C]===1&&h[w+3][C]===1&&h[w+4][C]===1&&h[w+5][C]===0&&h[w+6][C]===1&&(kt.isWhiteVertical(h,C,w-4,w)||kt.isWhiteVertical(h,C,w+7,w+11))&&c++}return c*kt.N3}static isWhiteHorizontal(o,c,h){c=Math.max(c,0),h=Math.min(h,o.length);for(let m=c;m<h;m++)if(o[m]===1)return!1;return!0}static isWhiteVertical(o,c,h,m){h=Math.max(h,0),m=Math.min(m,o.length);for(let y=h;y<m;y++)if(o[y][c]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let c=0;const h=o.getArray(),m=o.getWidth(),y=o.getHeight();for(let R=0;R<y;R++){const L=h[R];for(let G=0;G<m;G++)L[G]===1&&c++}const w=o.getHeight()*o.getWidth();return Math.floor(Math.abs(c*2-w)*10/w)*kt.N4}static getDataMaskBit(o,c,h){let m,y;switch(o){case 0:m=h+c&1;break;case 1:m=h&1;break;case 2:m=c%3;break;case 3:m=(h+c)%3;break;case 4:m=Math.floor(h/2)+Math.floor(c/3)&1;break;case 5:y=h*c,m=(y&1)+y%3;break;case 6:y=h*c,m=(y&1)+y%3&1;break;case 7:y=h*c,m=y%3+(h+c&1)&1;break;default:throw new _("Invalid mask pattern: "+o)}return m===0}static applyMaskPenaltyRule1Internal(o,c){let h=0;const m=c?o.getHeight():o.getWidth(),y=c?o.getWidth():o.getHeight(),w=o.getArray();for(let C=0;C<m;C++){let R=0,L=-1;for(let G=0;G<y;G++){const se=c?w[C][G]:w[G][C];se===L?R++:(R>=5&&(h+=kt.N1+(R-5)),R=1,L=se)}R>=5&&(h+=kt.N1+(R-5))}return h}}kt.N1=3,kt.N2=3,kt.N3=40,kt.N4=10;class rr{constructor(o,c){this.width=o,this.height=c;const h=new Array(c);for(let m=0;m!==c;m++)h[m]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,c){return this.bytes[c][o]}getArray(){return this.bytes}setNumber(o,c,h){this.bytes[c][o]=h}setBoolean(o,c,h){this.bytes[c][o]=h?1:0}clear(o){for(const c of this.bytes)J.fill(c,o)}equals(o){if(!(o instanceof rr))return!1;const c=o;if(this.width!==c.width||this.height!==c.height)return!1;for(let h=0,m=this.height;h<m;++h){const y=this.bytes[h],w=c.bytes[h];for(let C=0,R=this.width;C<R;++C)if(y[C]!==w[C])return!1}return!0}toString(){const o=new X;for(let c=0,h=this.height;c<h;++c){const m=this.bytes[c];for(let y=0,w=this.width;y<w;++y)switch(m[y]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ar{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new X;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ar.NUM_MASK_PATTERNS}}Ar.NUM_MASK_PATTERNS=8;class An extends p{}An.kind="WriterException";class A{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,c,h,m,y){A.clearMatrix(y),A.embedBasicPatterns(h,y),A.embedTypeInfo(c,m,y),A.maybeEmbedVersionInfo(h,y),A.embedDataBits(o,m,y)}static embedBasicPatterns(o,c){A.embedPositionDetectionPatternsAndSeparators(c),A.embedDarkDotAtLeftBottomCorner(c),A.maybeEmbedPositionAdjustmentPatterns(o,c),A.embedTimingPatterns(c)}static embedTypeInfo(o,c,h){const m=new ee;A.makeTypeInfoBits(o,c,m);for(let y=0,w=m.getSize();y<w;++y){const C=m.get(m.getSize()-1-y),R=A.TYPE_INFO_COORDINATES[y],L=R[0],G=R[1];if(h.setBoolean(L,G,C),y<8){const se=h.getWidth()-y-1;h.setBoolean(se,8,C)}else{const ie=h.getHeight()-7+(y-8);h.setBoolean(8,ie,C)}}}static maybeEmbedVersionInfo(o,c){if(o.getVersionNumber()<7)return;const h=new ee;A.makeVersionInfoBits(o,h);let m=17;for(let y=0;y<6;++y)for(let w=0;w<3;++w){const C=h.get(m);m--,c.setBoolean(y,c.getHeight()-11+w,C),c.setBoolean(c.getHeight()-11+w,y,C)}}static embedDataBits(o,c,h){let m=0,y=-1,w=h.getWidth()-1,C=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);C>=0&&C<h.getHeight();){for(let R=0;R<2;++R){const L=w-R;if(!A.isEmpty(h.get(L,C)))continue;let G;m<o.getSize()?(G=o.get(m),++m):G=!1,c!==255&&kt.getDataMaskBit(c,L,C)&&(G=!G),h.setBoolean(L,C,G)}C+=y}y=-y,C+=y,w-=2}if(m!==o.getSize())throw new An("Not all bits consumed: "+m+"/"+o.getSize())}static findMSBSet(o){return 32-Z.numberOfLeadingZeros(o)}static calculateBCHCode(o,c){if(c===0)throw new _("0 polynomial");const h=A.findMSBSet(c);for(o<<=h-1;A.findMSBSet(o)>=h;)o^=c<<A.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,c,h){if(!Ar.isValidMaskPattern(c))throw new An("Invalid mask pattern");const m=o.getBits()<<3|c;h.appendBits(m,5);const y=A.calculateBCHCode(m,A.TYPE_INFO_POLY);h.appendBits(y,10);const w=new ee;if(w.appendBits(A.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new An("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,c){c.appendBits(o.getVersionNumber(),6);const h=A.calculateBCHCode(o.getVersionNumber(),A.VERSION_INFO_POLY);if(c.appendBits(h,12),c.getSize()!==18)throw new An("should not happen but we got: "+c.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let c=8;c<o.getWidth()-8;++c){const h=(c+1)%2;A.isEmpty(o.get(c,6))&&o.setNumber(c,6,h),A.isEmpty(o.get(6,c))&&o.setNumber(6,c,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new An;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,c,h){for(let m=0;m<8;++m){if(!A.isEmpty(h.get(o+m,c)))throw new An;h.setNumber(o+m,c,0)}}static embedVerticalSeparationPattern(o,c,h){for(let m=0;m<7;++m){if(!A.isEmpty(h.get(o,c+m)))throw new An;h.setNumber(o,c+m,0)}}static embedPositionAdjustmentPattern(o,c,h){for(let m=0;m<5;++m){const y=A.POSITION_ADJUSTMENT_PATTERN[m];for(let w=0;w<5;++w)h.setNumber(o+w,c+m,y[w])}}static embedPositionDetectionPattern(o,c,h){for(let m=0;m<7;++m){const y=A.POSITION_DETECTION_PATTERN[m];for(let w=0;w<7;++w)h.setNumber(o+w,c+m,y[w])}}static embedPositionDetectionPatternsAndSeparators(o){const c=A.POSITION_DETECTION_PATTERN[0].length;A.embedPositionDetectionPattern(0,0,o),A.embedPositionDetectionPattern(o.getWidth()-c,0,o),A.embedPositionDetectionPattern(0,o.getWidth()-c,o);const h=8;A.embedHorizontalSeparationPattern(0,h-1,o),A.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),A.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const m=7;A.embedVerticalSeparationPattern(m,0,o),A.embedVerticalSeparationPattern(o.getHeight()-m-1,0,o),A.embedVerticalSeparationPattern(m,o.getHeight()-m,o)}static maybeEmbedPositionAdjustmentPatterns(o,c){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,m=A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let y=0,w=m.length;y!==w;y++){const C=m[y];if(C>=0)for(let R=0;R!==w;R++){const L=m[R];L>=0&&A.isEmpty(c.get(L,C))&&A.embedPositionAdjustmentPattern(L-2,C-2,c)}}}}A.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),A.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),A.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),A.VERSION_INFO_POLY=7973,A.TYPE_INFO_POLY=1335,A.TYPE_INFO_MASK_PATTERN=21522;class V{constructor(o,c){this.dataBytes=o,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Q{constructor(){}static calculateMaskPenalty(o){return kt.applyMaskPenaltyRule1(o)+kt.applyMaskPenaltyRule2(o)+kt.applyMaskPenaltyRule3(o)+kt.applyMaskPenaltyRule4(o)}static encode(o,c,h=null){let m=Q.DEFAULT_BYTE_MODE_ENCODING;const y=h!==null&&h.get(Dt.CHARACTER_SET)!==void 0;y&&(m=h.get(Dt.CHARACTER_SET).toString());const w=this.chooseMode(o,m),C=new ee;if(w===ln.BYTE&&(y||Q.DEFAULT_BYTE_MODE_ENCODING!==m)){const ft=F.getCharacterSetECIByName(m);ft!==void 0&&this.appendECI(ft,C)}this.appendModeInfo(w,C);const R=new ee;this.appendBytes(o,w,R,m);let L;if(h!==null&&h.get(Dt.QR_VERSION)!==void 0){const ft=Number.parseInt(h.get(Dt.QR_VERSION).toString(),10);L=Ft.getVersionForNumber(ft);const ht=this.calculateBitsNeeded(w,C,R,L);if(!this.willFit(ht,L,c))throw new An("Data too big for requested version")}else L=this.recommendVersion(c,w,C,R);const G=new ee;G.appendBitArray(C);const se=w===ln.BYTE?R.getSizeInBytes():o.length;this.appendLengthInfo(se,L,w,G),G.appendBitArray(R);const ie=L.getECBlocksForLevel(c),Ee=L.getTotalCodewords()-ie.getTotalECCodewords();this.terminateBits(Ee,G);const Pe=this.interleaveWithECBytes(G,L.getTotalCodewords(),Ee,ie.getNumBlocks()),Me=new Ar;Me.setECLevel(c),Me.setMode(w),Me.setVersion(L);const Ve=L.getDimensionForVersion(),Ze=new rr(Ve,Ve),dt=this.chooseMaskPattern(Pe,c,L,Ze);return Me.setMaskPattern(dt),A.buildMatrix(Pe,c,L,dt,Ze),Me.setMatrix(Ze),Me}static recommendVersion(o,c,h,m){const y=this.calculateBitsNeeded(c,h,m,Ft.getVersionForNumber(1)),w=this.chooseVersion(y,o),C=this.calculateBitsNeeded(c,h,m,w);return this.chooseVersion(C,o)}static calculateBitsNeeded(o,c,h,m){return c.getSize()+o.getCharacterCountBits(m)+h.getSize()}static getAlphanumericCode(o){return o<Q.ALPHANUMERIC_TABLE.length?Q.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,c=null){if(F.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(o))return ln.KANJI;let h=!1,m=!1;for(let y=0,w=o.length;y<w;++y){const C=o.charAt(y);if(Q.isDigit(C))h=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)m=!0;else return ln.BYTE}return m?ln.ALPHANUMERIC:h?ln.NUMERIC:ln.BYTE}static isOnlyDoubleByteKanji(o){let c;try{c=z.encode(o,F.SJIS)}catch{return!1}const h=c.length;if(h%2!==0)return!1;for(let m=0;m<h;m+=2){const y=c[m]&255;if((y<129||y>159)&&(y<224||y>235))return!1}return!0}static chooseMaskPattern(o,c,h,m){let y=Number.MAX_SAFE_INTEGER,w=-1;for(let C=0;C<Ar.NUM_MASK_PATTERNS;C++){A.buildMatrix(o,c,h,C,m);let R=this.calculateMaskPenalty(m);R<y&&(y=R,w=C)}return w}static chooseVersion(o,c){for(let h=1;h<=40;h++){const m=Ft.getVersionForNumber(h);if(Q.willFit(o,m,c))return m}throw new An("Data too big")}static willFit(o,c,h){const m=c.getTotalCodewords(),w=c.getECBlocksForLevel(h).getTotalECCodewords(),C=m-w,R=(o+7)/8;return C>=R}static terminateBits(o,c){const h=o*8;if(c.getSize()>h)throw new An("data bits cannot fit in the QR Code"+c.getSize()+" > "+h);for(let w=0;w<4&&c.getSize()<h;++w)c.appendBit(!1);const m=c.getSize()&7;if(m>0)for(let w=m;w<8;w++)c.appendBit(!1);const y=o-c.getSizeInBytes();for(let w=0;w<y;++w)c.appendBits((w&1)===0?236:17,8);if(c.getSize()!==h)throw new An("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,c,h,m,y,w){if(m>=h)throw new An("Block ID too large");const C=o%h,R=h-C,L=Math.floor(o/h),G=L+1,se=Math.floor(c/h),ie=se+1,Ee=L-se,Pe=G-ie;if(Ee!==Pe)throw new An("EC bytes mismatch");if(h!==R+C)throw new An("RS blocks mismatch");if(o!==(se+Ee)*R+(ie+Pe)*C)throw new An("Total bytes mismatch");m<R?(y[0]=se,w[0]=Ee):(y[0]=ie,w[0]=Pe)}static interleaveWithECBytes(o,c,h,m){if(o.getSizeInBytes()!==h)throw new An("Number of bits and data bytes does not match");let y=0,w=0,C=0;const R=new Array;for(let G=0;G<m;++G){const se=new Int32Array(1),ie=new Int32Array(1);Q.getNumDataBytesAndNumECBytesForBlockID(c,h,m,G,se,ie);const Ee=se[0],Pe=new Uint8Array(Ee);o.toBytes(8*y,Pe,0,Ee);const Me=Q.generateECBytes(Pe,ie[0]);R.push(new V(Pe,Me)),w=Math.max(w,Ee),C=Math.max(C,Me.length),y+=se[0]}if(h!==y)throw new An("Data bytes does not match offset");const L=new ee;for(let G=0;G<w;++G)for(const se of R){const ie=se.getDataBytes();G<ie.length&&L.appendBits(ie[G],8)}for(let G=0;G<C;++G)for(const se of R){const ie=se.getErrorCorrectionBytes();G<ie.length&&L.appendBits(ie[G],8)}if(c!==L.getSizeInBytes())throw new An("Interleaving error: "+c+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(o,c){const h=o.length,m=new Int32Array(h+c);for(let w=0;w<h;w++)m[w]=o[w]&255;new bn(vt.QR_CODE_FIELD_256).encode(m,c);const y=new Uint8Array(c);for(let w=0;w<c;w++)y[w]=m[h+w];return y}static appendModeInfo(o,c){c.appendBits(o.getBits(),4)}static appendLengthInfo(o,c,h,m){const y=h.getCharacterCountBits(c);if(o>=1<<y)throw new An(o+" is bigger than "+((1<<y)-1));m.appendBits(o,y)}static appendBytes(o,c,h,m){switch(c){case ln.NUMERIC:Q.appendNumericBytes(o,h);break;case ln.ALPHANUMERIC:Q.appendAlphanumericBytes(o,h);break;case ln.BYTE:Q.append8BitBytes(o,h,m);break;case ln.KANJI:Q.appendKanjiBytes(o,h);break;default:throw new An("Invalid mode: "+c)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const c=Q.getDigit(o);return c>=0&&c<=9}static appendNumericBytes(o,c){const h=o.length;let m=0;for(;m<h;){const y=Q.getDigit(o.charAt(m));if(m+2<h){const w=Q.getDigit(o.charAt(m+1)),C=Q.getDigit(o.charAt(m+2));c.appendBits(y*100+w*10+C,10),m+=3}else if(m+1<h){const w=Q.getDigit(o.charAt(m+1));c.appendBits(y*10+w,7),m+=2}else c.appendBits(y,4),m++}}static appendAlphanumericBytes(o,c){const h=o.length;let m=0;for(;m<h;){const y=Q.getAlphanumericCode(o.charCodeAt(m));if(y===-1)throw new An;if(m+1<h){const w=Q.getAlphanumericCode(o.charCodeAt(m+1));if(w===-1)throw new An;c.appendBits(y*45+w,11),m+=2}else c.appendBits(y,6),m++}}static append8BitBytes(o,c,h){let m;try{m=z.encode(o,h)}catch(y){throw new An(y)}for(let y=0,w=m.length;y!==w;y++){const C=m[y];c.appendBits(C,8)}}static appendKanjiBytes(o,c){let h;try{h=z.encode(o,F.SJIS)}catch(y){throw new An(y)}const m=h.length;for(let y=0;y<m;y+=2){const w=h[y]&255,C=h[y+1]&255,R=w<<8&4294967295|C;let L=-1;if(R>=33088&&R<=40956?L=R-33088:R>=57408&&R<=60351&&(L=R-49472),L===-1)throw new An("Invalid byte sequence");const G=(L>>8)*192+(L&255);c.appendBits(G,13)}}static appendECI(o,c){c.appendBits(ln.ECI.getBits(),4),c.appendBits(o.getValue(),8)}}Q.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Q.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class de{write(o,c,h,m=null){if(o.length===0)throw new _("Found empty contents");if(c<0||h<0)throw new _("Requested dimensions are too small: "+c+"x"+h);let y=kn.L,w=de.QUIET_ZONE_SIZE;m!==null&&(m.get(Dt.ERROR_CORRECTION)!==void 0&&(y=kn.fromString(m.get(Dt.ERROR_CORRECTION).toString())),m.get(Dt.MARGIN)!==void 0&&(w=Number.parseInt(m.get(Dt.MARGIN).toString(),10)));const C=Q.encode(o,y,m);return this.renderResult(C,c,h,w)}writeToDom(o,c,h,m,y=null){typeof o=="string"&&(o=document.querySelector(o));const w=this.write(c,h,m,y);o&&o.appendChild(w)}renderResult(o,c,h,m){const y=o.getMatrix();if(y===null)throw new ve;const w=y.getWidth(),C=y.getHeight(),R=w+m*2,L=C+m*2,G=Math.max(c,R),se=Math.max(h,L),ie=Math.min(Math.floor(G/R),Math.floor(se/L)),Ee=Math.floor((G-w*ie)/2),Pe=Math.floor((se-C*ie)/2),Me=this.createSVGElement(G,se);for(let Ve=0,Ze=Pe;Ve<C;Ve++,Ze+=ie)for(let dt=0,ft=Ee;dt<w;dt++,ft+=ie)if(y.get(dt,Ve)===1){const ht=this.createSvgRectElement(ft,Ze,ie,ie);Me.appendChild(ht)}return Me}createSVGElement(o,c){const h=document.createElementNS(de.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",c.toString()),h}createSvgRectElement(o,c,h,m){const y=document.createElementNS(de.SVG_NS,"rect");return y.setAttributeNS(null,"x",o.toString()),y.setAttributeNS(null,"y",c.toString()),y.setAttributeNS(null,"height",h.toString()),y.setAttributeNS(null,"width",m.toString()),y.setAttributeNS(null,"fill","#000000"),y}}de.QUIET_ZONE_SIZE=4,de.SVG_NS="http://www.w3.org/2000/svg";class He{encode(o,c,h,m,y){if(o.length===0)throw new _("Found empty contents");if(c!==Ae.QR_CODE)throw new _("Can only encode QR_CODE, but got "+c);if(h<0||m<0)throw new _(`Requested dimensions are too small: ${h}x${m}`);let w=kn.L,C=He.QUIET_ZONE_SIZE;y!==null&&(y.get(Dt.ERROR_CORRECTION)!==void 0&&(w=kn.fromString(y.get(Dt.ERROR_CORRECTION).toString())),y.get(Dt.MARGIN)!==void 0&&(C=Number.parseInt(y.get(Dt.MARGIN).toString(),10)));const R=Q.encode(o,w,y);return He.renderResult(R,h,m,C)}static renderResult(o,c,h,m){const y=o.getMatrix();if(y===null)throw new ve;const w=y.getWidth(),C=y.getHeight(),R=w+m*2,L=C+m*2,G=Math.max(c,R),se=Math.max(h,L),ie=Math.min(Math.floor(G/R),Math.floor(se/L)),Ee=Math.floor((G-w*ie)/2),Pe=Math.floor((se-C*ie)/2),Me=new be(G,se);for(let Ve=0,Ze=Pe;Ve<C;Ve++,Ze+=ie)for(let dt=0,ft=Ee;dt<w;dt++,ft+=ie)y.get(dt,Ve)===1&&Me.setRegion(ft,Ze,ie,ie);return Me}}He.QUIET_ZONE_SIZE=4;class Je{encode(o,c,h,m,y){let w;if(c===Ae.QR_CODE)w=new He;else throw new _("No encoder available for format "+c);return w.encode(o,c,h,m,y)}}class Ct extends ye{constructor(o,c,h,m,y,w,C,R){if(super(w,C),this.yuvData=o,this.dataWidth=c,this.dataHeight=h,this.left=m,this.top=y,m+w>c||y+C>h)throw new _("Crop rectangle does not fit within image data.");R&&this.reverseHorizontal(w,C)}getRow(o,c){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const m=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,m,c,0,h),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.yuvData;const h=o*c,m=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.yuvData,y,m,0,h),m;for(let w=0;w<c;w++){const C=w*o;k.arraycopy(this.yuvData,y,m,C,o),y+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,c,h,m){return new Ct(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+c,h,m,!1)}renderThumbnail(){const o=this.getWidth()/Ct.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/Ct.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*c),m=this.yuvData;let y=this.top*this.dataWidth+this.left;for(let w=0;w<c;w++){const C=w*o;for(let R=0;R<o;R++){const L=m[y+R*Ct.THUMBNAIL_SCALE_FACTOR]&255;h[C+R]=4278190080|L*65793}y+=this.dataWidth*Ct.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Ct.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ct.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,c){const h=this.yuvData;for(let m=0,y=this.top*this.dataWidth+this.left;m<c;m++,y+=this.dataWidth){const w=y+o/2;for(let C=y,R=y+o-1;C<w;C++,R--){const L=h[C];h[C]=h[R],h[R]=L}}}invert(){return new De(this)}}Ct.THUMBNAIL_SCALE_FACTOR=2;class Pn extends ye{constructor(o,c,h,m,y,w,C){if(super(c,h),this.dataWidth=m,this.dataHeight=y,this.left=w,this.top=C,o.BYTES_PER_ELEMENT===4){const R=c*h,L=new Uint8ClampedArray(R);for(let G=0;G<R;G++){const se=o[G],ie=se>>16&255,Ee=se>>7&510,Pe=se&255;L[G]=(ie+Ee+Pe)/4&255}this.luminances=L}else this.luminances=o;if(m===void 0&&(this.dataWidth=c),y===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+h>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(o,c){if(o<0||o>=this.getHeight())throw new _("Requested row is outside the image: "+o);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const m=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,m,c,0,h),c}getMatrix(){const o=this.getWidth(),c=this.getHeight();if(o===this.dataWidth&&c===this.dataHeight)return this.luminances;const h=o*c,m=new Uint8ClampedArray(h);let y=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.luminances,y,m,0,h),m;for(let w=0;w<c;w++){const C=w*o;k.arraycopy(this.luminances,y,m,C,o),y+=this.dataWidth}return m}isCropSupported(){return!0}crop(o,c,h,m){return new Pn(this.luminances,h,m,this.dataWidth,this.dataHeight,this.left+o,this.top+c)}invert(){return new De(this)}}class Xr extends F{static forName(o){return this.getCharacterSetECIByName(o)}}class Jn{}Jn.ISO_8859_1=F.ISO8859_1;class Dr{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class na{static singletonList(o){return[o]}static min(o,c){return o.sort(c)[0]}}class Sa{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Er extends Sa{constructor(o,c,h){super(o),this.value=c,this.bitCount=h}appendTo(o,c){o.appendBits(this.value,this.bitCount)}add(o,c){return new Er(this,o,c)}addBinaryShift(o,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Er(this,o,c)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Z.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class ra extends Er{constructor(o,c,h){super(o,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=h}appendTo(o,c){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(c[this.binaryShiftStart+h],8)}addBinaryShift(o,c){return new ra(this,o,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Pi(re,o,c){return new ra(re,o,c)}function mi(re,o,c){return new Er(re,o,c)}const go=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ts=0,qi=1,Na=2,Ul=3,Is=4,lo=new Er(null,0,0),co=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ac(re){for(let o of re)J.fill(o,-1);return re[Ts][Is]=0,re[qi][Is]=0,re[qi][Ts]=28,re[Ul][Is]=0,re[Na][Is]=0,re[Na][Ts]=15,re}const Gi=Ac(J.createInt32Array(6,6));class Ta{constructor(o,c,h,m){this.token=o,this.mode=c,this.binaryShiftByteCount=h,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,c){let h=this.bitCount,m=this.token;if(o!==this.mode){let w=co[this.mode][o];m=mi(m,w&65535,w>>16),h+=w>>16}let y=o===Na?4:5;return m=mi(m,c,y),new Ta(m,o,0,h+y)}shiftAndAppend(o,c){let h=this.token,m=this.mode===Na?4:5;return h=mi(h,Gi[this.mode][o],m),h=mi(h,c,5),new Ta(h,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(o){let c=this.token,h=this.mode,m=this.bitCount;if(this.mode===Is||this.mode===Na){let C=co[h][Ts];c=mi(c,C&65535,C>>16),m+=C>>16,h=Ts}let y=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Ta(c,h,this.binaryShiftByteCount+1,m+y);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(o+1)),w}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Pi(c,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ta(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let c=this.bitCount+(co[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?c+=Ta.calculateBinaryShiftCost(o)-Ta.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(c+=10),c<=o.bitCount}toBitArray(o){let c=[];for(let m=this.endBinaryShift(o.length).token;m!==null;m=m.getPrevious())c.unshift(m);let h=new ee;for(const m of c)m.appendTo(h,o);return h}toString(){return q.format("%s bits=%d bytes=%d",go[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Ta.INITIAL_STATE=new Ta(lo,Ts,0,0);function xi(re){const o=q.getCharCode(" "),c=q.getCharCode("."),h=q.getCharCode(",");re[Ts][o]=1;const m=q.getCharCode("Z"),y=q.getCharCode("A");for(let ie=y;ie<=m;ie++)re[Ts][ie]=ie-y+2;re[qi][o]=1;const w=q.getCharCode("z"),C=q.getCharCode("a");for(let ie=C;ie<=w;ie++)re[qi][ie]=ie-C+2;re[Na][o]=1;const R=q.getCharCode("9"),L=q.getCharCode("0");for(let ie=L;ie<=R;ie++)re[Na][ie]=ie-L+2;re[Na][h]=12,re[Na][c]=13;const G=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ie=0;ie<G.length;ie++)re[Ul][q.getCharCode(G[ie])]=ie;const se=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ie=0;ie<se.length;ie++)q.getCharCode(se[ie])>0&&(re[Is][q.getCharCode(se[ie])]=ie);return re}const Ia=xi(J.createInt32Array(5,256));class yi{constructor(o){this.text=o}encode(){const o=q.getCharCode(" "),c=q.getCharCode(`
`);let h=na.singletonList(Ta.INITIAL_STATE);for(let y=0;y<this.text.length;y++){let w,C=y+1<this.text.length?this.text[y+1]:0;switch(this.text[y]){case q.getCharCode("\r"):w=C===c?2:0;break;case q.getCharCode("."):w=C===o?3:0;break;case q.getCharCode(","):w=C===o?4:0;break;case q.getCharCode(":"):w=C===o?5:0;break;default:w=0}w>0?(h=yi.updateStateListForPair(h,y,w),y++):h=this.updateStateListForChar(h,y)}return na.min(h,(y,w)=>y.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,c){const h=[];for(let m of o)this.updateStateForChar(m,c,h);return yi.simplifyStates(h)}updateStateForChar(o,c,h){let m=this.text[c]&255,y=Ia[o.getMode()][m]>0,w=null;for(let C=0;C<=Is;C++){let R=Ia[C][m];if(R>0){if(w==null&&(w=o.endBinaryShift(c)),!y||C===o.getMode()||C===Na){const L=w.latchAndAppend(C,R);h.push(L)}if(!y&&Gi[o.getMode()][C]>=0){const L=w.shiftAndAppend(C,R);h.push(L)}}}if(o.getBinaryShiftByteCount()>0||Ia[o.getMode()][m]===0){let C=o.addBinaryShiftChar(c);h.push(C)}}static updateStateListForPair(o,c,h){const m=[];for(let y of o)this.updateStateForPair(y,c,h,m);return this.simplifyStates(m)}static updateStateForPair(o,c,h,m){let y=o.endBinaryShift(c);if(m.push(y.latchAndAppend(Is,h)),o.getMode()!==Is&&m.push(y.shiftAndAppend(Is,h)),h===3||h===4){let w=y.latchAndAppend(Na,16-h).latchAndAppend(Na,1);m.push(w)}if(o.getBinaryShiftByteCount()>0){let w=o.addBinaryShiftChar(c).addBinaryShiftChar(c+1);m.push(w)}}static simplifyStates(o){let c=[];for(const h of o){let m=!0;for(const y of c){if(y.isBetterThanOrEqualTo(h)){m=!1;break}h.isBetterThanOrEqualTo(y)&&(c=c.filter(w=>w!==y))}m&&c.push(h)}return c}}class qn{constructor(){}static encodeBytes(o){return qn.encode(o,qn.DEFAULT_EC_PERCENT,qn.DEFAULT_AZTEC_LAYERS)}static encode(o,c,h){let m=new yi(o).encode(),y=Z.truncDivision(m.getSize()*c,100)+11,w=m.getSize()+y,C,R,L,G,se;if(h!==qn.DEFAULT_AZTEC_LAYERS){if(C=h<0,R=Math.abs(h),R>(C?qn.MAX_NB_BITS_COMPACT:qn.MAX_NB_BITS))throw new _(q.format("Illegal value %s for layers",h));L=qn.totalBitsInLayer(R,C),G=qn.WORD_SIZE[R];let ht=L-L%G;if(se=qn.stuffBits(m,G),se.getSize()+y>ht)throw new _("Data to large for user specified layer");if(C&&se.getSize()>G*64)throw new _("Data to large for user specified layer")}else{G=0,se=null;for(let ht=0;;ht++){if(ht>qn.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(C=ht<=3,R=C?ht+1:ht,L=qn.totalBitsInLayer(R,C),w>L)continue;(se==null||G!==qn.WORD_SIZE[R])&&(G=qn.WORD_SIZE[R],se=qn.stuffBits(m,G));let yn=L-L%G;if(!(C&&se.getSize()>G*64)&&se.getSize()+y<=yn)break}}let ie=qn.generateCheckWords(se,L,G),Ee=se.getSize()/G,Pe=qn.generateModeMessage(C,R,Ee),Me=(C?11:14)+R*4,Ve=new Int32Array(Me),Ze;if(C){Ze=Me;for(let ht=0;ht<Ve.length;ht++)Ve[ht]=ht}else{Ze=Me+1+2*Z.truncDivision(Z.truncDivision(Me,2)-1,15);let ht=Z.truncDivision(Me,2),yn=Z.truncDivision(Ze,2);for(let Nn=0;Nn<ht;Nn++){let ps=Nn+Z.truncDivision(Nn,15);Ve[ht-Nn-1]=yn-ps-1,Ve[ht+Nn]=yn+ps+1}}let dt=new be(Ze);for(let ht=0,yn=0;ht<R;ht++){let Nn=(R-ht)*4+(C?9:12);for(let ps=0;ps<Nn;ps++){let Ra=ps*2;for(let da=0;da<2;da++)ie.get(yn+Ra+da)&&dt.set(Ve[ht*2+da],Ve[ht*2+ps]),ie.get(yn+Nn*2+Ra+da)&&dt.set(Ve[ht*2+ps],Ve[Me-1-ht*2-da]),ie.get(yn+Nn*4+Ra+da)&&dt.set(Ve[Me-1-ht*2-da],Ve[Me-1-ht*2-ps]),ie.get(yn+Nn*6+Ra+da)&&dt.set(Ve[Me-1-ht*2-ps],Ve[ht*2+da])}yn+=Nn*8}if(qn.drawModeMessage(dt,C,Ze,Pe),C)qn.drawBullsEye(dt,Z.truncDivision(Ze,2),5);else{qn.drawBullsEye(dt,Z.truncDivision(Ze,2),7);for(let ht=0,yn=0;ht<Z.truncDivision(Me,2)-1;ht+=15,yn+=16)for(let Nn=Z.truncDivision(Ze,2)&1;Nn<Ze;Nn+=2)dt.set(Z.truncDivision(Ze,2)-yn,Nn),dt.set(Z.truncDivision(Ze,2)+yn,Nn),dt.set(Nn,Z.truncDivision(Ze,2)-yn),dt.set(Nn,Z.truncDivision(Ze,2)+yn)}let ft=new Dr;return ft.setCompact(C),ft.setSize(Ze),ft.setLayers(R),ft.setCodeWords(Ee),ft.setMatrix(dt),ft}static drawBullsEye(o,c,h){for(let m=0;m<h;m+=2)for(let y=c-m;y<=c+m;y++)o.set(y,c-m),o.set(y,c+m),o.set(c-m,y),o.set(c+m,y);o.set(c-h,c-h),o.set(c-h+1,c-h),o.set(c-h,c-h+1),o.set(c+h,c-h),o.set(c+h,c-h+1),o.set(c+h,c+h-1)}static generateModeMessage(o,c,h){let m=new ee;return o?(m.appendBits(c-1,2),m.appendBits(h-1,6),m=qn.generateCheckWords(m,28,4)):(m.appendBits(c-1,5),m.appendBits(h-1,11),m=qn.generateCheckWords(m,40,4)),m}static drawModeMessage(o,c,h,m){let y=Z.truncDivision(h,2);if(c)for(let w=0;w<7;w++){let C=y-3+w;m.get(w)&&o.set(C,y-5),m.get(w+7)&&o.set(y+5,C),m.get(20-w)&&o.set(C,y+5),m.get(27-w)&&o.set(y-5,C)}else for(let w=0;w<10;w++){let C=y-5+w+Z.truncDivision(w,5);m.get(w)&&o.set(C,y-7),m.get(w+10)&&o.set(y+7,C),m.get(29-w)&&o.set(C,y+7),m.get(39-w)&&o.set(y-7,C)}}static generateCheckWords(o,c,h){let m=o.getSize()/h,y=new bn(qn.getGF(h)),w=Z.truncDivision(c,h),C=qn.bitsToWords(o,h,w);y.encode(C,w-m);let R=c%h,L=new ee;L.appendBits(0,R);for(const G of Array.from(C))L.appendBits(G,h);return L}static bitsToWords(o,c,h){let m=new Int32Array(h),y,w;for(y=0,w=o.getSize()/c;y<w;y++){let C=0;for(let R=0;R<c;R++)C|=o.get(y*c+R)?1<<c-R-1:0;m[y]=C}return m}static getGF(o){switch(o){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new _("Unsupported word size "+o)}}static stuffBits(o,c){let h=new ee,m=o.getSize(),y=(1<<c)-2;for(let w=0;w<m;w+=c){let C=0;for(let R=0;R<c;R++)(w+R>=m||o.get(w+R))&&(C|=1<<c-1-R);(C&y)===y?(h.appendBits(C&y,c),w--):(C&y)===0?(h.appendBits(C|1,c),w--):h.appendBits(C,c)}return h}static totalBitsInLayer(o,c){return((c?88:112)+16*o)*o}}qn.DEFAULT_EC_PERCENT=33,qn.DEFAULT_AZTEC_LAYERS=0,qn.MAX_NB_BITS=32,qn.MAX_NB_BITS_COMPACT=4,qn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wi{encode(o,c,h,m){return this.encodeWithHints(o,c,h,m,null)}encodeWithHints(o,c,h,m,y){let w=Jn.ISO_8859_1,C=qn.DEFAULT_EC_PERCENT,R=qn.DEFAULT_AZTEC_LAYERS;return y!=null&&(y.has(Dt.CHARACTER_SET)&&(w=Xr.forName(y.get(Dt.CHARACTER_SET).toString())),y.has(Dt.ERROR_CORRECTION)&&(C=Z.parseInt(y.get(Dt.ERROR_CORRECTION).toString())),y.has(Dt.AZTEC_LAYERS)&&(R=Z.parseInt(y.get(Dt.AZTEC_LAYERS).toString()))),Wi.encodeLayers(o,c,h,m,w,C,R)}static encodeLayers(o,c,h,m,y,w,C){if(c!==Ae.AZTEC)throw new _("Can only encode AZTEC, but got "+c);let R=qn.encode(q.getBytes(o,y),w,C);return Wi.renderResult(R,h,m)}static renderResult(o,c,h){let m=o.getMatrix();if(m==null)throw new ve;let y=m.getWidth(),w=m.getHeight(),C=Math.max(c,y),R=Math.max(h,w),L=Math.min(C/y,R/w),G=(C-y*L)/2,se=(R-w*L)/2,ie=new be(C,R);for(let Ee=0,Pe=se;Ee<w;Ee++,Pe+=L)for(let Me=0,Ve=G;Me<y;Me++,Ve+=L)m.get(Me,Ee)&&ie.setRegion(Ve,Pe,L,L);return ie}}t.AbstractExpandedDecoder=wr,t.ArgumentException=b,t.ArithmeticException=Nt,t.AztecCode=Dr,t.AztecCodeReader=Yt,t.AztecCodeWriter=Wi,t.AztecDecoder=Ot,t.AztecDetector=jn,t.AztecDetectorResult=un,t.AztecEncoder=qn,t.AztecHighLevelEncoder=yi,t.AztecPoint=Mt,t.BarcodeFormat=Ae,t.Binarizer=P,t.BinaryBitmap=I,t.BitArray=ee,t.BitMatrix=be,t.BitSource=hs,t.BrowserAztecCodeReader=cs,t.BrowserBarcodeReader=Po,t.BrowserCodeReader=le,t.BrowserDatamatrixCodeReader=Ds,t.BrowserMultiFormatReader=Ue,t.BrowserPDF417Reader=ut,t.BrowserQRCodeReader=_t,t.BrowserQRCodeSvgWriter=de,t.CharacterSetECI=F,t.ChecksumException=S,t.Code128Reader=at,t.Code39Reader=Vt,t.DataMatrixDecodedBitStreamParser=ca,t.DataMatrixReader=Ca,t.DecodeHintType=Re,t.DecoderResult=We,t.DefaultGridSampler=Xn,t.DetectorResult=pn,t.EAN13Reader=Xt,t.EncodeHintType=Dt,t.Exception=p,t.FormatException=Y,t.GenericGF=vt,t.GenericGFPoly=mt,t.GlobalHistogramBinarizer=ge,t.GridSampler=Vn,t.GridSamplerInstance=Dn,t.HTMLCanvasElementLuminanceSource=rt,t.HybridBinarizer=Se,t.ITFReader=Bt,t.IllegalArgumentException=_,t.IllegalStateException=ve,t.InvertedLuminanceSource=De,t.LuminanceSource=ye,t.MathUtils=et,t.MultiFormatOneDReader=la,t.MultiFormatReader=ke,t.MultiFormatWriter=Je,t.NotFoundException=pe,t.OneDReader=Kt,t.PDF417DecodedBitStreamParser=tt,t.PDF417DecoderErrorCorrection=Ga,t.PDF417Reader=ne,t.PDF417ResultMetadata=Ri,t.PerspectiveTransform=gn,t.PlanarYUVLuminanceSource=Ct,t.QRCodeByteMatrix=rr,t.QRCodeDataMask=Ns,t.QRCodeDecodedBitStreamParser=kr,t.QRCodeDecoderErrorCorrectionLevel=kn,t.QRCodeDecoderFormatInformation=ds,t.QRCodeEncoder=Q,t.QRCodeEncoderQRCode=Ar,t.QRCodeMaskUtil=kt,t.QRCodeMatrixUtil=A,t.QRCodeMode=ln,t.QRCodeReader=qa,t.QRCodeVersion=Ft,t.QRCodeWriter=He,t.RGBLuminanceSource=Pn,t.RSS14Reader=fr,t.RSSExpandedReader=yt,t.ReaderException=Ce,t.ReedSolomonDecoder=Tt,t.ReedSolomonEncoder=bn,t.ReedSolomonException=Ut,t.Result=he,t.ResultMetadataType=ze,t.ResultPoint=ot,t.StringUtils=q,t.UnsupportedOperationException=te,t.VideoInputDevice=me,t.WhiteRectangleDetector=Cn,t.WriterException=An,t.ZXingArrays=J,t.ZXingCharset=Xr,t.ZXingInteger=Z,t.ZXingStandardCharsets=Jn,t.ZXingStringBuilder=X,t.ZXingStringEncoding=z,t.ZXingSystem=k,t.createAbstractExpandedDecoder=Ua,Object.defineProperty(t,"__esModule",{value:!0})}))})(Q1,Q1.exports)),Q1.exports}var js=lX();const cX=Em(js),uX=TC({__proto__:null,default:cX},[js]);var QA=(function(){function n(e,t,r){if(this.formatMap=new Map([[Qt.QR_CODE,js.BarcodeFormat.QR_CODE],[Qt.AZTEC,js.BarcodeFormat.AZTEC],[Qt.CODABAR,js.BarcodeFormat.CODABAR],[Qt.CODE_39,js.BarcodeFormat.CODE_39],[Qt.CODE_93,js.BarcodeFormat.CODE_93],[Qt.CODE_128,js.BarcodeFormat.CODE_128],[Qt.DATA_MATRIX,js.BarcodeFormat.DATA_MATRIX],[Qt.MAXICODE,js.BarcodeFormat.MAXICODE],[Qt.ITF,js.BarcodeFormat.ITF],[Qt.EAN_13,js.BarcodeFormat.EAN_13],[Qt.EAN_8,js.BarcodeFormat.EAN_8],[Qt.PDF_417,js.BarcodeFormat.PDF_417],[Qt.RSS_14,js.BarcodeFormat.RSS_14],[Qt.RSS_EXPANDED,js.BarcodeFormat.RSS_EXPANDED],[Qt.UPC_A,js.BarcodeFormat.UPC_A],[Qt.UPC_E,js.BarcodeFormat.UPC_E],[Qt.UPC_EAN_EXTENSION,js.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!uX)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(e),i=new Map;i.set(js.DecodeHintType.POSSIBLE_FORMATS,s),i.set(js.DecodeHintType.TRY_HARDER,!1),this.hints=i}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,s){try{r(t.decode(e))}catch(i){s(i)}})},n.prototype.decode=function(e){var t=new js.MultiFormatReader(this.verbose,this.hints),r=new js.HTMLCanvasElementLuminanceSource(e),s=new js.BinaryBitmap(new js.HybridBinarizer(r)),i=t.decode(s);return{text:i.text,format:m7.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var i=s[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),hX=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function d(b){try{p(r.next(b))}catch(_){u(_)}}function g(b){try{p(r.throw(b))}catch(_){u(_)}}function p(b){b.done?i(b.value):s(b.value).then(d,g)}p((r=r.apply(n,e||[])).next())})},dX=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(i=p[0]&2?s.return:p[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,p[1])).done)return i;switch(s=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){t.label=p[1];break}if(p[0]===6&&t.label<i[1]){t.label=i[1],i=p;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(p);break}i[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(b){p=[6,b],s=0}finally{r=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},KA=(function(){function n(e,t,r){if(this.formatMap=new Map([[Qt.QR_CODE,"qr_code"],[Qt.AZTEC,"aztec"],[Qt.CODABAR,"codabar"],[Qt.CODE_39,"code_39"],[Qt.CODE_93,"code_93"],[Qt.CODE_128,"code_128"],[Qt.DATA_MATRIX,"data_matrix"],[Qt.ITF,"itf"],[Qt.EAN_13,"ean_13"],[Qt.EAN_8,"ean_8"],[Qt.PDF_417,"pdf417"],[Qt.UPC_A,"upc_a"],[Qt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return hX(this,void 0,void 0,function(){var t,r;return dX(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:m7.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,s=0,i=e;s<i.length;s++){var u=i[s],d=u.boundingBox.width*u.boundingBox.height;d>r&&(r=d,t=u)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var i=s[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),$A=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function d(b){try{p(r.next(b))}catch(_){u(_)}}function g(b){try{p(r.throw(b))}catch(_){u(_)}}function p(b){b.done?i(b.value):s(b.value).then(d,g)}p((r=r.apply(n,e||[])).next())})},JA=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(i=p[0]&2?s.return:p[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,p[1])).done)return i;switch(s=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){t.label=p[1];break}if(p[0]===6&&t.label<i[1]){t.label=i[1],i=p;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(p);break}i[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(b){p=[6,b],s=0}finally{r=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},fX=(function(){function n(e,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&KA.isSupported()?(this.primaryDecoder=new KA(e,r,s),this.secondaryDecoder=new QA(e,r,s)):this.primaryDecoder=new QA(e,r,s)}return n.prototype.decodeAsync=function(e){return $A(this,void 0,void 0,function(){var t;return JA(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return $A(this,void 0,void 0,function(){var t,r;return JA(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];e+=s}var i=e/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),Lb=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),mm=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function d(b){try{p(r.next(b))}catch(_){u(_)}}function g(b){try{p(r.throw(b))}catch(_){u(_)}}function p(b){b.done?i(b.value):s(b.value).then(d,g)}p((r=r.apply(n,e||[])).next())})},xm=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(i=p[0]&2?s.return:p[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,p[1])).done)return i;switch(s=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){t.label=p[1];break}if(p[0]===6&&t.label<i[1]){t.label=i[1],i=p;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(p);break}i[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(b){p=[6,b],s=0}finally{r=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},y7=(function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n})(),pX=(function(n){Lb(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(y7),gX=(function(n){Lb(e,n);function e(t){return n.call(this,"zoom",t)||this}return e})(pX),mX=(function(n){Lb(e,n);function e(t){return n.call(this,"torch",t)||this}return e})(y7),xX=(function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new gX(this.track)},n.prototype.torchFeature=function(){return new mX(this.track)},n})(),yX=(function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,s){return mm(this,void 0,void 0,function(){var i,u;return xm(this,function(d){switch(d.label){case 0:return i=new n(e,t,s),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:d.sent(),d.label=2;case 2:return i.setupSurface(),[2,i]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return mm(this,void 0,void 0,function(){return xm(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var s=e.mediaStream.getVideoTracks(),i=s.length,u=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++u,u>=i&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new xX(this.getFirstTrackOrFail())},n})(),vX=(function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return mm(this,void 0,void 0,function(){return xm(this,function(s){return[2,yX.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return mm(this,void 0,void 0,function(){var t,r;return xm(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new n(r)]}})})},n})(),ZA=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function d(b){try{p(r.next(b))}catch(_){u(_)}}function g(b){try{p(r.throw(b))}catch(_){u(_)}}function p(b){b.done?i(b.value):s(b.value).then(d,g)}p((r=r.apply(n,e||[])).next())})},eE=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(i=p[0]&2?s.return:p[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,p[1])).done)return i;switch(s=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){t.label=p[1];break}if(p[0]===6&&t.label<i[1]){t.label=i[1],i=p;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(p);break}i[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(b){p=[6,b],s=0}finally{r=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},bX=(function(){function n(){}return n.failIfNotSupported=function(){return ZA(this,void 0,void 0,function(){return eE(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return ZA(this,void 0,void 0,function(){return eE(this,function(t){return[2,vX.create(e)]})})},n})(),wX=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function d(b){try{p(r.next(b))}catch(_){u(_)}}function g(b){try{p(r.throw(b))}catch(_){u(_)}}function p(b){b.done?i(b.value):s(b.value).then(d,g)}p((r=r.apply(n,e||[])).next())})},_X=function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(b){return g([p,b])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(t=0)),t;)try{if(r=1,s&&(i=p[0]&2?s.return:p[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,p[1])).done)return i;switch(s=0,i&&(p=[p[0]&2,i.value]),p[0]){case 0:case 1:i=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!i||p[1]>i[0]&&p[1]<i[3])){t.label=p[1];break}if(p[0]===6&&t.label<i[1]){t.label=i[1],i=p;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(p);break}i[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(b){p=[6,b],s=0}finally{r=i=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},AX=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=nf.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=nf.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return wX(this,void 0,void 0,function(){var e,t,r,s,i,u,d;return _X(this,function(g){switch(g.label){case 0:return e=function(p){for(var b=p.getVideoTracks(),_=0,I=b;_<I.length;_++){var S=I[_];S.enabled=!1,S.stop(),p.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),s=[],i=0,u=r;i<u.length;i++)d=u[i],d.kind==="videoinput"&&s.push({id:d.deviceId,label:d.label});return e(t),[2,s]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(i){for(var u=[],d=0,g=i;d<g.length;d++){var p=g[d];p.kind==="video"&&u.push({id:p.id,label:p.label})}e(u)},s=MediaStreamTrack;s.getSources(r)})},n})(),ba;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(ba||(ba={}));var EX=(function(){function n(){this.state=ba.NOT_STARTED,this.onGoingTransactionNewState=ba.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===ba.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ba.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===ba.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ba.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ba.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case ba.UNKNOWN:throw"Transition from unknown is not allowed";case ba.NOT_STARTED:this.failIfNewStateIs(e,[ba.PAUSED]);break;case ba.SCANNING:break;case ba.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,s=t;r<s.length;r++){var i=s[r];if(e===i)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n})(),CX=(function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===ba.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==ba.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ba.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===ba.PAUSED},n})(),SX=(function(){function n(){}return n.create=function(){return new CX(new EX)},n})(),NX=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Ho=(function(n){NX(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(sX),TX=(function(){function n(e,t){this.logger=t,this.fps=Ho.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ho.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?x7.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Hc(this.qrbox)},n.create=function(e,t){return new n(e,t)},n})(),IX=(function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new iX(this.verbose),this.qrcode=new fX(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=SX.create()}return n.prototype.start=function(e,t,r,s){var i=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;s?u=s:u=this.verbose?this.logger.log:function(){};var d=TX.create(t,this.logger);this.clearElement();var g=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Ho.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var _=this,I=this.stateManagerProxy.startTransition(ba.SCANNING);return new Promise(function(S,P){var k=p?d.videoConstraints:_.createVideoConstraints(e);if(!k){I.cancel(),P("videoConstraints should be defined");return}var M={};(!p||d.aspectRatio)&&(M.aspectRatio=d.aspectRatio);var j={onRenderSurfaceReady:function(J,Z){_.setupUi(J,Z,d),_.isScanning=!0,_.foreverScan(d,r,u)}};bX.failIfNotSupported().then(function(J){J.create(k).then(function(Z){return Z.render(i.element,M,j).then(function(ee){_.renderedCamera=ee,I.execute(),S(null)}).catch(function(ee){I.cancel(),P(ee)})}).catch(function(Z){I.cancel(),P(nf.errorGettingUserMedia(Z))})}).catch(function(J){I.cancel(),P(nf.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ba.PAUSED),this.showPausedState(),(Hc(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(ba.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(ba.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var i=document.getElementById(Ho.SHADED_REGION_ELEMENT_ID);i&&e.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hc(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var u=new Image;u.onload=function(){var d=u.width,g=u.height,p=document.getElementById(r.elementId),b=p.clientWidth?p.clientWidth:Ho.DEFAULT_WIDTH,_=Math.max(p.clientHeight?p.clientHeight:g,Ho.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(d,g,b,_);if(t){var S=r.createCanvasElement(b,_,"qr-canvas-visible");S.style.display="inline-block",p.appendChild(S);var P=S.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=b,P.canvas.height=_,P.drawImage(u,0,0,d,g,I.x,I.y,I.width,I.height)}var k=Ho.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(u.width,I.width),j=Math.max(u.height,I.height),J=M+2*k,Z=j+2*k,ee=r.createCanvasElement(J,Z);p.appendChild(ee);var we=ee.getContext("2d");if(!we)throw"Unable to get 2d context from canvas";we.canvas.width=J,we.canvas.height=Z,we.drawImage(u,0,0,d,g,k,k,M,j);try{r.qrcode.decodeRobustlyAsync(ee).then(function(Re){s(YA.createFromQrcodeResult(Re))}).catch(i)}catch(Re){i("QR code parse error, error = ".concat(Re))}},u.onerror=i,u.onabort=i,u.onstalled=i,u.onsuspend=i,u.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return AX.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!x7.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[Qt.QR_CODE,Qt.AZTEC,Qt.CODABAR,Qt.CODE_39,Qt.CODE_93,Qt.CODE_128,Qt.DATA_MATRIX,Qt.MAXICODE,Qt.ITF,Qt.EAN_13,Qt.EAN_8,Qt.PDF_417,Qt.RSS_14,Qt.RSS_EXPANDED,Qt.UPC_A,Qt.UPC_E,Qt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,i=e.formatsToSupport;s<i.length;s++){var u=i[s];rX(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Hc(e))return!0;if(!Hc(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Hc(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Hc(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var s=this,i=r.qrbox;this.validateQrboxConfig(i);var u=this.toQrdimensions(e,t,i),d=function(p){if(p<Ho.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ho.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};d(u.width),d(u.height),u.width=g(u.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var s=Hc(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(e,t,s);i.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&i.height<=t,d={x:0,y:0,width:e,height:t},g=u?this.getShadedRegionBounds(e,t,i):d,p=this.createCanvasElement(g.width,g.height),b={willReadFrequently:!0},_=p.getContext("2d",b);_.canvas.width=g.width,_.canvas.height=g.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=_,this.canvasElement=p},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=nf.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,YA.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var i=nf.codeParseError(s);return t(i,aX.createFrom(i)),!1})},n.prototype.foreverScan=function(e,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),u=i.videoWidth/i.clientWidth,d=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*u,p=this.qrRegion.height*d,b=this.qrRegion.x*u,_=this.qrRegion.y*d;this.context.drawImage(i,b,_,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,t,r)},s.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(S){!S&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){I()})):I()}).catch(function(S){s.logger.logError("Error happend while scanning context",S),I()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},i="exact",u=function(P){if(P in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var g=Object.keys(e)[0];if(g!==t&&g!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===t){var p=e.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(i in p){if(u(p["".concat(i)]))return{facingMode:{exact:p["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var b=typeof p;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(i in _)return{deviceId:{exact:_["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var I=typeof _;throw"Invalid type of 'deviceId' = ".concat(I)}}}var S=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},n.prototype.computeCanvasDrawConfig=function(e,t,r,s){if(e<=r&&t<=s){var i=(r-e)/2,u=(s-t)/2;return{x:i,y:u,width:e,height:t}}else{var d=e,g=t;return e>r&&(t=r/e*t,e=r),t>s&&(e=s/t*e,t=s),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(g)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,s)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Ho.BORDER_SHADER_MATCH_COLOR:Ho.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var s=e,i=t,u=document.createElement("canvas");return u.style.width="".concat(s,"px"),u.style.height="".concat(i,"px"),u.style.display="none",u.id=Hc(r)?"qr-canvas":r,u},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,s){if(!(t-s.width<1||r-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var u=(t-s.width)/2,d=(r-s.height)/2;if(i.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Ho.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(i,p,g,-g,null,0,!0),this.insertShaderBorders(i,p,g,-g,null,0,!1),this.insertShaderBorders(i,p,g,null,-g,0,!0),this.insertShaderBorders(i,p,g,null,-g,0,!1),this.insertShaderBorders(i,g,p+g,-g,null,-g,!0),this.insertShaderBorders(i,g,p+g,null,-g,-g,!0),this.insertShaderBorders(i,g,p+g,-g,null,-g,!1),this.insertShaderBorders(i,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(i)}},n.prototype.insertShaderBorders=function(e,t,r,s,i,u,d){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Ho.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(t,"px"),g.style.height="".concat(r,"px"),s!==null&&(g.style.top="".concat(s,"px")),i!==null&&(g.style.bottom="".concat(i,"px")),d?g.style.left="".concat(u,"px"):g.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n})(),tE;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(tE||(tE={}));function RX(){const n=Xh(),{filaments:e}=Qf(),{printers:t}=sd(),[r,s]=H.useState(!1),[i,u]=H.useState(!1),[d,g]=H.useState(null),[p,b]=H.useState(null),[_,I]=H.useState(null),[S,P]=H.useState(null),k=H.useRef(null),M="qr-reader";o2(),i2(),H.useEffect(()=>()=>{k.current&&k.current.stop().catch(()=>{})},[]);const j=async()=>{try{I(null),(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(z=>z.stop()),P(!0);const F=new IX(M);k.current=F;const te={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await F.start({facingMode:"environment"},te,z=>{we(z)},z=>{}),s(!0)}catch(U){console.error("Erro ao iniciar cmera:",U),P(!1),I("No foi possvel acessar a cmera. Verifique as permisses do navegador.")}},J=async()=>{if(k.current){try{await k.current.stop()}catch{}k.current=null}s(!1)},Z=async()=>{try{const U=await ee();U&&U.getCapabilities().torch&&(await U.applyConstraints({advanced:[{torch:!i}]}),u(!i))}catch(U){console.error("Erro ao alternar lanterna:",U)}},ee=async()=>{try{const F=(await navigator.mediaDevices.enumerateDevices()).find(te=>te.kind==="videoinput");if(F)return(await navigator.mediaDevices.getUserMedia({video:{deviceId:F.deviceId}})).getVideoTracks()[0]}catch{return null}return null},we=async U=>{await J(),g(U);const F=e.find(z=>z.qrCode===U),te=t.find(z=>z.qrCode===U);b(F?{type:"filament",data:F}:te?{type:"printer",data:te}:{type:"unknown",data:null})},Re=()=>{const U=prompt("Digite o cdigo QR:");U&&we(U)},Y=()=>{p?.type==="filament"?n("/filaments"):p?.type==="printer"&&n("/printers")};return x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:154:5",className:"min-h-screen bg-slate-950 flex flex-col",children:[x.jsx("header",{"code-path":"src/pages/QRScanner.tsx:156:7",className:"bg-slate-900 border-b border-slate-700 px-4 py-3 sticky top-0 z-30",children:x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:157:9",className:"flex items-center justify-between",children:[x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:158:11",variant:"ghost",size:"icon",onClick:()=>n(-1),children:x.jsx(ZO,{"code-path":"src/pages/QRScanner.tsx:159:13",className:"w-5 h-5"})}),x.jsx("h1",{"code-path":"src/pages/QRScanner.tsx:161:11",className:"text-lg font-bold text-white",children:"Escanear QR Code"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:162:11",className:"w-10"})]})}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:167:7",className:"flex-1 flex flex-col items-center justify-center p-4",children:[!r&&!d&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:169:11",className:"text-center space-y-6",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:170:13",className:"w-32 h-32 bg-slate-800 rounded-3xl flex items-center justify-center mx-auto border-2 border-dashed border-slate-600",children:x.jsx(sP,{"code-path":"src/pages/QRScanner.tsx:171:15",className:"w-16 h-16 text-slate-500"})}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:173:13",children:[x.jsx("h2",{"code-path":"src/pages/QRScanner.tsx:174:15",className:"text-xl font-bold text-white mb-2",children:"Escaneie um QR Code"}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:175:15",className:"text-slate-400 max-w-xs mx-auto",children:"Posicione o QR Code do filamento ou impressora dentro da rea de leitura"})]}),_&&x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:181:15",className:"p-4 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:182:17",className:"text-rose-400 text-sm",children:_})}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:186:13",className:"flex flex-col gap-3",children:[x.jsxs(cn,{"code-path":"src/pages/QRScanner.tsx:187:15",onClick:j,className:"bg-indigo-500 hover:bg-indigo-600 w-64",children:[x.jsx(Nm,{"code-path":"src/pages/QRScanner.tsx:191:17",className:"w-5 h-5 mr-2"}),"Abrir Cmera"]}),x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:194:15",variant:"outline",onClick:Re,className:"border-slate-600 w-64",children:"Digitar Cdigo Manualmente"})]})]}),r&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:206:11",className:"w-full max-w-md space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:208:13",className:"relative aspect-square bg-black rounded-2xl overflow-hidden border-2 border-indigo-500",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:209:15",id:M,className:"w-full h-full"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:212:15",className:"absolute inset-0 pointer-events-none",children:x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:213:17",className:"absolute inset-0 flex items-center justify-center",children:x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:214:19",className:"w-64 h-64 border-2 border-indigo-400 rounded-lg relative",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:216:21",className:"absolute -top-1 -left-1 w-6 h-6 border-t-4 border-l-4 border-indigo-500"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:217:21",className:"absolute -top-1 -right-1 w-6 h-6 border-t-4 border-r-4 border-indigo-500"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:218:21",className:"absolute -bottom-1 -left-1 w-6 h-6 border-b-4 border-l-4 border-indigo-500"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:219:21",className:"absolute -bottom-1 -right-1 w-6 h-6 border-b-4 border-r-4 border-indigo-500"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:222:21",className:"absolute top-0 left-0 right-0 h-0.5 bg-indigo-400 animate-scan"})]})})}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:228:15",className:"absolute bottom-4 left-4 right-4 flex justify-center gap-4",children:[x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:229:17",variant:"secondary",size:"icon",onClick:Z,className:"bg-slate-800/80 backdrop-blur",children:i?x.jsx(RD,{"code-path":"src/pages/QRScanner.tsx:235:33",className:"w-5 h-5"}):x.jsx(TD,{"code-path":"src/pages/QRScanner.tsx:235:70",className:"w-5 h-5"})}),x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:237:17",variant:"secondary",size:"icon",onClick:J,className:"bg-slate-800/80 backdrop-blur",children:x.jsx(bf,{"code-path":"src/pages/QRScanner.tsx:243:19",className:"w-5 h-5"})})]})]}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:248:13",className:"text-center text-slate-400 text-sm",children:"Escaneando... Aproxime o QR Code"})]}),d&&p&&x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:256:11",className:"w-full max-w-md space-y-4",children:x.jsx(ur,{"code-path":"src/pages/QRScanner.tsx:257:13",className:"bg-slate-800 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/QRScanner.tsx:258:15",className:"p-6",children:[p.type==="filament"&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:260:19",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:261:21",className:"flex items-center gap-4",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:262:23",className:"w-16 h-16 rounded-xl border-2 border-slate-600",style:{backgroundColor:p.data.colorHex}}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:266:23",children:[x.jsxs("h3",{"code-path":"src/pages/QRScanner.tsx:267:25",className:"text-xl font-bold text-white",children:[p.data.material," - ",p.data.color]}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:270:25",className:"text-slate-400",children:p.data.brand})]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:274:21",className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-700",children:[x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:275:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:276:25",className:"text-sm text-slate-500",children:"Estoque"}),x.jsxs("p",{"code-path":"src/pages/QRScanner.tsx:277:25",className:`text-lg font-medium ${p.data.weightRemaining<200?"text-rose-400":"text-emerald-400"}`,children:[p.data.weightRemaining,"g"]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:281:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:282:25",className:"text-sm text-slate-500",children:"Localizao"}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:283:25",className:"text-lg font-medium text-white",children:p.data.location})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:285:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:286:25",className:"text-sm text-slate-500",children:"Dimetro"}),x.jsxs("p",{"code-path":"src/pages/QRScanner.tsx:287:25",className:"text-lg font-medium text-white",children:[p.data.diameter,"mm"]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:289:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:290:25",className:"text-sm text-slate-500",children:"Preo/kg"}),x.jsxs("p",{"code-path":"src/pages/QRScanner.tsx:291:25",className:"text-lg font-medium text-white",children:["R$ ",p.data.price.toFixed(2)]})]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:295:21",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:296:23",onClick:Y,className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:"Ver Detalhes"}),x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:302:23",variant:"outline",onClick:()=>{g(null),b(null)},className:"border-slate-600",children:"Escanear Outro"})]})]}),p.type==="printer"&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:317:19",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:318:21",className:"flex items-center gap-4",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:319:23",className:"w-16 h-16 bg-indigo-500/20 rounded-xl flex items-center justify-center",children:x.jsx(Tm,{"code-path":"src/pages/QRScanner.tsx:320:25",className:"w-8 h-8 text-indigo-400"})}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:322:23",children:[x.jsx("h3",{"code-path":"src/pages/QRScanner.tsx:323:25",className:"text-xl font-bold text-white",children:p.data.name}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:324:25",className:"text-slate-400",children:p.data.model})]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:328:21",className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-700",children:[x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:329:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:330:25",className:"text-sm text-slate-500",children:"Status"}),x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:331:25",className:`text-lg font-medium ${p.data.status==="printing"?"text-amber-400":"text-emerald-400"}`,children:p.data.status==="printing"?"Imprimindo":"Disponvel"})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:337:23",children:[x.jsx("p",{"code-path":"src/pages/QRScanner.tsx:338:25",className:"text-sm text-slate-500",children:"Volume"}),x.jsxs("p",{"code-path":"src/pages/QRScanner.tsx:339:25",className:"text-lg font-medium text-white",children:[p.data.buildVolume.x,"",p.data.buildVolume.y,"",p.data.buildVolume.z]})]})]}),x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:345:21",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:346:23",onClick:Y,className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:"Ver Detalhes"}),x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:352:23",variant:"outline",onClick:()=>{g(null),b(null)},className:"border-slate-600",children:"Escanear Outro"})]})]}),p.type==="unknown"&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:367:19",className:"text-center py-8",children:[x.jsx(bf,{"code-path":"src/pages/QRScanner.tsx:368:21",className:"w-16 h-16 text-rose-500 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/QRScanner.tsx:369:21",className:"text-xl font-bold text-white mb-2",children:"Cdigo no encontrado"}),x.jsxs("p",{"code-path":"src/pages/QRScanner.tsx:370:21",className:"text-slate-400 mb-4",children:["O cdigo ",d," no corresponde a nenhum filamento ou impressora cadastrado."]}),x.jsx(cn,{"code-path":"src/pages/QRScanner.tsx:373:21",onClick:()=>{g(null),b(null)},className:"bg-indigo-500 hover:bg-indigo-600",children:"Tentar Novamente"})]})]})})})]}),!r&&!d&&e.length>0&&x.jsxs("div",{"code-path":"src/pages/QRScanner.tsx:392:9",className:"bg-slate-900 border-t border-slate-700 p-4",children:[x.jsx("h3",{"code-path":"src/pages/QRScanner.tsx:393:11",className:"text-sm font-medium text-slate-400 mb-3",children:"Filamentos Recentes"}),x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:394:11",className:"flex gap-2 overflow-x-auto pb-2",children:e.slice(0,5).map(U=>x.jsxs("button",{"code-path":"src/pages/QRScanner.tsx:396:15",onClick:()=>we(U.qrCode),className:"flex items-center gap-2 px-3 py-2 bg-slate-800 rounded-lg border border-slate-700 whitespace-nowrap",children:[x.jsx("div",{"code-path":"src/pages/QRScanner.tsx:401:17",className:"w-4 h-4 rounded-full",style:{backgroundColor:U.colorHex}}),x.jsxs("span",{"code-path":"src/pages/QRScanner.tsx:405:17",className:"text-sm text-white",children:[U.material," ",U.color]})]},U.id))})]})]})}function OX({customer:n,onSave:e,onCancel:t}){const[r,s]=H.useState({name:"",email:"",phone:"",document:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:""},notes:"",...n}),i=u=>{u.preventDefault(),e({...r,id:n?.id||Math.random().toString(36).substr(2,9),createdAt:n?.createdAt||new Date,updatedAt:new Date})};return x.jsxs("form",{"code-path":"src/pages/Customers.tsx:61:5",onSubmit:i,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:62:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:63:9",className:"text-sm text-slate-300",children:"Nome *"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:64:9",value:r.name,onChange:u=>s({...r,name:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Nome completo",required:!0})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:73:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:74:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:75:11",className:"text-sm text-slate-300",children:"Email"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:76:11",type:"email",value:r.email,onChange:u=>s({...r,email:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"email@exemplo.com"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:84:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:85:11",className:"text-sm text-slate-300",children:"Telefone"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:86:11",value:r.phone,onChange:u=>s({...r,phone:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"(00) 00000-0000"})]})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:95:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:96:9",className:"text-sm text-slate-300",children:"CPF/CNPJ"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:97:9",value:r.document,onChange:u=>s({...r,document:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"000.000.000-00"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:105:7",className:"border-t border-slate-700 pt-4",children:[x.jsx("h4",{"code-path":"src/pages/Customers.tsx:106:9",className:"text-sm font-medium text-slate-400 mb-3",children:"Endereo"}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:107:9",className:"space-y-3",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:108:11",className:"grid grid-cols-3 gap-3",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:109:13",className:"col-span-2 space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:110:15",className:"text-sm text-slate-300",children:"Rua"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:111:15",value:r.address?.street,onChange:u=>s({...r,address:{...r.address,street:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:120:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:121:15",className:"text-sm text-slate-300",children:"Nmero"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:122:15",value:r.address?.number,onChange:u=>s({...r,address:{...r.address,number:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:132:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:133:13",className:"text-sm text-slate-300",children:"Complemento"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:134:13",value:r.address?.complement,onChange:u=>s({...r,address:{...r.address,complement:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:143:11",className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:144:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:145:15",className:"text-sm text-slate-300",children:"Bairro"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:146:15",value:r.address?.neighborhood,onChange:u=>s({...r,address:{...r.address,neighborhood:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:155:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:156:15",className:"text-sm text-slate-300",children:"CEP"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:157:15",value:r.address?.zipCode,onChange:u=>s({...r,address:{...r.address,zipCode:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"00000-000"})]})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:168:11",className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:169:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:170:15",className:"text-sm text-slate-300",children:"Cidade"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:171:15",value:r.address?.city,onChange:u=>s({...r,address:{...r.address,city:u.target.value}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:180:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:181:15",className:"text-sm text-slate-300",children:"Estado"}),x.jsxs("select",{"code-path":"src/pages/Customers.tsx:182:15",value:r.address?.state,onChange:u=>s({...r,address:{...r.address,state:u.target.value}}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Customers.tsx:190:17",value:"",children:"Selecione"}),["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(u=>x.jsx("option",{"code-path":"src/pages/Customers.tsx:192:19",value:u,children:u},u))]})]})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:200:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Customers.tsx:201:9",className:"text-sm text-slate-300",children:"Observaes"}),x.jsx("textarea",{"code-path":"src/pages/Customers.tsx:202:9",value:r.notes,onChange:u=>s({...r,notes:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:209:7",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/Customers.tsx:210:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:n?"Atualizar":"Cadastrar"}),x.jsx(cn,{"code-path":"src/pages/Customers.tsx:213:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function DX(){const{customers:n}=s2(),{canWrite:e}=bc(),[t,r]=H.useState(""),[s,i]=H.useState(!1),[u,d]=H.useState();Z8();const g=n.filter(I=>I.name.toLowerCase().includes(t.toLowerCase())||I.email.toLowerCase().includes(t.toLowerCase())||I.phone.includes(t)),p=async I=>{try{u?await z8(I):await V8(I),i(!1),d(void 0)}catch(S){console.error("Erro ao salvar cliente:",S),alert("Erro ao salvar cliente. Tente novamente.")}},b=I=>{d(I),i(!0)},_=async I=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{await H8(I)}catch(S){console.error("Erro ao excluir cliente:",S),alert("Erro ao excluir cliente. Tente novamente.")}};return x.jsxs("div",{"code-path":"src/pages/Customers.tsx:269:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:271:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:272:9",children:[x.jsx("h1",{"code-path":"src/pages/Customers.tsx:273:11",className:"text-2xl font-bold text-white",children:"Clientes"}),x.jsxs("p",{"code-path":"src/pages/Customers.tsx:274:11",className:"text-slate-400",children:[n.length," clientes cadastrados"]})]}),e("customers")&&x.jsxs(ol,{"code-path":"src/pages/Customers.tsx:277:11",open:s,onOpenChange:i,children:[x.jsx(q0,{"code-path":"src/pages/Customers.tsx:278:13",asChild:!0,children:x.jsxs(cn,{"code-path":"src/pages/Customers.tsx:279:15",className:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>d(void 0),children:[x.jsx($c,{"code-path":"src/pages/Customers.tsx:283:17",className:"w-4 h-4 mr-2"}),"Novo Cliente"]})}),x.jsxs(ll,{"code-path":"src/pages/Customers.tsx:287:13",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Customers.tsx:288:15",children:x.jsx(ul,{"code-path":"src/pages/Customers.tsx:289:17",className:"text-white",children:u?"Editar Cliente":"Novo Cliente"})}),x.jsx(OX,{"code-path":"src/pages/Customers.tsx:293:15",customer:u,onSave:p,onCancel:()=>{i(!1),d(void 0)}})]})]})]}),x.jsx(ur,{"code-path":"src/pages/Customers.tsx:307:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/Customers.tsx:308:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Customers.tsx:309:11",className:"relative",children:[x.jsx(Lf,{"code-path":"src/pages/Customers.tsx:310:13",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Customers.tsx:311:13",placeholder:"Buscar cliente...",value:t,onChange:I=>r(I.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]})})}),g.length===0?x.jsx(ur,{"code-path":"src/pages/Customers.tsx:323:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Customers.tsx:324:11",className:"p-12 text-center",children:[x.jsx(kg,{"code-path":"src/pages/Customers.tsx:325:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/Customers.tsx:326:13",className:"text-lg font-medium text-white mb-2",children:"Nenhum cliente encontrado"}),x.jsx("p",{"code-path":"src/pages/Customers.tsx:327:13",className:"text-slate-400",children:t?"Tente ajustar a busca":"Cadastre seu primeiro cliente"})]})}):x.jsx("div",{"code-path":"src/pages/Customers.tsx:333:9",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(I=>x.jsx(ur,{"code-path":"src/pages/Customers.tsx:335:13",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all",children:x.jsx(hr,{"code-path":"src/pages/Customers.tsx:336:15",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Customers.tsx:337:17",className:"flex items-start justify-between",children:[x.jsxs("div",{"code-path":"src/pages/Customers.tsx:338:19",className:"flex-1",children:[x.jsx("h3",{"code-path":"src/pages/Customers.tsx:339:21",className:"font-medium text-white",children:I.name}),x.jsxs("div",{"code-path":"src/pages/Customers.tsx:340:21",className:"flex items-center gap-4 mt-2 text-sm text-slate-400",children:[I.email&&x.jsxs("span",{"code-path":"src/pages/Customers.tsx:342:25",className:"flex items-center gap-1",children:[x.jsx(JC,{"code-path":"src/pages/Customers.tsx:343:27",className:"w-3 h-3"}),I.email]}),I.phone&&x.jsxs("span",{"code-path":"src/pages/Customers.tsx:348:25",className:"flex items-center gap-1",children:[x.jsx(YD,{"code-path":"src/pages/Customers.tsx:349:27",className:"w-3 h-3"}),I.phone]})]}),I.address?.city&&x.jsxs("div",{"code-path":"src/pages/Customers.tsx:355:23",className:"flex items-center gap-1 mt-2 text-sm text-slate-500",children:[x.jsx(ZC,{"code-path":"src/pages/Customers.tsx:356:25",className:"w-3 h-3"}),I.address.city,", ",I.address.state]})]}),x.jsxs(Jf,{"code-path":"src/pages/Customers.tsx:361:19",children:[x.jsx(Zf,{"code-path":"src/pages/Customers.tsx:362:21",asChild:!0,children:x.jsx(cn,{"code-path":"src/pages/Customers.tsx:363:23",variant:"ghost",size:"icon",className:"text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/Customers.tsx:364:25",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/Customers.tsx:367:21",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsxs(Es,{"code-path":"src/pages/Customers.tsx:368:23",onClick:()=>b(I),className:"text-slate-300",children:[x.jsx(Mh,{"code-path":"src/pages/Customers.tsx:369:25",className:"w-4 h-4 mr-2"}),"Editar"]}),e("customers")&&x.jsxs(Es,{"code-path":"src/pages/Customers.tsx:373:25",onClick:()=>_(I.id),className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/Customers.tsx:374:27",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})})},I.id))})]})}const Zp={draft:{label:"Rascunho",color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:kh},sent:{label:"Enviado",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:nS},approved:{label:"Aprovado",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:S0},rejected:{label:"Rejeitado",color:"bg-rose-500/20 text-rose-400 border-rose-500/30",icon:yf},expired:{label:"Expirado",color:"bg-amber-500/20 text-amber-400 border-amber-500/30",icon:vf}};function PX({quote:n,onSave:e,onCancel:t}){const{customers:r}=s2(),[s,i]=H.useState({customerId:"",customerName:"",items:[],subtotal:0,discount:0,tax:0,total:0,status:"draft",validUntil:new Date(Date.now()+10080*60*1e3),notes:"",...n}),[u,d]=H.useState(n?.customerId||""),g=k=>{const M=r.find(j=>j.id===k);M&&(d(k),i({...s,customerId:M.id,customerName:M.name}))},p=()=>{const k={id:Math.random().toString(36).substr(2,9),catalogItemId:null,description:"Nova Pea",quantity:1,unitPrice:0,totalPrice:0,printSettings:{layerHeight:.2,infill:20,supports:!1,printTime:3,filamentUsage:50}};i({...s,items:[...s.items||[],k]})},b=(k,M)=>{i({...s,items:s.items?.map(j=>{if(j.id===k){const J={...j,...M};return J.totalPrice=J.quantity*J.unitPrice,J}return j})})},_=k=>{i({...s,items:s.items?.filter(M=>M.id!==k)})},I=()=>{const k=s.items?.reduce((Z,ee)=>Z+ee.totalPrice,0)||0,M=s.discount||0,j=(k-M)*0,J=k-M+j;return{subtotal:k,discount:M,tax:j,total:J}},S=k=>{k.preventDefault();const M=I();e({...s,...M,id:n?.id||Math.random().toString(36).substr(2,9),quoteNumber:n?.quoteNumber||fq(),createdBy:"current-user",createdAt:n?.createdAt||new Date,updatedAt:new Date})},P=I();return x.jsxs("form",{"code-path":"src/pages/Quotes.tsx:149:5",onSubmit:S,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:151:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:152:9",className:"text-sm text-slate-300",children:"Cliente"}),x.jsxs("select",{"code-path":"src/pages/Quotes.tsx:153:9",value:u,onChange:k=>g(k.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Quotes.tsx:158:11",value:"",children:"Selecione um cliente"}),r.map(k=>x.jsx("option",{"code-path":"src/pages/Quotes.tsx:160:13",value:k.id,children:k.name},k.id))]})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:166:7",className:"space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:167:9",className:"flex items-center justify-between",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:168:11",className:"text-sm text-slate-300",children:"Itens"}),x.jsxs(cn,{"code-path":"src/pages/Quotes.tsx:169:11",type:"button",onClick:p,size:"sm",variant:"outline",className:"border-slate-600",children:[x.jsx($c,{"code-path":"src/pages/Quotes.tsx:170:13",className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),x.jsx("div",{"code-path":"src/pages/Quotes.tsx:175:9",className:"space-y-2",children:s.items?.map(k=>x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:177:13",className:"p-3 bg-slate-800 rounded-lg border border-slate-700 space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:178:15",className:"flex items-center gap-2",children:[x.jsx(It,{"code-path":"src/pages/Quotes.tsx:179:17",value:k.description,onChange:M=>b(k.id,{description:M.target.value}),placeholder:"Descrio da pea",className:"flex-1 bg-slate-900 border-slate-700 text-white text-sm"}),x.jsx(cn,{"code-path":"src/pages/Quotes.tsx:185:17",type:"button",onClick:()=>_(k.id),size:"sm",variant:"ghost",className:"text-rose-400",children:x.jsx(Qh,{"code-path":"src/pages/Quotes.tsx:186:19",className:"w-4 h-4"})})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:189:15",className:"grid grid-cols-3 gap-2",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:190:17",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:191:19",className:"text-xs text-slate-500",children:"Qtd"}),x.jsx(It,{"code-path":"src/pages/Quotes.tsx:192:19",type:"number",value:k.quantity,onChange:M=>b(k.id,{quantity:Number(M.target.value)}),className:"bg-slate-900 border-slate-700 text-white text-sm"})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:199:17",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:200:19",className:"text-xs text-slate-500",children:"Preo Unit."}),x.jsx(It,{"code-path":"src/pages/Quotes.tsx:201:19",type:"number",step:"0.01",value:k.unitPrice,onChange:M=>b(k.id,{unitPrice:Number(M.target.value)}),className:"bg-slate-900 border-slate-700 text-white text-sm"})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:209:17",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:210:19",className:"text-xs text-slate-500",children:"Total"}),x.jsx(It,{"code-path":"src/pages/Quotes.tsx:211:19",type:"number",value:k.totalPrice.toFixed(2),disabled:!0,className:"bg-slate-800 border-slate-700 text-slate-400 text-sm"})]})]})]},k.id))})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:225:7",className:"space-y-2 pt-4 border-t border-slate-700",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:226:9",className:"flex justify-between text-sm",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:227:11",className:"text-slate-400",children:"Subtotal"}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:228:11",className:"text-white",children:["R$ ",P.subtotal.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:230:9",className:"flex justify-between text-sm",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:231:11",className:"text-slate-400",children:"Desconto"}),x.jsx(It,{"code-path":"src/pages/Quotes.tsx:232:11",type:"number",value:s.discount,onChange:k=>i({...s,discount:Number(k.target.value)}),className:"w-24 bg-slate-900 border-slate-700 text-white text-sm text-right"})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:239:9",className:"flex justify-between text-lg font-medium",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:240:11",className:"text-white",children:"Total"}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:241:11",className:"text-indigo-400",children:["R$ ",P.total.toFixed(2)]})]})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:246:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Quotes.tsx:247:9",className:"text-sm text-slate-300",children:"Observaes"}),x.jsx("textarea",{"code-path":"src/pages/Quotes.tsx:248:9",value:s.notes,onChange:k=>i({...s,notes:k.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:256:7",className:"flex gap-2 pt-4",children:[x.jsxs(cn,{"code-path":"src/pages/Quotes.tsx:257:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:[n?"Atualizar":"Criar"," Oramento"]}),x.jsx(cn,{"code-path":"src/pages/Quotes.tsx:260:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function nE(){const{quotes:n}=a2(),{canWrite:e}=bc(),[t,r]=H.useState(""),[s,i]=H.useState("all"),[u,d]=H.useState(!1),[g,p]=H.useState(),[b,_]=H.useState(null);eT();const I=n.filter(j=>{const J=j.quoteNumber.toLowerCase().includes(t.toLowerCase())||j.customerName.toLowerCase().includes(t.toLowerCase()),Z=s==="all"||j.status===s;return J&&Z}),S=async j=>{try{g?await wv(j):await q8(j),d(!1),p(void 0)}catch(J){console.error("Erro ao salvar oramento:",J),alert("Erro ao salvar oramento. Tente novamente.")}},P=j=>{p(j),d(!0)},k=async j=>{if(confirm("Tem certeza que deseja excluir este oramento?"))try{await G8(j)}catch(J){console.error("Erro ao excluir oramento:",J),alert("Erro ao excluir oramento. Tente novamente.")}},M=async(j,J)=>{try{await wv({...j,status:J})}catch(Z){console.error("Erro ao atualizar status:",Z),alert("Erro ao atualizar status. Tente novamente.")}};return x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:329:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:331:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:332:9",children:[x.jsx("h1",{"code-path":"src/pages/Quotes.tsx:333:11",className:"text-2xl font-bold text-white",children:"Oramentos"}),x.jsxs("p",{"code-path":"src/pages/Quotes.tsx:334:11",className:"text-slate-400",children:[n.length," oramentos cadastrados"]})]}),x.jsx(ol,{"code-path":"src/pages/Quotes.tsx:336:9",open:u,onOpenChange:d,children:x.jsxs(ll,{"code-path":"src/pages/Quotes.tsx:337:11",className:"bg-slate-900 border-slate-700 max-w-2xl",children:[x.jsx(cl,{"code-path":"src/pages/Quotes.tsx:338:13",children:x.jsx(ul,{"code-path":"src/pages/Quotes.tsx:339:15",className:"text-white",children:g?"Editar Oramento":"Novo Oramento"})}),x.jsx(PX,{"code-path":"src/pages/Quotes.tsx:343:13",quote:g,onSave:S,onCancel:()=>{d(!1),p(void 0)}})]})})]}),x.jsx(ur,{"code-path":"src/pages/Quotes.tsx:356:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/Quotes.tsx:357:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:358:11",className:"flex flex-col sm:flex-row gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:359:13",className:"relative flex-1",children:[x.jsx(Lf,{"code-path":"src/pages/Quotes.tsx:360:15",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Quotes.tsx:361:15",placeholder:"Buscar oramento...",value:t,onChange:j=>r(j.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("select",{"code-path":"src/pages/Quotes.tsx:368:13",value:s,onChange:j=>i(j.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Quotes.tsx:373:15",value:"all",children:"Todos Status"}),Object.entries(Zp).map(([j,J])=>x.jsx("option",{"code-path":"src/pages/Quotes.tsx:375:17",value:j,children:J.label},j))]}),e("quotes")&&x.jsxs(cn,{"code-path":"src/pages/Quotes.tsx:379:15",onClick:()=>{p(void 0),d(!0)},className:"bg-indigo-500 hover:bg-indigo-600",children:[x.jsx($c,{"code-path":"src/pages/Quotes.tsx:386:17",className:"w-4 h-4 mr-2"}),"Novo"]})]})})}),I.length===0?x.jsx(ur,{"code-path":"src/pages/Quotes.tsx:396:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Quotes.tsx:397:11",className:"p-12 text-center",children:[x.jsx(kh,{"code-path":"src/pages/Quotes.tsx:398:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/Quotes.tsx:399:13",className:"text-lg font-medium text-white mb-2",children:"Nenhum oramento encontrado"}),x.jsx("p",{"code-path":"src/pages/Quotes.tsx:400:13",className:"text-slate-400",children:t?"Tente ajustar os filtros":"Crie seu primeiro oramento"})]})}):x.jsx("div",{"code-path":"src/pages/Quotes.tsx:406:9",className:"grid gap-4",children:I.map(j=>{const J=Zp[j.status];return x.jsx(ur,{"code-path":"src/pages/Quotes.tsx:410:15",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all",children:x.jsx(hr,{"code-path":"src/pages/Quotes.tsx:411:17",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:412:19",className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:413:21",className:"flex-1",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:414:23",className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{"code-path":"src/pages/Quotes.tsx:415:25",className:"font-medium text-white",children:j.quoteNumber}),x.jsxs(Qo,{"code-path":"src/pages/Quotes.tsx:416:25",variant:"outline",className:J.color,children:[x.jsx(J.icon,{"code-path":"src/pages/Quotes.tsx:417:27",className:"w-3 h-3 mr-1"}),J.label]})]}),x.jsx("p",{"code-path":"src/pages/Quotes.tsx:421:23",className:"text-slate-300",children:j.customerName}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:422:23",className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:423:25",children:[j.items.length," item(s)"]}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:424:25",children:["Criado em ",new Date(j.createdAt).toLocaleDateString("pt-BR")]})]})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:427:21",className:"text-right",children:[x.jsxs("p",{"code-path":"src/pages/Quotes.tsx:428:23",className:"text-xl font-bold text-indigo-400",children:["R$ ",j.total.toFixed(2)]}),x.jsxs("p",{"code-path":"src/pages/Quotes.tsx:431:23",className:"text-sm text-slate-500",children:["Vlido at ",new Date(j.validUntil).toLocaleDateString("pt-BR")]})]}),x.jsxs(Jf,{"code-path":"src/pages/Quotes.tsx:435:21",children:[x.jsx(Zf,{"code-path":"src/pages/Quotes.tsx:436:23",asChild:!0,children:x.jsx(cn,{"code-path":"src/pages/Quotes.tsx:437:25",variant:"ghost",size:"icon",className:"text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/Quotes.tsx:438:27",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/Quotes.tsx:441:23",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:442:25",onClick:()=>_(j),className:"text-slate-300",children:[x.jsx(KC,{"code-path":"src/pages/Quotes.tsx:443:27",className:"w-4 h-4 mr-2"}),"Visualizar"]}),x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:446:25",onClick:()=>alert("PDF gerado!"),className:"text-slate-300",children:[x.jsx(QC,{"code-path":"src/pages/Quotes.tsx:447:27",className:"w-4 h-4 mr-2"}),"Baixar PDF"]}),e("quotes")&&j.status==="draft"&&x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:451:27",onClick:()=>P(j),className:"text-slate-300",children:[x.jsx(Mh,{"code-path":"src/pages/Quotes.tsx:452:29",className:"w-4 h-4 mr-2"}),"Editar"]}),e("quotes")&&j.status==="draft"&&x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:457:27",onClick:()=>M(j,"sent"),className:"text-slate-300",children:[x.jsx(nS,{"code-path":"src/pages/Quotes.tsx:458:29",className:"w-4 h-4 mr-2"}),"Marcar como Enviado"]}),e("quotes")&&j.status==="sent"&&x.jsxs(x.Fragment,{children:[x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:464:29",onClick:()=>M(j,"approved"),className:"text-emerald-400",children:[x.jsx(S0,{"code-path":"src/pages/Quotes.tsx:465:31",className:"w-4 h-4 mr-2"}),"Aprovar"]}),x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:468:29",onClick:()=>M(j,"rejected"),className:"text-rose-400",children:[x.jsx(yf,{"code-path":"src/pages/Quotes.tsx:469:31",className:"w-4 h-4 mr-2"}),"Rejeitar"]})]}),e("quotes")&&x.jsxs(Es,{"code-path":"src/pages/Quotes.tsx:475:27",onClick:()=>k(j.id),className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/Quotes.tsx:476:29",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})})},j.id)})}),x.jsx(ol,{"code-path":"src/pages/Quotes.tsx:491:7",open:!!b,onOpenChange:()=>_(null),children:x.jsxs(ll,{"code-path":"src/pages/Quotes.tsx:492:9",className:"bg-slate-900 border-slate-700 max-w-2xl",children:[x.jsx(cl,{"code-path":"src/pages/Quotes.tsx:493:11",children:x.jsxs(ul,{"code-path":"src/pages/Quotes.tsx:494:13",className:"text-white",children:["Oramento ",b?.quoteNumber]})}),b&&x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:497:13",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:498:15",className:"flex justify-between items-start",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:499:17",children:[x.jsx("p",{"code-path":"src/pages/Quotes.tsx:500:19",className:"text-slate-400",children:"Cliente"}),x.jsx("p",{"code-path":"src/pages/Quotes.tsx:501:19",className:"text-white font-medium",children:b.customerName})]}),x.jsx(Qo,{"code-path":"src/pages/Quotes.tsx:503:17",variant:"outline",className:Zp[b.status].color,children:Zp[b.status].label})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:508:15",className:"border-t border-slate-700 pt-4",children:[x.jsx("h4",{"code-path":"src/pages/Quotes.tsx:509:17",className:"text-sm font-medium text-slate-400 mb-2",children:"Itens"}),x.jsx("div",{"code-path":"src/pages/Quotes.tsx:510:17",className:"space-y-2",children:b.items.map(j=>x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:512:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:513:23",children:[x.jsx("p",{"code-path":"src/pages/Quotes.tsx:514:25",className:"text-white",children:j.description}),x.jsxs("p",{"code-path":"src/pages/Quotes.tsx:515:25",className:"text-sm text-slate-500",children:[j.quantity,"x @ R$ ",j.unitPrice.toFixed(2)]})]}),x.jsxs("p",{"code-path":"src/pages/Quotes.tsx:519:23",className:"text-white font-medium",children:["R$ ",j.totalPrice.toFixed(2)]})]},j.id))})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:525:15",className:"border-t border-slate-700 pt-4 space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:526:17",className:"flex justify-between text-sm",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:527:19",className:"text-slate-400",children:"Subtotal"}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:528:19",className:"text-white",children:["R$ ",b.subtotal.toFixed(2)]})]}),b.discount>0&&x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:531:19",className:"flex justify-between text-sm",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:532:21",className:"text-slate-400",children:"Desconto"}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:533:21",className:"text-emerald-400",children:["- R$ ",b.discount.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:536:17",className:"flex justify-between text-lg font-medium",children:[x.jsx("span",{"code-path":"src/pages/Quotes.tsx:537:19",className:"text-white",children:"Total"}),x.jsxs("span",{"code-path":"src/pages/Quotes.tsx:538:19",className:"text-indigo-400",children:["R$ ",b.total.toFixed(2)]})]})]}),b.notes&&x.jsxs("div",{"code-path":"src/pages/Quotes.tsx:543:17",className:"border-t border-slate-700 pt-4",children:[x.jsx("p",{"code-path":"src/pages/Quotes.tsx:544:19",className:"text-sm text-slate-400",children:"Observaes"}),x.jsx("p",{"code-path":"src/pages/Quotes.tsx:545:19",className:"text-white",children:b.notes})]})]})]})})]})}function LX({photos:n,onPhotosChange:e}){const t=s=>{const i=s.target.files;i&&Array.from(i).forEach(u=>{const d=new FileReader;d.onloadend=()=>{const g=d.result;e([...n,g])},d.readAsDataURL(u)})},r=s=>{e(n.filter((i,u)=>u!==s))};return x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:53:5",className:"space-y-3",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:54:7",className:"text-sm text-slate-300",children:"Fotos da Pea"}),n.length>0&&x.jsx("div",{"code-path":"src/pages/Catalog.tsx:58:9",className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:n.map((s,i)=>x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:60:13",className:"relative aspect-square rounded-lg overflow-hidden bg-slate-700 group",children:[x.jsx("img",{"code-path":"src/pages/Catalog.tsx:61:15",src:s,alt:`Foto ${i+1}`,className:"w-full h-full object-cover"}),x.jsx("button",{"code-path":"src/pages/Catalog.tsx:66:15",type:"button",onClick:()=>r(i),className:"absolute top-1 right-1 w-6 h-6 bg-rose-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(bf,{"code-path":"src/pages/Catalog.tsx:71:17",className:"w-4 h-4"})})]},i))}),x.jsxs("label",{"code-path":"src/pages/Catalog.tsx:79:7",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-600 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-slate-800/50 transition-all",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:80:9",className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x.jsx(Nm,{"code-path":"src/pages/Catalog.tsx:81:11",className:"w-6 h-6 text-slate-400 mb-2"}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:82:11",className:"text-xs text-slate-400",children:"Clique para adicionar fotos"})]}),x.jsx("input",{"code-path":"src/pages/Catalog.tsx:84:9",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:t})]})]})}function kX({isOpen:n,onClose:e,onImport:t}){const{jobs:r}=hb(),[s,i]=H.useState(null),[u,d]=H.useState({name:"",description:"",category:"",salePrice:0,weight:0,tags:[]}),g=r.filter(_=>_.status==="completed"&&!_.catalogItemId),p=_=>{i(_),d({name:_.description||"Pea sem nome",description:_.notes||"",category:"",salePrice:0,weight:0,tags:[]})},b=()=>{s&&(t(s,u),i(null),e())};return x.jsx(ol,{"code-path":"src/pages/Catalog.tsx:140:5",open:n,onOpenChange:e,children:x.jsxs(ll,{"code-path":"src/pages/Catalog.tsx:141:7",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Catalog.tsx:142:9",children:x.jsx(ul,{"code-path":"src/pages/Catalog.tsx:143:11",className:"text-white",children:"Importar de Trabalho Concludo"})}),s?x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:187:11",className:"space-y-4",children:[s.photos&&s.photos.length>0&&x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:190:15",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:191:17",className:"text-sm text-slate-500 mb-2",children:"Fotos do trabalho:"}),x.jsx("div",{"code-path":"src/pages/Catalog.tsx:192:17",className:"grid grid-cols-4 gap-2",children:s.photos.map((_,I)=>x.jsx("div",{"code-path":"src/pages/Catalog.tsx:194:21",className:"aspect-square rounded-lg overflow-hidden bg-slate-700",children:x.jsx("img",{"code-path":"src/pages/Catalog.tsx:195:23",src:_,alt:`Foto ${I+1}`,className:"w-full h-full object-cover"})},I))})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:202:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:203:15",className:"text-sm text-slate-300",children:"Nome da Pea *"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:204:15",value:u.name,onChange:_=>d({...u,name:_.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Nome da pea no catlogo"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:212:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:213:15",className:"text-sm text-slate-300",children:"Descrio"}),x.jsx("textarea",{"code-path":"src/pages/Catalog.tsx:214:15",value:u.description,onChange:_=>d({...u,description:_.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:221:13",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:222:15",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:223:17",className:"text-sm text-slate-300",children:"Categoria"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:224:17",value:u.category,onChange:_=>d({...u,category:_.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Acessrios"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:231:15",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:232:17",className:"text-sm text-slate-300",children:"Preo de Venda (R$)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:233:17",type:"number",step:"0.01",value:u.salePrice,onChange:_=>d({...u,salePrice:Number(_.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:243:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:244:15",className:"text-sm text-slate-300",children:"Peso (g)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:245:15",type:"number",value:u.weight,onChange:_=>d({...u,weight:Number(_.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:253:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:254:15",className:"text-sm text-slate-300",children:"Tags (separadas por vrgula)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:255:15",value:u.tags?.join(", "),onChange:_=>d({...u,tags:_.target.value.split(",").map(I=>I.trim())}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: utilitrio, decorao"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:263:13",className:"flex gap-2 pt-4",children:[x.jsxs(cn,{"code-path":"src/pages/Catalog.tsx:264:15",onClick:b,className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:[x.jsx($C,{"code-path":"src/pages/Catalog.tsx:268:17",className:"w-4 h-4 mr-2"}),"Importar"]}),x.jsx(cn,{"code-path":"src/pages/Catalog.tsx:271:15",variant:"outline",onClick:()=>i(null),className:"border-slate-600",children:"Voltar"})]})]}):x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:147:11",className:"space-y-4",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:148:13",className:"text-slate-400 text-sm",children:"Selecione um trabalho concludo para importar:"}),g.length===0?x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:150:15",className:"text-center py-8",children:[x.jsx(i0,{"code-path":"src/pages/Catalog.tsx:151:17",className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:152:17",className:"text-slate-400",children:"Nenhum trabalho concludo disponvel"}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:153:17",className:"text-slate-500 text-sm",children:"Conclua um trabalho primeiro para import-lo"})]}):x.jsx("div",{"code-path":"src/pages/Catalog.tsx:156:15",className:"space-y-2 max-h-64 overflow-y-auto",children:g.map(_=>x.jsx("button",{"code-path":"src/pages/Catalog.tsx:158:19",onClick:()=>p(_),className:"w-full text-left p-3 bg-slate-800 rounded-lg hover:bg-slate-700 transition-colors",children:x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:163:21",className:"flex items-center gap-3",children:[_.photos&&_.photos.length>0&&x.jsx("div",{"code-path":"src/pages/Catalog.tsx:165:25",className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-700 flex-shrink-0",children:x.jsx("img",{"code-path":"src/pages/Catalog.tsx:166:27",src:_.photos[0],alt:"",className:"w-full h-full object-cover"})}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:169:23",className:"flex-1",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:170:25",className:"text-white font-medium",children:_.jobNumber}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:171:25",className:"text-slate-400 text-sm",children:_.description||"Sem descrio"}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:172:25",className:"text-slate-500 text-xs",children:[_.estimatedTime,"h estimado"]})]}),_.photos&&_.photos.length>0&&x.jsxs(Qo,{"code-path":"src/pages/Catalog.tsx:175:25",variant:"outline",className:"bg-indigo-500/20 text-indigo-400",children:[x.jsx(n5,{"code-path":"src/pages/Catalog.tsx:176:27",className:"w-3 h-3 mr-1"}),_.photos.length]})]})},_.id))})]})]})})}function MX({item:n,onSave:e,onCancel:t}){const[r,s]=H.useState({name:"",description:"",category:"",images:[],files:[],dimensions:{x:0,y:0,z:0},weight:0,printTime:3,materialUsage:[],costBreakdown:{filament:0,energy:0,printerTime:0,labor:0,packaging:0,other:0},salePrice:0,timesPrinted:0,rating:5,tags:[],...n}),i=u=>{u.preventDefault(),e({...r,id:n?.id||Math.random().toString(36).substr(2,9),createdAt:n?.createdAt||new Date,updatedAt:new Date})};return x.jsxs("form",{"code-path":"src/pages/Catalog.tsx:325:5",onSubmit:i,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsx(LX,{"code-path":"src/pages/Catalog.tsx:327:7",photos:r.images||[],onPhotosChange:u=>s({...r,images:u})}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:332:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:333:9",className:"text-sm text-slate-300",children:"Nome da Pea *"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:334:9",value:r.name,onChange:u=>s({...r,name:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Suporte para Celular",required:!0})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:343:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:344:9",className:"text-sm text-slate-300",children:"Descrio"}),x.jsx("textarea",{"code-path":"src/pages/Catalog.tsx:345:9",value:r.description,onChange:u=>s({...r,description:u.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none",placeholder:"Descreva a pea..."})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:353:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:354:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:355:11",className:"text-sm text-slate-300",children:"Categoria"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:356:11",value:r.category,onChange:u=>s({...r,category:u.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Acessrios"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:363:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:364:11",className:"text-sm text-slate-300",children:"Preo de Venda (R$)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:365:11",type:"number",step:"0.01",value:r.salePrice,onChange:u=>s({...r,salePrice:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:375:7",className:"border-t border-slate-700 pt-4",children:[x.jsx("h4",{"code-path":"src/pages/Catalog.tsx:376:9",className:"text-sm font-medium text-slate-400 mb-3",children:"Especificaes"}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:377:9",className:"grid grid-cols-3 gap-3",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:378:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:379:13",className:"text-sm text-slate-300",children:"Largura (mm)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:380:13",type:"number",value:r.dimensions?.x,onChange:u=>s({...r,dimensions:{...r.dimensions,x:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:390:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:391:13",className:"text-sm text-slate-300",children:"Profundidade (mm)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:392:13",type:"number",value:r.dimensions?.y,onChange:u=>s({...r,dimensions:{...r.dimensions,y:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:402:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:403:13",className:"text-sm text-slate-300",children:"Altura (mm)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:404:13",type:"number",value:r.dimensions?.z,onChange:u=>s({...r,dimensions:{...r.dimensions,z:Number(u.target.value)}}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:415:9",className:"grid grid-cols-2 gap-3 mt-3",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:416:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:417:13",className:"text-sm text-slate-300",children:"Peso (g)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:418:13",type:"number",value:r.weight,onChange:u=>s({...r,weight:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:425:11",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:426:13",className:"text-sm text-slate-300",children:"Tempo de Impresso (h)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:427:13",type:"number",step:"0.5",value:r.printTime,onChange:u=>s({...r,printTime:Number(u.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:438:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/Catalog.tsx:439:9",className:"text-sm text-slate-300",children:"Tags (separadas por vrgula)"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:440:9",value:r.tags?.join(", "),onChange:u=>s({...r,tags:u.target.value.split(",").map(d=>d.trim())}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: utilitrio, decorao, presente"})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:448:7",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/Catalog.tsx:449:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:n?"Atualizar":"Cadastrar"}),x.jsx(cn,{"code-path":"src/pages/Catalog.tsx:452:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function jX(){const{items:n}=$8(),{canWrite:e}=bc(),[t,r]=H.useState(""),[s,i]=H.useState(!1),[u,d]=H.useState(!1),[g,p]=H.useState(),[b,_]=H.useState(null);db(),fb();const I=n.filter(j=>j.name.toLowerCase().includes(t.toLowerCase())||j.category.toLowerCase().includes(t.toLowerCase())||j.tags.some(J=>J.toLowerCase().includes(t.toLowerCase()))),S=async j=>{try{g?await W8(j):await am(j),i(!1),p(void 0)}catch(J){console.error("Erro ao salvar item:",J),alert("Erro ao salvar item. Tente novamente.")}},P=j=>{p(j),i(!0)},k=async j=>{if(confirm("Tem certeza que deseja excluir esta pea?"))try{await Y8(j)}catch(J){console.error("Erro ao excluir item:",J),alert("Erro ao excluir item. Tente novamente.")}},M=async(j,J)=>{try{const Z={id:Math.random().toString(36).substr(2,9),name:J.name||j.description||"Pea sem nome",description:J.description||"",category:J.category||"Geral",images:j.photos||[],files:[],dimensions:J.dimensions||{x:0,y:0,z:0},weight:J.weight||0,printTime:j.estimatedTime||0,materialUsage:[],costBreakdown:{filament:0,energy:0,printerTime:0,labor:0,packaging:0,other:0},salePrice:J.salePrice||0,timesPrinted:1,rating:5,tags:J.tags||[],importedFromJob:j.id,jobDescription:j.description,createdAt:new Date,updatedAt:new Date};await am(Z),await im({...j,catalogItemId:Z.id}),alert("Pea importada do trabalho concludo com sucesso!")}catch(Z){console.error("Erro ao importar pea:",Z),alert("Erro ao importar pea. Tente novamente.")}};return x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:554:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:556:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:557:9",children:[x.jsx("h1",{"code-path":"src/pages/Catalog.tsx:558:11",className:"text-2xl font-bold text-white",children:"Catlogo de Peas"}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:559:11",className:"text-slate-400",children:[n.length," peas cadastradas"]})]}),e("catalog")&&x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:562:11",className:"flex gap-2",children:[x.jsxs(cn,{"code-path":"src/pages/Catalog.tsx:563:13",variant:"outline",onClick:()=>d(!0),className:"border-slate-600",children:[x.jsx($C,{"code-path":"src/pages/Catalog.tsx:568:15",className:"w-4 h-4 mr-2"}),"Importar"]}),x.jsxs(ol,{"code-path":"src/pages/Catalog.tsx:571:13",open:s,onOpenChange:i,children:[x.jsx(q0,{"code-path":"src/pages/Catalog.tsx:572:15",asChild:!0,children:x.jsxs(cn,{"code-path":"src/pages/Catalog.tsx:573:17",className:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>p(void 0),children:[x.jsx($c,{"code-path":"src/pages/Catalog.tsx:577:19",className:"w-4 h-4 mr-2"}),"Nova Pea"]})}),x.jsxs(ll,{"code-path":"src/pages/Catalog.tsx:581:15",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Catalog.tsx:582:17",children:x.jsx(ul,{"code-path":"src/pages/Catalog.tsx:583:19",className:"text-white",children:g?"Editar Pea":"Nova Pea"})}),x.jsx(MX,{"code-path":"src/pages/Catalog.tsx:587:17",item:g,onSave:S,onCancel:()=>{i(!1),p(void 0)}})]})]})]})]}),x.jsx(ur,{"code-path":"src/pages/Catalog.tsx:602:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/Catalog.tsx:603:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:604:11",className:"relative",children:[x.jsx(Lf,{"code-path":"src/pages/Catalog.tsx:605:13",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/Catalog.tsx:606:13",placeholder:"Buscar pea por nome, categoria ou tag...",value:t,onChange:j=>r(j.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]})})}),I.length===0?x.jsx(ur,{"code-path":"src/pages/Catalog.tsx:618:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Catalog.tsx:619:11",className:"p-12 text-center",children:[x.jsx(Nl,{"code-path":"src/pages/Catalog.tsx:620:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/Catalog.tsx:621:13",className:"text-lg font-medium text-white mb-2",children:"Nenhuma pea encontrada"}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:622:13",className:"text-slate-400",children:t?"Tente ajustar a busca":"Cadastre sua primeira pea"})]})}):x.jsx("div",{"code-path":"src/pages/Catalog.tsx:628:9",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(j=>x.jsxs(ur,{"code-path":"src/pages/Catalog.tsx:630:13",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all overflow-hidden",children:[x.jsx("div",{"code-path":"src/pages/Catalog.tsx:632:15",className:"h-40 bg-slate-700/50 flex items-center justify-center overflow-hidden",children:j.images&&j.images.length>0?x.jsx("img",{"code-path":"src/pages/Catalog.tsx:634:19",src:j.images[0],alt:j.name,className:"w-full h-full object-cover"}):x.jsx(Nl,{"code-path":"src/pages/Catalog.tsx:640:19",className:"w-16 h-16 text-slate-600"})}),x.jsx(hr,{"code-path":"src/pages/Catalog.tsx:644:15",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:645:17",className:"flex items-start justify-between",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:646:19",className:"flex-1",children:[x.jsx("h3",{"code-path":"src/pages/Catalog.tsx:647:21",className:"font-medium text-white",children:j.name}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:648:21",className:"text-sm text-slate-400",children:j.category}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:650:21",className:"flex items-center gap-3 mt-2",children:[x.jsxs("span",{"code-path":"src/pages/Catalog.tsx:651:23",className:"flex items-center gap-1 text-sm text-slate-500",children:[x.jsx(vf,{"code-path":"src/pages/Catalog.tsx:652:25",className:"w-3 h-3"}),j.printTime,"h"]}),x.jsxs("span",{"code-path":"src/pages/Catalog.tsx:655:23",className:"flex items-center gap-1 text-sm text-slate-500",children:[x.jsx(CD,{"code-path":"src/pages/Catalog.tsx:656:25",className:"w-3 h-3"}),j.weight,"g"]}),x.jsxs("span",{"code-path":"src/pages/Catalog.tsx:659:23",className:"flex items-center gap-1 text-sm text-amber-400",children:[x.jsx(uP,{"code-path":"src/pages/Catalog.tsx:660:25",className:"w-3 h-3 fill-current"}),j.rating]})]}),x.jsx("div",{"code-path":"src/pages/Catalog.tsx:665:21",className:"flex flex-wrap gap-1 mt-2",children:j.tags.slice(0,3).map((J,Z)=>x.jsx(Qo,{"code-path":"src/pages/Catalog.tsx:667:25",variant:"outline",className:"bg-slate-700/50 text-slate-300 border-slate-600 text-xs",children:J},Z))}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:673:21",className:"flex items-center justify-between mt-3",children:[x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:674:23",className:"text-lg font-bold text-emerald-400",children:["R$ ",j.salePrice.toFixed(2)]}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:677:23",className:"text-xs text-slate-500",children:[j.timesPrinted," impresses"]})]}),j.importedFromJob&&x.jsxs(Qo,{"code-path":"src/pages/Catalog.tsx:684:23",variant:"outline",className:"mt-2 bg-indigo-500/20 text-indigo-400 border-indigo-500/30 text-xs",children:[x.jsx(i0,{"code-path":"src/pages/Catalog.tsx:685:25",className:"w-3 h-3 mr-1"}),"Importado"]})]}),x.jsxs(Jf,{"code-path":"src/pages/Catalog.tsx:691:19",children:[x.jsx(Zf,{"code-path":"src/pages/Catalog.tsx:692:21",asChild:!0,children:x.jsx(cn,{"code-path":"src/pages/Catalog.tsx:693:23",variant:"ghost",size:"icon",className:"text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/Catalog.tsx:694:25",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/Catalog.tsx:697:21",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsx(Es,{"code-path":"src/pages/Catalog.tsx:698:23",onClick:()=>_(j),className:"text-slate-300",children:"Ver Detalhes"}),e("catalog")&&x.jsxs(x.Fragment,{children:[x.jsxs(Es,{"code-path":"src/pages/Catalog.tsx:703:27",onClick:()=>P(j),className:"text-slate-300",children:[x.jsx(Mh,{"code-path":"src/pages/Catalog.tsx:704:29",className:"w-4 h-4 mr-2"}),"Editar"]}),x.jsxs(Es,{"code-path":"src/pages/Catalog.tsx:707:27",onClick:()=>k(j.id),className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/Catalog.tsx:708:29",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})]})})]},j.id))}),x.jsx(ol,{"code-path":"src/pages/Catalog.tsx:723:7",open:!!b,onOpenChange:()=>_(null),children:x.jsxs(ll,{"code-path":"src/pages/Catalog.tsx:724:9",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/Catalog.tsx:725:11",children:x.jsx(ul,{"code-path":"src/pages/Catalog.tsx:726:13",className:"text-white",children:b?.name})}),b&&x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:729:13",className:"space-y-4",children:[x.jsx("div",{"code-path":"src/pages/Catalog.tsx:731:15",className:"h-48 bg-slate-700/50 rounded-lg flex items-center justify-center overflow-hidden",children:b.images&&b.images.length>0?x.jsx("div",{"code-path":"src/pages/Catalog.tsx:733:19",className:"grid grid-cols-3 gap-2 w-full h-full p-2",children:b.images.slice(0,3).map((j,J)=>x.jsx("div",{"code-path":"src/pages/Catalog.tsx:735:23",className:"relative rounded-lg overflow-hidden",children:x.jsx("img",{"code-path":"src/pages/Catalog.tsx:736:25",src:j,alt:`Foto ${J+1}`,className:"w-full h-full object-cover"})},J))}):x.jsx(Nl,{"code-path":"src/pages/Catalog.tsx:741:19",className:"w-24 h-24 text-slate-600"})}),x.jsx("div",{"code-path":"src/pages/Catalog.tsx:745:15",children:x.jsx("p",{"code-path":"src/pages/Catalog.tsx:746:17",className:"text-slate-400",children:b.description})}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:749:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:750:17",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:751:19",className:"text-sm text-slate-500",children:"Categoria"}),x.jsx("p",{"code-path":"src/pages/Catalog.tsx:752:19",className:"text-white",children:b.category})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:754:17",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:755:19",className:"text-sm text-slate-500",children:"Dimenses"}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:756:19",className:"text-white",children:[b.dimensions.x,"",b.dimensions.y,"",b.dimensions.z,"mm"]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:760:17",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:761:19",className:"text-sm text-slate-500",children:"Peso"}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:762:19",className:"text-white",children:[b.weight,"g"]})]}),x.jsxs("div",{"code-path":"src/pages/Catalog.tsx:764:17",children:[x.jsx("p",{"code-path":"src/pages/Catalog.tsx:765:19",className:"text-sm text-slate-500",children:"Tempo"}),x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:766:19",className:"text-white",children:[b.printTime,"h"]})]})]}),x.jsx("div",{"code-path":"src/pages/Catalog.tsx:770:15",className:"border-t border-slate-700 pt-4",children:x.jsxs("p",{"code-path":"src/pages/Catalog.tsx:771:17",className:"text-2xl font-bold text-emerald-400",children:["R$ ",b.salePrice.toFixed(2)]})}),b.importedFromJob&&x.jsxs(Qo,{"code-path":"src/pages/Catalog.tsx:777:17",variant:"outline",className:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",children:[x.jsx(i0,{"code-path":"src/pages/Catalog.tsx:778:19",className:"w-3 h-3 mr-1"}),"Importado de trabalho"]}),x.jsx("div",{"code-path":"src/pages/Catalog.tsx:783:15",className:"flex gap-2 pt-4",children:x.jsxs(cn,{"code-path":"src/pages/Catalog.tsx:784:17",onClick:()=>{_(null),P(b)},className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:[x.jsx(Mh,{"code-path":"src/pages/Catalog.tsx:791:19",className:"w-4 h-4 mr-2"}),"Editar"]})})]})]})}),x.jsx(kX,{"code-path":"src/pages/Catalog.tsx:801:7",isOpen:u,onClose:()=>d(!1),onImport:M})]})}const eg={queued:{label:"Na Fila",color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:vf},printing:{label:"Imprimindo",color:"bg-amber-500/20 text-amber-400 border-amber-500/30",icon:Ui},paused:{label:"Pausado",color:"bg-blue-500/20 text-blue-400 border-blue-500/30",icon:eS},completed:{label:"Concludo",color:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",icon:S0},failed:{label:"Falhou",color:"bg-rose-500/20 text-rose-400 border-rose-500/30",icon:yf},cancelled:{label:"Cancelado",color:"bg-slate-500/20 text-slate-400 border-slate-500/30",icon:yf}};function FX({photos:n,onPhotosChange:e}){const t=s=>{const i=s.target.files;i&&Array.from(i).forEach(u=>{const d=new FileReader;d.onloadend=()=>{const g=d.result;e([...n,g])},d.readAsDataURL(u)})},r=s=>{e(n.filter((i,u)=>u!==s))};return x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:63:5",className:"space-y-3",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:64:7",className:"text-sm text-slate-300",children:"Fotos da Impresso"}),n.length>0&&x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:68:9",className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:n.map((s,i)=>x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:70:13",className:"relative aspect-square rounded-lg overflow-hidden bg-slate-700 group",children:[x.jsx("img",{"code-path":"src/pages/PrintJobs.tsx:71:15",src:s,alt:`Foto ${i+1}`,className:"w-full h-full object-cover"}),x.jsx("button",{"code-path":"src/pages/PrintJobs.tsx:76:15",type:"button",onClick:()=>r(i),className:"absolute top-1 right-1 w-6 h-6 bg-rose-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(yf,{"code-path":"src/pages/PrintJobs.tsx:81:17",className:"w-4 h-4"})})]},i))}),x.jsxs("label",{"code-path":"src/pages/PrintJobs.tsx:89:7",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-600 rounded-lg cursor-pointer hover:border-indigo-500 hover:bg-slate-800/50 transition-all",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:90:9",className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x.jsx(Nm,{"code-path":"src/pages/PrintJobs.tsx:91:11",className:"w-6 h-6 text-slate-400 mb-2"}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:92:11",className:"text-xs text-slate-400",children:"Clique para adicionar fotos"})]}),x.jsx("input",{"code-path":"src/pages/PrintJobs.tsx:94:9",type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:t})]})]})}function BX({job:n,onSave:e,onCancel:t}){const{printers:r}=sd(),{filaments:s}=Qf(),[i,u]=H.useState({printerId:"",description:"",status:"queued",filaments:[],colorChanges:0,estimatedTime:3,notes:"",photos:[],...n}),d=p=>{p.preventDefault(),e({...i,id:n?.id||Math.random().toString(36).substr(2,9),jobNumber:n?.jobNumber||pq(),createdAt:n?.createdAt||new Date,updatedAt:new Date})},g=r.find(p=>p.id===i.printerId);return x.jsxs("form",{"code-path":"src/pages/PrintJobs.tsx:141:5",onSubmit:d,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[x.jsx(FX,{"code-path":"src/pages/PrintJobs.tsx:143:7",photos:i.photos||[],onPhotosChange:p=>u({...i,photos:p})}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:148:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:149:9",className:"text-sm text-slate-300",children:"Impressora *"}),x.jsxs("select",{"code-path":"src/pages/PrintJobs.tsx:150:9",value:i.printerId,onChange:p=>u({...i,printerId:p.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white",required:!0,children:[x.jsx("option",{"code-path":"src/pages/PrintJobs.tsx:156:11",value:"",children:"Selecione uma impressora"}),r.map(p=>x.jsxs("option",{"code-path":"src/pages/PrintJobs.tsx:158:13",value:p.id,children:[p.name," (",p.status==="available"?"Disponvel":"Ocupada",")"]},p.id))]})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:165:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:166:9",className:"text-sm text-slate-300",children:"Descrio"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:167:9",value:i.description,onChange:p=>u({...i,description:p.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Oramento #123 - Suporte"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:175:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:176:9",className:"text-sm text-slate-300",children:"Filamentos"}),x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:177:9",className:"space-y-2",children:g?.slots.map((p,b)=>x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:179:13",className:"flex items-center gap-2 p-2 bg-slate-800 rounded-lg",children:[x.jsxs("span",{"code-path":"src/pages/PrintJobs.tsx:180:15",className:"text-sm text-slate-400 w-16",children:["Slot ",p.slotNumber]}),x.jsxs("select",{"code-path":"src/pages/PrintJobs.tsx:181:15",value:i.filaments?.[b]?.filamentId||"",onChange:_=>{const I=[...i.filaments||[]];I[b]={slotId:p.id,filamentId:_.target.value,estimatedUsage:50,actualUsage:null},u({...i,filaments:I})},className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-3 py-1 text-white text-sm",children:[x.jsx("option",{"code-path":"src/pages/PrintJobs.tsx:195:17",value:"",children:"Selecione"}),s.filter(_=>_.status==="available").map(_=>x.jsxs("option",{"code-path":"src/pages/PrintJobs.tsx:197:19",value:_.id,children:[_.material," ",_.color," (",_.weightRemaining,"g)"]},_.id))]})]},p.id))})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:207:7",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:208:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:209:11",className:"text-sm text-slate-300",children:"Tempo Estimado (h)"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:210:11",type:"number",step:"0.5",value:i.estimatedTime,onChange:p=>u({...i,estimatedTime:Number(p.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:218:9",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:219:11",className:"text-sm text-slate-300",children:"Trocas de Cor"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:220:11",type:"number",value:i.colorChanges,onChange:p=>u({...i,colorChanges:Number(p.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:229:7",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:230:9",className:"text-sm text-slate-300",children:"Observaes"}),x.jsx("textarea",{"code-path":"src/pages/PrintJobs.tsx:231:9",value:i.notes,onChange:p=>u({...i,notes:p.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:238:7",className:"flex gap-2 pt-4",children:[x.jsxs(cn,{"code-path":"src/pages/PrintJobs.tsx:239:9",type:"submit",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:[n?"Atualizar":"Criar"," Trabalho"]}),x.jsx(cn,{"code-path":"src/pages/PrintJobs.tsx:242:9",type:"button",variant:"outline",onClick:t,className:"border-slate-600",children:"Cancelar"})]})]})}function rE(){const{jobs:n}=hb(),{printers:e}=sd(),{canWrite:t}=bc(),[r,s]=H.useState(""),[i,u]=H.useState("all"),[d,g]=H.useState(!1),[p,b]=H.useState(),[_,I]=H.useState(null),[S,P]=H.useState(!1),[k,M]=H.useState(null);fb(),i2(),o2(),db();const j=n.filter(F=>{const te=F.jobNumber.toLowerCase().includes(r.toLowerCase())||F.description.toLowerCase().includes(r.toLowerCase()),z=i==="all"||F.status===i;return te&&z}),J=async F=>{try{p?await im(F):await X8(F),g(!1),b(void 0)}catch(te){console.error("Erro ao salvar trabalho:",te),alert("Erro ao salvar trabalho. Tente novamente.")}},Z=async(F,te)=>{try{await im({...F,status:te})}catch(z){console.error("Erro ao atualizar status:",z),alert("Erro ao atualizar status. Tente novamente.")}},ee=async F=>{if(confirm("Tem certeza que deseja excluir este trabalho?"))try{await Q8(F)}catch(te){console.error("Erro ao excluir trabalho:",te),alert("Erro ao excluir trabalho. Tente novamente.")}},we=F=>e.find(te=>te.id===F)?.name||"Desconhecida",Re=F=>{M(F),P(!0)},Y=async(F,te)=>{try{const z={id:Math.random().toString(36).substr(2,9),name:te.name||F.description||"Pea sem nome",description:te.description||"",category:te.category||"Geral",images:F.photos||[],files:[],dimensions:te.dimensions||{x:0,y:0,z:0},weight:te.weight||0,printTime:F.estimatedTime||0,materialUsage:[],costBreakdown:{filament:0,energy:0,printerTime:0,labor:0,packaging:0,other:0},salePrice:te.salePrice||0,timesPrinted:1,rating:5,tags:te.tags||[],importedFromJob:F.id,jobDescription:F.description,createdAt:new Date,updatedAt:new Date};await am(z),P(!1),M(null),alert("Pea exportada para o catlogo com sucesso!")}catch(z){console.error("Erro ao exportar pea:",z),alert("Erro ao exportar pea. Tente novamente.")}};function U({job:F,isOpen:te,onClose:z,onExport:q}){const[X,be]=H.useState({name:F?.description||"",description:"",category:"",salePrice:0,weight:0,tags:[]});return F?x.jsx(ol,{"code-path":"src/pages/PrintJobs.tsx:385:7",open:te,onOpenChange:z,children:x.jsxs(ll,{"code-path":"src/pages/PrintJobs.tsx:386:9",className:"bg-slate-900 border-slate-700 max-w-lg",children:[x.jsx(cl,{"code-path":"src/pages/PrintJobs.tsx:387:11",children:x.jsx(ul,{"code-path":"src/pages/PrintJobs.tsx:388:13",className:"text-white",children:"Exportar para Catlogo"})}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:390:11",className:"space-y-4",children:[F.photos&&F.photos.length>0&&x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:393:15",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:394:17",className:"text-sm text-slate-500 mb-2",children:"Fotos sero includas:"}),x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:395:17",className:"grid grid-cols-4 gap-2",children:F.photos.map((pe,ge)=>x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:397:21",className:"aspect-square rounded-lg overflow-hidden bg-slate-700",children:x.jsx("img",{"code-path":"src/pages/PrintJobs.tsx:398:23",src:pe,alt:`Foto ${ge+1}`,className:"w-full h-full object-cover"})},ge))})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:405:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:406:15",className:"text-sm text-slate-300",children:"Nome da Pea *"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:407:15",value:X.name,onChange:pe=>be({...X,name:pe.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Nome da pea no catlogo"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:415:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:416:15",className:"text-sm text-slate-300",children:"Descrio"}),x.jsx("textarea",{"code-path":"src/pages/PrintJobs.tsx:417:15",value:X.description,onChange:pe=>be({...X,description:pe.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white h-20 resize-none"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:424:13",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:425:15",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:426:17",className:"text-sm text-slate-300",children:"Categoria"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:427:17",value:X.category,onChange:pe=>be({...X,category:pe.target.value}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: Acessrios"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:434:15",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:435:17",className:"text-sm text-slate-300",children:"Preo de Venda (R$)"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:436:17",type:"number",step:"0.01",value:X.salePrice,onChange:pe=>be({...X,salePrice:Number(pe.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:446:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:447:15",className:"text-sm text-slate-300",children:"Peso (g)"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:448:15",type:"number",value:X.weight,onChange:pe=>be({...X,weight:Number(pe.target.value)}),className:"bg-slate-800 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:456:13",className:"space-y-2",children:[x.jsx("label",{"code-path":"src/pages/PrintJobs.tsx:457:15",className:"text-sm text-slate-300",children:"Tags (separadas por vrgula)"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:458:15",value:X.tags?.join(", "),onChange:pe=>be({...X,tags:pe.target.value.split(",").map(ge=>ge.trim())}),className:"bg-slate-800 border-slate-700 text-white",placeholder:"Ex: utilitrio, decorao"})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:466:13",className:"flex gap-2 pt-4",children:[x.jsxs(cn,{"code-path":"src/pages/PrintJobs.tsx:467:15",onClick:()=>q(F,X),className:"flex-1 bg-emerald-500 hover:bg-emerald-600",children:[x.jsx(Nl,{"code-path":"src/pages/PrintJobs.tsx:471:17",className:"w-4 h-4 mr-2"}),"Exportar"]}),x.jsx(cn,{"code-path":"src/pages/PrintJobs.tsx:474:15",variant:"outline",onClick:z,className:"border-slate-600",children:"Cancelar"})]})]})]})}):null}return x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:485:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:487:7",className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:488:9",children:[x.jsx("h1",{"code-path":"src/pages/PrintJobs.tsx:489:11",className:"text-2xl font-bold text-white",children:"Trabalhos de Impresso"}),x.jsxs("p",{"code-path":"src/pages/PrintJobs.tsx:490:11",className:"text-slate-400",children:[n.length," trabalhos cadastrados"]})]}),t("printers")&&x.jsxs(ol,{"code-path":"src/pages/PrintJobs.tsx:493:11",open:d,onOpenChange:g,children:[x.jsx(q0,{"code-path":"src/pages/PrintJobs.tsx:494:13",asChild:!0,children:x.jsxs(cn,{"code-path":"src/pages/PrintJobs.tsx:495:15",className:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>b(void 0),children:[x.jsx($c,{"code-path":"src/pages/PrintJobs.tsx:499:17",className:"w-4 h-4 mr-2"}),"Novo Trabalho"]})}),x.jsxs(ll,{"code-path":"src/pages/PrintJobs.tsx:503:13",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/PrintJobs.tsx:504:15",children:x.jsx(ul,{"code-path":"src/pages/PrintJobs.tsx:505:17",className:"text-white",children:p?"Editar Trabalho":"Novo Trabalho"})}),x.jsx(BX,{"code-path":"src/pages/PrintJobs.tsx:509:15",job:p,onSave:J,onCancel:()=>{g(!1),b(void 0)}})]})]})]}),x.jsx(ur,{"code-path":"src/pages/PrintJobs.tsx:523:7",className:"bg-slate-800/50 border-slate-700",children:x.jsx(hr,{"code-path":"src/pages/PrintJobs.tsx:524:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:525:11",className:"flex flex-col sm:flex-row gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:526:13",className:"relative flex-1",children:[x.jsx(Lf,{"code-path":"src/pages/PrintJobs.tsx:527:15",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),x.jsx(It,{"code-path":"src/pages/PrintJobs.tsx:528:15",placeholder:"Buscar trabalho...",value:r,onChange:F=>s(F.target.value),className:"pl-10 bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("select",{"code-path":"src/pages/PrintJobs.tsx:535:13",value:i,onChange:F=>u(F.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/PrintJobs.tsx:540:15",value:"all",children:"Todos Status"}),Object.entries(eg).map(([F,te])=>x.jsx("option",{"code-path":"src/pages/PrintJobs.tsx:542:17",value:F,children:te.label},F))]})]})})}),j.length===0?x.jsx(ur,{"code-path":"src/pages/PrintJobs.tsx:551:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/PrintJobs.tsx:552:11",className:"p-12 text-center",children:[x.jsx(i0,{"code-path":"src/pages/PrintJobs.tsx:553:13",className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),x.jsx("h3",{"code-path":"src/pages/PrintJobs.tsx:554:13",className:"text-lg font-medium text-white mb-2",children:"Nenhum trabalho encontrado"}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:555:13",className:"text-slate-400",children:r?"Tente ajustar os filtros":"Crie seu primeiro trabalho"})]})}):x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:561:9",className:"grid gap-4",children:j.map(F=>{const te=eg[F.status],z=F.status==="printing"?65:F.status==="completed"?100:0;return x.jsx(ur,{"code-path":"src/pages/PrintJobs.tsx:567:15",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all cursor-pointer",onClick:()=>I(F),children:x.jsx(hr,{"code-path":"src/pages/PrintJobs.tsx:568:17",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:569:19",className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:570:21",className:"flex-1",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:571:23",className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{"code-path":"src/pages/PrintJobs.tsx:572:25",className:"font-medium text-white",children:F.jobNumber}),x.jsxs(Qo,{"code-path":"src/pages/PrintJobs.tsx:573:25",variant:"outline",className:te.color,children:[x.jsx(te.icon,{"code-path":"src/pages/PrintJobs.tsx:574:27",className:"w-3 h-3 mr-1"}),te.label]}),F.photos&&F.photos.length>0&&x.jsxs(Qo,{"code-path":"src/pages/PrintJobs.tsx:578:27",variant:"outline",className:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",children:[x.jsx(n5,{"code-path":"src/pages/PrintJobs.tsx:579:29",className:"w-3 h-3 mr-1"}),F.photos.length]})]}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:584:23",className:"text-slate-300",children:F.description||"Sem descrio"}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:585:23",className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[x.jsxs("span",{"code-path":"src/pages/PrintJobs.tsx:586:25",className:"flex items-center gap-1",children:[x.jsx(Ui,{"code-path":"src/pages/PrintJobs.tsx:587:27",className:"w-3 h-3"}),we(F.printerId)]}),x.jsxs("span",{"code-path":"src/pages/PrintJobs.tsx:590:25",className:"flex items-center gap-1",children:[x.jsx(vf,{"code-path":"src/pages/PrintJobs.tsx:591:27",className:"w-3 h-3"}),F.estimatedTime,"h estimado"]})]}),F.status==="printing"&&x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:597:25",className:"mt-3",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:598:27",className:"flex justify-between text-xs text-slate-400 mb-1",children:[x.jsx("span",{"code-path":"src/pages/PrintJobs.tsx:599:29",children:"Progresso"}),x.jsxs("span",{"code-path":"src/pages/PrintJobs.tsx:600:29",children:[z,"%"]})]}),x.jsx(mb,{"code-path":"src/pages/PrintJobs.tsx:602:27",value:z,className:"h-2"})]})]}),x.jsxs(Jf,{"code-path":"src/pages/PrintJobs.tsx:607:21",children:[x.jsx(Zf,{"code-path":"src/pages/PrintJobs.tsx:608:23",asChild:!0,onClick:q=>q.stopPropagation(),children:x.jsx(cn,{"code-path":"src/pages/PrintJobs.tsx:609:25",variant:"ghost",size:"icon",className:"text-slate-400",children:x.jsx(Pf,{"code-path":"src/pages/PrintJobs.tsx:610:27",className:"w-4 h-4"})})}),x.jsxs(e1,{"code-path":"src/pages/PrintJobs.tsx:613:23",align:"end",className:"bg-slate-800 border-slate-700",children:[x.jsx(Es,{"code-path":"src/pages/PrintJobs.tsx:614:25",onClick:q=>{q.stopPropagation(),I(F)},className:"text-slate-300",children:"Ver Detalhes"}),F.status==="queued"&&x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:619:27",onClick:q=>{q.stopPropagation(),Z(F,"printing")},className:"text-emerald-400",children:[x.jsx(A4,{"code-path":"src/pages/PrintJobs.tsx:620:29",className:"w-4 h-4 mr-2"}),"Iniciar Impresso"]}),F.status==="printing"&&x.jsxs(x.Fragment,{children:[x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:626:29",onClick:q=>{q.stopPropagation(),Z(F,"paused")},className:"text-blue-400",children:[x.jsx(eS,{"code-path":"src/pages/PrintJobs.tsx:627:31",className:"w-4 h-4 mr-2"}),"Pausar"]}),x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:630:29",onClick:q=>{q.stopPropagation(),Z(F,"completed")},className:"text-emerald-400",children:[x.jsx(S0,{"code-path":"src/pages/PrintJobs.tsx:631:31",className:"w-4 h-4 mr-2"}),"Marcar como Concludo"]}),x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:634:29",onClick:q=>{q.stopPropagation(),Z(F,"failed")},className:"text-rose-400",children:[x.jsx(yf,{"code-path":"src/pages/PrintJobs.tsx:635:31",className:"w-4 h-4 mr-2"}),"Marcar como Falhou"]})]}),F.status==="paused"&&x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:641:27",onClick:q=>{q.stopPropagation(),Z(F,"printing")},className:"text-emerald-400",children:[x.jsx(A4,{"code-path":"src/pages/PrintJobs.tsx:642:29",className:"w-4 h-4 mr-2"}),"Retomar"]}),F.status==="completed"&&x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:649:27",onClick:q=>{q.stopPropagation(),Re(F)},className:"text-indigo-400",children:[x.jsx(Nl,{"code-path":"src/pages/PrintJobs.tsx:650:29",className:"w-4 h-4 mr-2"}),"Exportar para Catlogo"]}),x.jsx(Es,{"code-path":"src/pages/PrintJobs.tsx:655:25",onClick:q=>{q.stopPropagation(),b(F),g(!0)},className:"text-slate-300",children:"Editar"}),t("printers")&&x.jsxs(Es,{"code-path":"src/pages/PrintJobs.tsx:660:27",onClick:q=>{q.stopPropagation(),ee(F.id)},className:"text-rose-400",children:[x.jsx(Qh,{"code-path":"src/pages/PrintJobs.tsx:661:29",className:"w-4 h-4 mr-2"}),"Excluir"]})]})]})]})})},F.id)})}),x.jsx(ol,{"code-path":"src/pages/PrintJobs.tsx:676:7",open:!!_,onOpenChange:()=>I(null),children:x.jsxs(ll,{"code-path":"src/pages/PrintJobs.tsx:677:9",className:"bg-slate-900 border-slate-700 max-w-lg max-h-[90vh] overflow-y-auto",children:[x.jsx(cl,{"code-path":"src/pages/PrintJobs.tsx:678:11",children:x.jsxs(ul,{"code-path":"src/pages/PrintJobs.tsx:679:13",className:"text-white",children:["Trabalho ",_?.jobNumber]})}),_&&x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:682:13",className:"space-y-4",children:[_.photos&&_.photos.length>0&&x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:685:17",className:"grid grid-cols-3 gap-2",children:_.photos.map((F,te)=>x.jsx("div",{"code-path":"src/pages/PrintJobs.tsx:687:21",className:"aspect-square rounded-lg overflow-hidden bg-slate-700",children:x.jsx("img",{"code-path":"src/pages/PrintJobs.tsx:688:23",src:F,alt:`Foto ${te+1}`,className:"w-full h-full object-cover"})},te))}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:694:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:695:17",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:696:19",className:"text-sm text-slate-500",children:"Status"}),x.jsx(Qo,{"code-path":"src/pages/PrintJobs.tsx:697:19",variant:"outline",className:eg[_.status].color,children:eg[_.status].label})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:701:17",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:702:19",className:"text-sm text-slate-500",children:"Impressora"}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:703:19",className:"text-white",children:we(_.printerId)})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:705:17",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:706:19",className:"text-sm text-slate-500",children:"Tempo Estimado"}),x.jsxs("p",{"code-path":"src/pages/PrintJobs.tsx:707:19",className:"text-white",children:[_.estimatedTime,"h"]})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:709:17",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:710:19",className:"text-sm text-slate-500",children:"Trocas de Cor"}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:711:19",className:"text-white",children:_.colorChanges})]})]}),_.notes&&x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:716:17",children:[x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:717:19",className:"text-sm text-slate-500",children:"Observaes"}),x.jsx("p",{"code-path":"src/pages/PrintJobs.tsx:718:19",className:"text-slate-300",children:_.notes})]}),x.jsxs("div",{"code-path":"src/pages/PrintJobs.tsx:722:15",className:"flex gap-2 pt-4",children:[x.jsx(cn,{"code-path":"src/pages/PrintJobs.tsx:723:17",onClick:()=>{I(null),b(_),g(!0)},className:"flex-1 bg-indigo-500 hover:bg-indigo-600",children:"Editar"}),_.status==="completed"&&x.jsxs(cn,{"code-path":"src/pages/PrintJobs.tsx:734:19",onClick:()=>{I(null),Re(_)},className:"bg-emerald-500 hover:bg-emerald-600",children:[x.jsx(Nl,{"code-path":"src/pages/PrintJobs.tsx:741:21",className:"w-4 h-4 mr-2"}),"Exportar"]})]})]})]})}),x.jsx(U,{"code-path":"src/pages/PrintJobs.tsx:752:7",job:k,isOpen:S,onClose:()=>{P(!1),M(null)},onExport:Y})]})}function v7(n,[e,t]){return Math.min(t,Math.max(e,n))}function b7(n){const e=H.useRef({value:n,previous:n});return H.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var w7=["PageUp","PageDown"],_7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],A7={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},t1="Slider",[Tv,UX,VX]=xb(t1),[E7]=lu(t1,[VX]),[zX,x2]=E7(t1),C7=H.forwardRef((n,e)=>{const{name:t,min:r=0,max:s=100,step:i=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:g=0,defaultValue:p=[r],value:b,onValueChange:_=()=>{},onValueCommit:I=()=>{},inverted:S=!1,form:P,...k}=n,M=H.useRef(new Set),j=H.useRef(0),Z=u==="horizontal"?HX:qX,[ee=[],we]=jf({prop:b,defaultProp:p,onChange:z=>{[...M.current][j.current]?.focus(),_(z)}}),Re=H.useRef(ee);function Y(z){const q=QX(ee,z);te(z,q)}function U(z){te(z,j.current)}function F(){const z=Re.current[j.current];ee[j.current]!==z&&I(ee)}function te(z,q,{commit:X}={commit:!1}){const be=ZX(i),pe=eQ(Math.round((z-r)/i)*i+r,be),ge=v7(pe,[r,s]);we((Se=[])=>{const ye=YX(Se,ge,q);if(JX(ye,g*i)){j.current=ye.indexOf(ge);const De=String(ye)!==String(Se);return De&&X&&I(ye),De?ye:Se}else return Se})}return x.jsx(zX,{scope:n.__scopeSlider,name:t,disabled:d,min:r,max:s,valueIndexToChangeRef:j,thumbs:M.current,values:ee,orientation:u,form:P,children:x.jsx(Tv.Provider,{scope:n.__scopeSlider,children:x.jsx(Tv.Slot,{scope:n.__scopeSlider,children:x.jsx(Z,{"aria-disabled":d,"data-disabled":d?"":void 0,...k,ref:e,onPointerDown:Un(k.onPointerDown,()=>{d||(Re.current=ee)}),min:r,max:s,inverted:S,onSlideStart:d?void 0:Y,onSlideMove:d?void 0:U,onSlideEnd:d?void 0:F,onHomeKeyDown:()=>!d&&te(r,0,{commit:!0}),onEndKeyDown:()=>!d&&te(s,ee.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:q})=>{if(!d){const pe=w7.includes(z.key)||z.shiftKey&&_7.includes(z.key)?10:1,ge=j.current,Se=ee[ge],ye=i*pe*q;te(Se+ye,ge,{commit:!0})}}})})})})});C7.displayName=t1;var[S7,N7]=E7(t1,{startEdge:"left",endEdge:"right",size:"width",direction:1}),HX=H.forwardRef((n,e)=>{const{min:t,max:r,dir:s,inverted:i,onSlideStart:u,onSlideMove:d,onSlideEnd:g,onStepKeyDown:p,...b}=n,[_,I]=H.useState(null),S=Us(e,Z=>I(Z)),P=H.useRef(void 0),k=l2(s),M=k==="ltr",j=M&&!i||!M&&i;function J(Z){const ee=P.current||_.getBoundingClientRect(),we=[0,ee.width],Y=kb(we,j?[t,r]:[r,t]);return P.current=ee,Y(Z-ee.left)}return x.jsx(S7,{scope:n.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:x.jsx(T7,{dir:k,"data-orientation":"horizontal",...b,ref:S,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:Z=>{const ee=J(Z.clientX);u?.(ee)},onSlideMove:Z=>{const ee=J(Z.clientX);d?.(ee)},onSlideEnd:()=>{P.current=void 0,g?.()},onStepKeyDown:Z=>{const we=A7[j?"from-left":"from-right"].includes(Z.key);p?.({event:Z,direction:we?-1:1})}})})}),qX=H.forwardRef((n,e)=>{const{min:t,max:r,inverted:s,onSlideStart:i,onSlideMove:u,onSlideEnd:d,onStepKeyDown:g,...p}=n,b=H.useRef(null),_=Us(e,b),I=H.useRef(void 0),S=!s;function P(k){const M=I.current||b.current.getBoundingClientRect(),j=[0,M.height],Z=kb(j,S?[r,t]:[t,r]);return I.current=M,Z(k-M.top)}return x.jsx(S7,{scope:n.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:x.jsx(T7,{"data-orientation":"vertical",...p,ref:_,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const M=P(k.clientY);i?.(M)},onSlideMove:k=>{const M=P(k.clientY);u?.(M)},onSlideEnd:()=>{I.current=void 0,d?.()},onStepKeyDown:k=>{const j=A7[S?"from-bottom":"from-top"].includes(k.key);g?.({event:k,direction:j?-1:1})}})})}),T7=H.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:g,...p}=n,b=x2(t1,t);return x.jsx(Jr.span,{...p,ref:e,onKeyDown:Un(n.onKeyDown,_=>{_.key==="Home"?(u(_),_.preventDefault()):_.key==="End"?(d(_),_.preventDefault()):w7.concat(_7).includes(_.key)&&(g(_),_.preventDefault())}),onPointerDown:Un(n.onPointerDown,_=>{const I=_.target;I.setPointerCapture(_.pointerId),_.preventDefault(),b.thumbs.has(I)?I.focus():r(_)}),onPointerMove:Un(n.onPointerMove,_=>{_.target.hasPointerCapture(_.pointerId)&&s(_)}),onPointerUp:Un(n.onPointerUp,_=>{const I=_.target;I.hasPointerCapture(_.pointerId)&&(I.releasePointerCapture(_.pointerId),i(_))})})}),I7="SliderTrack",R7=H.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,s=x2(I7,t);return x.jsx(Jr.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});R7.displayName=I7;var Iv="SliderRange",O7=H.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,s=x2(Iv,t),i=N7(Iv,t),u=H.useRef(null),d=Us(e,u),g=s.values.length,p=s.values.map(I=>L7(I,s.min,s.max)),b=g>1?Math.min(...p):0,_=100-Math.max(...p);return x.jsx(Jr.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:d,style:{...n.style,[i.startEdge]:b+"%",[i.endEdge]:_+"%"}})});O7.displayName=Iv;var Rv="SliderThumb",D7=H.forwardRef((n,e)=>{const t=UX(n.__scopeSlider),[r,s]=H.useState(null),i=Us(e,d=>s(d)),u=H.useMemo(()=>r?t().findIndex(d=>d.ref.current===r):-1,[t,r]);return x.jsx(GX,{...n,ref:i,index:u})}),GX=H.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:s,...i}=n,u=x2(Rv,t),d=N7(Rv,t),[g,p]=H.useState(null),b=Us(e,J=>p(J)),_=g?u.form||!!g.closest("form"):!0,I=Eb(g),S=u.values[r],P=S===void 0?0:L7(S,u.min,u.max),k=XX(r,u.values.length),M=I?.[d.size],j=M?KX(M,P,d.direction):0;return H.useEffect(()=>{if(g)return u.thumbs.add(g),()=>{u.thumbs.delete(g)}},[g,u.thumbs]),x.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${P}% + ${j}px)`},children:[x.jsx(Tv.ItemSlot,{scope:n.__scopeSlider,children:x.jsx(Jr.span,{role:"slider","aria-label":n["aria-label"]||k,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...i,ref:b,style:S===void 0?{display:"none"}:n.style,onFocus:Un(n.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),_&&x.jsx(P7,{name:s??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},r)]})});D7.displayName=Rv;var WX="RadioBubbleInput",P7=H.forwardRef(({__scopeSlider:n,value:e,...t},r)=>{const s=H.useRef(null),i=Us(s,r),u=b7(e);return H.useEffect(()=>{const d=s.current;if(!d)return;const g=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==e&&b){const _=new Event("input",{bubbles:!0});b.call(d,e),d.dispatchEvent(_)}},[u,e]),x.jsx(Jr.input,{style:{display:"none"},...t,ref:i,defaultValue:e})});P7.displayName=WX;function YX(n=[],e,t){const r=[...n];return r[t]=e,r.sort((s,i)=>s-i)}function L7(n,e,t){const i=100/(t-e)*(n-e);return v7(i,[0,100])}function XX(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function QX(n,e){if(n.length===1)return 0;const t=n.map(s=>Math.abs(s-e)),r=Math.min(...t);return t.indexOf(r)}function KX(n,e,t){const r=n/2,i=kb([0,50],[0,r]);return(r-i(e)*t)*t}function $X(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function JX(n,e){if(e>0){const t=$X(n);return Math.min(...t)>=e}return!0}function kb(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function ZX(n){return(String(n).split(".")[1]||"").length}function eQ(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var tQ=C7,nQ=R7,rQ=O7,sQ=D7;function sE({className:n,defaultValue:e,value:t,min:r=0,max:s=100,...i}){const u=H.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[r,s],[t,e,r,s]);return x.jsxs(tQ,{"code-path":"src/components/ui/slider.tsx:27:5","data-slot":"slider",defaultValue:e,value:t,min:r,max:s,className:Cs("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...i,children:[x.jsx(nQ,{"code-path":"src/components/ui/slider.tsx:39:7","data-slot":"slider-track",className:Cs("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:x.jsx(rQ,{"code-path":"src/components/ui/slider.tsx:45:9","data-slot":"slider-range",className:Cs("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(d,g)=>x.jsx(sQ,{"code-path":"src/components/ui/slider.tsx:53:9","data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},g))]})}var y2="Switch",[aQ]=lu(y2),[iQ,oQ]=aQ(y2),k7=H.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:i,required:u,disabled:d,value:g="on",onCheckedChange:p,form:b,..._}=n,[I,S]=H.useState(null),P=Us(e,Z=>S(Z)),k=H.useRef(!1),M=I?b||!!I.closest("form"):!0,[j,J]=jf({prop:s,defaultProp:i??!1,onChange:p,caller:y2});return x.jsxs(iQ,{scope:t,checked:j,disabled:d,children:[x.jsx(Jr.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":B7(j),"data-disabled":d?"":void 0,disabled:d,value:g,..._,ref:P,onClick:Un(n.onClick,Z=>{J(ee=>!ee),M&&(k.current=Z.isPropagationStopped(),k.current||Z.stopPropagation())})}),M&&x.jsx(F7,{control:I,bubbles:!k.current,name:r,value:g,checked:j,required:u,disabled:d,form:b,style:{transform:"translateX(-100%)"}})]})});k7.displayName=y2;var M7="SwitchThumb",j7=H.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,s=oQ(M7,t);return x.jsx(Jr.span,{"data-state":B7(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});j7.displayName=M7;var lQ="SwitchBubbleInput",F7=H.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...s},i)=>{const u=H.useRef(null),d=Us(u,i),g=b7(t),p=Eb(e);return H.useEffect(()=>{const b=u.current;if(!b)return;const _=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(_,"checked").set;if(g!==t&&S){const P=new Event("click",{bubbles:r});S.call(b,t),b.dispatchEvent(P)}},[g,t,r]),x.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:d,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});F7.displayName=lQ;function B7(n){return n?"checked":"unchecked"}var cQ=k7,uQ=j7;function hQ({className:n,...e}){return x.jsx(cQ,{"code-path":"src/components/ui/switch.tsx:13:5","data-slot":"switch",className:Cs("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:x.jsx(uQ,{"code-path":"src/components/ui/switch.tsx:21:7","data-slot":"switch-thumb",className:Cs("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const aE={filamentWeight:50,filamentPrice:110,printTime:3,layerHeight:.2,infill:20,supports:!1,material:"PLA",printerPower:150,energyCost:.75,laborTime:.5,laborCost:25,packagingCost:5,markup:100};function dQ(){const[n,e]=H.useState(aE),[t,r]=H.useState(null),s=H.useCallback((g,p)=>{e(b=>({...b,[g]:p}))},[]),i=H.useCallback(()=>{const g=n.filamentWeight/1e3*n.filamentPrice,b=n.printerPower*n.printTime/1e3*n.energyCost,_=n.laborTime*n.laborCost,I=n.packagingCost,S=g+b+_+I,P=S*(n.markup/100),k=S+P,M=Math.ceil(k/5)*5,j={filamentCost:Math.round(g*100)/100,energyCost:Math.round(b*100)/100,laborCost:Math.round(_*100)/100,packagingCost:Math.round(I*100)/100,subtotal:Math.round(S*100)/100,markupAmount:Math.round(P*100)/100,total:Math.round(k*100)/100,suggestedPrice:M};return r(j),j},[n]),u=H.useCallback(g=>{const p=Eg[g]?.avg||110;s("filamentPrice",p),s("material",g)},[s]),d=H.useCallback(()=>{e(aE),r(null)},[]);return{input:n,result:t,updateInput:s,calculate:i,setMaterialPrice:u,reset:d}}const fQ=["PLA","ABS","PETG","TPU","ASA","PC","Nylon","Outro"];function pQ(){const{input:n,result:e,updateInput:t,calculate:r,setMaterialPrice:s,reset:i}=dQ(),[u,d]=H.useState(!1);return H.useEffect(()=>{r()},[n,r]),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:24:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:26:7",children:[x.jsx("h1",{"code-path":"src/pages/Calculator.tsx:27:9",className:"text-2xl font-bold text-white",children:"Calculadora de Custos"}),x.jsx("p",{"code-path":"src/pages/Calculator.tsx:28:9",className:"text-slate-400",children:"Calcule o custo real de uma impresso 3D"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:31:7",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(ur,{"code-path":"src/pages/Calculator.tsx:33:9",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Calculator.tsx:34:11",children:x.jsxs(Sl,{"code-path":"src/pages/Calculator.tsx:35:13",className:"text-white flex items-center gap-2",children:[x.jsx(t5,{"code-path":"src/pages/Calculator.tsx:36:15",className:"w-5 h-5 text-indigo-400"}),"Dados da Impresso"]})}),x.jsxs(hr,{"code-path":"src/pages/Calculator.tsx:40:11",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:42:13",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:43:15",className:"text-slate-300",children:"Material"}),x.jsx("div",{"code-path":"src/pages/Calculator.tsx:44:15",className:"grid grid-cols-4 gap-2",children:fQ.map(g=>x.jsx("button",{"code-path":"src/pages/Calculator.tsx:46:19",onClick:()=>s(g),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.material===g?"bg-indigo-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:g},g))})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:62:13",className:"space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:63:15",className:"flex items-center justify-between",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:64:17",className:"text-slate-300",children:"Peso do Filamento"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:65:17",className:"text-sm text-indigo-400 font-medium",children:[n.filamentWeight,"g"]})]}),x.jsx(sE,{"code-path":"src/pages/Calculator.tsx:67:15",value:[n.filamentWeight],onValueChange:([g])=>t("filamentWeight",g),min:1,max:1e3,step:1,className:"py-2"}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:75:15",className:"flex items-center gap-2",children:[x.jsx(It,{"code-path":"src/pages/Calculator.tsx:76:17",type:"number",value:n.filamentWeight,onChange:g=>t("filamentWeight",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"}),x.jsx("span",{"code-path":"src/pages/Calculator.tsx:82:17",className:"text-slate-400 whitespace-nowrap",children:"gramas"})]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:87:13",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:88:15",className:"text-slate-300",children:"Preo do Filamento (R$/kg)"}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:89:15",className:"flex items-center gap-2",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:90:17",className:"text-slate-400",children:"R$"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:91:17",type:"number",value:n.filamentPrice,onChange:g=>t("filamentPrice",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("p",{"code-path":"src/pages/Calculator.tsx:98:15",className:"text-xs text-slate-500",children:["Preo mdio de mercado: R$ ",Eg[n.material]?.avg||110,"/kg"]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:104:13",className:"space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:105:15",className:"flex items-center justify-between",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:106:17",className:"text-slate-300",children:"Tempo de Impresso"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:107:17",className:"text-sm text-indigo-400 font-medium",children:[n.printTime,"h"]})]}),x.jsx(sE,{"code-path":"src/pages/Calculator.tsx:109:15",value:[n.printTime],onValueChange:([g])=>t("printTime",g),min:.5,max:48,step:.5,className:"py-2"}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:117:15",className:"flex items-center gap-2",children:[x.jsx(It,{"code-path":"src/pages/Calculator.tsx:118:17",type:"number",value:n.printTime,onChange:g=>t("printTime",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"}),x.jsx("span",{"code-path":"src/pages/Calculator.tsx:124:17",className:"text-slate-400 whitespace-nowrap",children:"horas"})]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:129:13",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:130:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:131:17",className:"text-slate-300",children:"Altura de Camada"}),x.jsxs("select",{"code-path":"src/pages/Calculator.tsx:132:17",value:n.layerHeight,onChange:g=>t("layerHeight",Number(g.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Calculator.tsx:137:19",value:.1,children:"0.1mm (Alta)"}),x.jsx("option",{"code-path":"src/pages/Calculator.tsx:138:19",value:.2,children:"0.2mm (Padro)"}),x.jsx("option",{"code-path":"src/pages/Calculator.tsx:139:19",value:.3,children:"0.3mm (Rpida)"})]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:142:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:143:17",className:"text-slate-300",children:"Preenchimento"}),x.jsxs("select",{"code-path":"src/pages/Calculator.tsx:144:17",value:n.infill,onChange:g=>t("infill",Number(g.target.value)),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white",children:[x.jsx("option",{"code-path":"src/pages/Calculator.tsx:149:19",value:10,children:"10% (Oco)"}),x.jsx("option",{"code-path":"src/pages/Calculator.tsx:150:19",value:20,children:"20% (Padro)"}),x.jsx("option",{"code-path":"src/pages/Calculator.tsx:151:19",value:50,children:"50% (Resistente)"}),x.jsx("option",{"code-path":"src/pages/Calculator.tsx:152:19",value:100,children:"100% (Slido)"})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:157:13",className:"flex items-center gap-3",children:[x.jsx(hQ,{"code-path":"src/pages/Calculator.tsx:158:15",checked:n.supports,onCheckedChange:g=>t("supports",g)}),x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:162:15",className:"text-slate-300",children:"Usar Suportes"})]}),x.jsxs("button",{"code-path":"src/pages/Calculator.tsx:166:13",onClick:()=>d(!u),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[x.jsx(LD,{"code-path":"src/pages/Calculator.tsx:170:15",className:"w-4 h-4"}),u?"Ocultar":"Mostrar"," configuraes avanadas"]}),u&&x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:176:15",className:"space-y-4 pt-4 border-t border-slate-700",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:177:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:178:19",className:"text-slate-300",children:"Consumo da Impressora (W)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:179:19",type:"number",value:n.printerPower,onChange:g=>t("printerPower",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:187:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:188:19",className:"text-slate-300",children:"Custo de Energia (R$/kWh)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:189:19",type:"number",step:"0.01",value:n.energyCost,onChange:g=>t("energyCost",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:198:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:199:19",className:"text-slate-300",children:"Tempo de M.O. (horas)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:200:19",type:"number",step:"0.5",value:n.laborTime,onChange:g=>t("laborTime",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:209:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:210:19",className:"text-slate-300",children:"Custo M.O. (R$/hora)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:211:19",type:"number",value:n.laborCost,onChange:g=>t("laborCost",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:219:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:220:19",className:"text-slate-300",children:"Custo de Embalagem (R$)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:221:19",type:"number",value:n.packagingCost,onChange:g=>t("packagingCost",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:229:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Calculator.tsx:230:19",className:"text-slate-300",children:"Margem de Lucro (%)"}),x.jsx(It,{"code-path":"src/pages/Calculator.tsx:231:19",type:"number",value:n.markup,onChange:g=>t("markup",Number(g.target.value)),className:"bg-slate-900 border-slate-700 text-white"})]})]}),x.jsxs(cn,{"code-path":"src/pages/Calculator.tsx:241:13",variant:"outline",onClick:i,className:"w-full border-slate-600",children:[x.jsx(ZD,{"code-path":"src/pages/Calculator.tsx:246:15",className:"w-4 h-4 mr-2"}),"Resetar"]})]})]}),x.jsxs(ur,{"code-path":"src/pages/Calculator.tsx:253:9",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Calculator.tsx:254:11",children:x.jsx(Sl,{"code-path":"src/pages/Calculator.tsx:255:13",className:"text-white",children:"Resultado do Clculo"})}),x.jsx(hr,{"code-path":"src/pages/Calculator.tsx:257:11",className:"space-y-6",children:e&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:261:17",className:"space-y-3",children:[x.jsx("h3",{"code-path":"src/pages/Calculator.tsx:262:19",className:"text-sm font-medium text-slate-400 uppercase tracking-wider",children:"Detalhamento de Custos"}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:266:19",className:"space-y-2",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:267:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:268:23",className:"text-slate-300",children:"Filamento"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:269:23",className:"text-white font-medium",children:["R$ ",e.filamentCost.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:271:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:272:23",className:"text-slate-300",children:"Energia Eltrica"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:273:23",className:"text-white font-medium",children:["R$ ",e.energyCost.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:275:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:276:23",className:"text-slate-300",children:"Mo de Obra"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:277:23",className:"text-white font-medium",children:["R$ ",e.laborCost.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:279:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:280:23",className:"text-slate-300",children:"Embalagem"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:281:23",className:"text-white font-medium",children:["R$ ",e.packagingCost.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:283:21",className:"flex justify-between items-center py-2 border-b border-slate-700",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:284:23",className:"text-slate-300 font-medium",children:"Subtotal"}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:285:23",className:"text-white font-medium",children:["R$ ",e.subtotal.toFixed(2)]})]}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:287:21",className:"flex justify-between items-center py-2 border-b border-slate-700/50",children:[x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:288:23",className:"text-slate-300",children:["Margem (",n.markup,"%)"]}),x.jsxs("span",{"code-path":"src/pages/Calculator.tsx:289:23",className:"text-emerald-400 font-medium",children:["+ R$ ",e.markupAmount.toFixed(2)]})]})]})]}),x.jsx("div",{"code-path":"src/pages/Calculator.tsx:295:17",className:"bg-gradient-to-r from-indigo-500/20 to-cyan-500/20 rounded-xl p-6 border border-indigo-500/30",children:x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:296:19",className:"text-center",children:[x.jsx("p",{"code-path":"src/pages/Calculator.tsx:297:21",className:"text-sm text-slate-400 mb-1",children:"Preo Final"}),x.jsxs("p",{"code-path":"src/pages/Calculator.tsx:298:21",className:"text-4xl font-bold text-white",children:["R$ ",e.total.toFixed(2)]}),x.jsxs("p",{"code-path":"src/pages/Calculator.tsx:301:21",className:"text-sm text-indigo-400 mt-2",children:["Preo sugerido: R$ ",e.suggestedPrice.toFixed(2)]})]})}),x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:308:17",className:"bg-slate-700/30 rounded-lg p-4",children:[x.jsx("h4",{"code-path":"src/pages/Calculator.tsx:309:19",className:"text-sm font-medium text-slate-300 mb-2",children:"Comparao com Mercado"}),x.jsx("div",{"code-path":"src/pages/Calculator.tsx:312:19",className:"flex items-center gap-4",children:x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:313:21",className:"flex-1",children:[x.jsxs("div",{"code-path":"src/pages/Calculator.tsx:314:23",className:"flex justify-between text-xs text-slate-400 mb-1",children:[x.jsx("span",{"code-path":"src/pages/Calculator.tsx:315:25",children:"Seu preo"}),x.jsx("span",{"code-path":"src/pages/Calculator.tsx:316:25",children:"Mercado"})]}),x.jsx("div",{"code-path":"src/pages/Calculator.tsx:318:23",className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:x.jsx("div",{"code-path":"src/pages/Calculator.tsx:319:25",className:"h-full bg-indigo-500 rounded-full",style:{width:`${Math.min(e.total/(Eg[n.material]?.avg*(n.filamentWeight/1e3)*3)*100,100)}%`}})})]})}),x.jsxs("p",{"code-path":"src/pages/Calculator.tsx:328:19",className:"text-xs text-slate-500 mt-2",children:["Preo mdio de mercado para peas similares: R$ ",(Eg[n.material]?.avg*(n.filamentWeight/1e3)*3).toFixed(2)]})]}),x.jsx("div",{"code-path":"src/pages/Calculator.tsx:334:17",className:"flex gap-3",children:x.jsxs(cn,{"code-path":"src/pages/Calculator.tsx:335:19",className:"flex-1 bg-indigo-500 hover:bg-indigo-600",onClick:()=>{alert("Funcionalidade: Criar oramento com estes valores")},children:["Criar Oramento",x.jsx(tD,{"code-path":"src/pages/Calculator.tsx:343:21",className:"w-4 h-4 ml-2"})]})})]})})]})]})]})}const gQ="modulepreload",mQ=function(n,e){return new URL(n,e).href},iE={},py=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let p=function(b){return Promise.all(b.map(_=>Promise.resolve(_).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");s=p(t.map(b=>{if(b=mQ(b,r),b in iE)return;iE[b]=!0;const _=b.endsWith(".css"),I=_?'[rel="stylesheet"]':"";if(r)for(let P=u.length-1;P>=0;P--){const k=u[P];if(k.href===b&&(!_||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${I}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":gQ,_||(S.as="script"),S.crossOrigin="",S.href=b,g&&S.setAttribute("nonce",g),document.head.appendChild(S),_)return new Promise((P,k)=>{S.addEventListener("load",P),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${b}`)))})}))}function i(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&i(d.reason);return e().catch(i)})};function ls(n){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(n)}var Ml=Uint8Array,Xo=Uint16Array,Mb=Int32Array,jb=new Ml([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fb=new Ml([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oE=new Ml([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U7=function(n,e){for(var t=new Xo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new Mb(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)s[i]=i-t[r]<<5|r;return{b:t,r:s}},V7=U7(jb,2),xQ=V7.b,Ov=V7.r;xQ[28]=258,Ov[258]=28;var yQ=U7(Fb,0),lE=yQ.r,Dv=new Xo(32768);for(var Bs=0;Bs<32768;++Bs){var Mu=(Bs&43690)>>1|(Bs&21845)<<1;Mu=(Mu&52428)>>2|(Mu&13107)<<2,Mu=(Mu&61680)>>4|(Mu&3855)<<4,Dv[Bs]=((Mu&65280)>>8|(Mu&255)<<8)>>1}var n0=(function(n,e,t){for(var r=n.length,s=0,i=new Xo(e);s<r;++s)n[s]&&++i[n[s]-1];var u=new Xo(e);for(s=1;s<e;++s)u[s]=u[s-1]+i[s-1]<<1;var d;if(t){d=new Xo(1<<e);var g=15-e;for(s=0;s<r;++s)if(n[s])for(var p=s<<4|n[s],b=e-n[s],_=u[n[s]-1]++<<b,I=_|(1<<b)-1;_<=I;++_)d[Dv[_]>>g]=p}else for(d=new Xo(r),s=0;s<r;++s)n[s]&&(d[s]=Dv[u[n[s]-1]++]>>15-n[s]);return d}),Wh=new Ml(288);for(var Bs=0;Bs<144;++Bs)Wh[Bs]=8;for(var Bs=144;Bs<256;++Bs)Wh[Bs]=9;for(var Bs=256;Bs<280;++Bs)Wh[Bs]=7;for(var Bs=280;Bs<288;++Bs)Wh[Bs]=8;var ym=new Ml(32);for(var Bs=0;Bs<32;++Bs)ym[Bs]=5;var vQ=n0(Wh,9,0),bQ=n0(ym,5,0),z7=function(n){return(n+7)/8|0},wQ=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ml(n.subarray(e,t))},Vc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},U1=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},gy=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,i=t.slice();if(!s)return{t:q7,l:0};if(s==1){var u=new Ml(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(we,Re){return we.f-Re.f}),t.push({s:-1,f:25001});var d=t[0],g=t[1],p=0,b=1,_=2;for(t[0]={s:-1,f:d.f+g.f,l:d,r:g};b!=s-1;)d=t[t[p].f<t[_].f?p++:_++],g=t[p!=b&&t[p].f<t[_].f?p++:_++],t[b++]={s:-1,f:d.f+g.f,l:d,r:g};for(var I=i[0].s,r=1;r<s;++r)i[r].s>I&&(I=i[r].s);var S=new Xo(I+1),P=Pv(t[b-1],S,0);if(P>e){var r=0,k=0,M=P-e,j=1<<M;for(i.sort(function(Re,Y){return S[Y.s]-S[Re.s]||Re.f-Y.f});r<s;++r){var J=i[r].s;if(S[J]>e)k+=j-(1<<P-S[J]),S[J]=e;else break}for(k>>=M;k>0;){var Z=i[r].s;S[Z]<e?k-=1<<e-S[Z]++-1:++r}for(;r>=0&&k;--r){var ee=i[r].s;S[ee]==e&&(--S[ee],++k)}P=e}return{t:new Ml(S),l:P}},Pv=function(n,e,t){return n.s==-1?Math.max(Pv(n.l,e,t+1),Pv(n.r,e,t+1)):e[n.s]=t},cE=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Xo(++e),r=0,s=n[0],i=1,u=function(g){t[r++]=g},d=1;d<=e;++d)if(n[d]==s&&d!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)u(32754);i>2&&(u(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(u(s),--i;i>6;i-=6)u(8304);i>2&&(u(i-3<<5|8208),i=0)}for(;i--;)u(s);i=1,s=n[d]}return{c:t.subarray(0,r),n:e}},V1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},H7=function(n,e,t){var r=t.length,s=z7(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var i=0;i<r;++i)n[s+i+4]=t[i];return(s+4+r)*8},uE=function(n,e,t,r,s,i,u,d,g,p,b){Vc(e,b++,t),++s[256];for(var _=gy(s,15),I=_.t,S=_.l,P=gy(i,15),k=P.t,M=P.l,j=cE(I),J=j.c,Z=j.n,ee=cE(k),we=ee.c,Re=ee.n,Y=new Xo(19),U=0;U<J.length;++U)++Y[J[U]&31];for(var U=0;U<we.length;++U)++Y[we[U]&31];for(var F=gy(Y,7),te=F.t,z=F.l,q=19;q>4&&!te[oE[q-1]];--q);var X=p+5<<3,be=V1(s,Wh)+V1(i,ym)+u,pe=V1(s,I)+V1(i,k)+u+14+3*q+V1(Y,te)+2*Y[16]+3*Y[17]+7*Y[18];if(g>=0&&X<=be&&X<=pe)return H7(e,b,n.subarray(g,g+p));var ge,Se,ye,De;if(Vc(e,b,1+(pe<be)),b+=2,pe<be){ge=n0(I,S,0),Se=I,ye=n0(k,M,0),De=k;var rt=n0(te,z,0);Vc(e,b,Z-257),Vc(e,b+5,Re-1),Vc(e,b+10,q-4),b+=14;for(var U=0;U<q;++U)Vc(e,b+3*U,te[oE[U]]);b+=3*q;for(var me=[J,we],$=0;$<2;++$)for(var le=me[$],U=0;U<le.length;++U){var he=le[U]&31;Vc(e,b,rt[he]),b+=te[he],he>15&&(Vc(e,b,le[U]>>5&127),b+=le[U]>>12)}}else ge=vQ,Se=Wh,ye=bQ,De=ym;for(var U=0;U<d;++U){var Ie=r[U];if(Ie>255){var he=Ie>>18&31;U1(e,b,ge[he+257]),b+=Se[he+257],he>7&&(Vc(e,b,Ie>>23&31),b+=jb[he]);var Ae=Ie&31;U1(e,b,ye[Ae]),b+=De[Ae],Ae>3&&(U1(e,b,Ie>>5&8191),b+=Fb[Ae])}else U1(e,b,ge[Ie]),b+=Se[Ie]}return U1(e,b,ge[256]),b+Se[256]},_Q=new Mb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q7=new Ml(0),AQ=function(n,e,t,r,s,i){var u=i.z||n.length,d=new Ml(r+u+5*(1+Math.ceil(u/7e3))+s),g=d.subarray(r,d.length-s),p=i.l,b=(i.r||0)&7;if(e){b&&(g[0]=i.r>>3);for(var _=_Q[e-1],I=_>>13,S=_&8191,P=(1<<t)-1,k=i.p||new Xo(32768),M=i.h||new Xo(P+1),j=Math.ceil(t/3),J=2*j,Z=function(Ut){return(n[Ut]^n[Ut+1]<<j^n[Ut+2]<<J)&P},ee=new Mb(25e3),we=new Xo(288),Re=new Xo(32),Y=0,U=0,F=i.i||0,te=0,z=i.w||0,q=0;F+2<u;++F){var X=Z(F),be=F&32767,pe=M[X];if(k[be]=pe,M[X]=be,z<=F){var ge=u-F;if((Y>7e3||te>24576)&&(ge>423||!p)){b=uE(n,g,0,ee,we,Re,U,te,q,F-q,b),te=Y=U=0,q=F;for(var Se=0;Se<286;++Se)we[Se]=0;for(var Se=0;Se<30;++Se)Re[Se]=0}var ye=2,De=0,rt=S,me=be-pe&32767;if(ge>2&&X==Z(F-me))for(var $=Math.min(I,ge)-1,le=Math.min(32767,F),he=Math.min(258,ge);me<=le&&--rt&&be!=pe;){if(n[F+ye]==n[F+ye-me]){for(var Ie=0;Ie<he&&n[F+Ie]==n[F+Ie-me];++Ie);if(Ie>ye){if(ye=Ie,De=me,Ie>$)break;for(var Ae=Math.min(me,Ie-2),Oe=0,Se=0;Se<Ae;++Se){var ze=F-me+Se&32767,We=k[ze],it=ze-We&32767;it>Oe&&(Oe=it,pe=ze)}}}be=pe,pe=k[be],me+=be-pe&32767}if(De){ee[te++]=268435456|Ov[ye]<<18|lE[De];var mt=Ov[ye]&31,Nt=lE[De]&31;U+=jb[mt]+Fb[Nt],++we[257+mt],++Re[Nt],z=F+ye,++Y}else ee[te++]=n[F],++we[n[F]]}}for(F=Math.max(F,z);F<u;++F)ee[te++]=n[F],++we[n[F]];b=uE(n,g,p,ee,we,Re,U,te,q,F-q,b),p||(i.r=b&7|g[b/8|0]<<3,b-=7,i.h=M,i.p=k,i.i=F,i.w=z)}else{for(var F=i.w||0;F<u+p;F+=65535){var vt=F+65535;vt>=u&&(g[b/8|0]=p,vt=u),b=H7(g,b+1,n.subarray(F,vt))}i.i=u}return wQ(d,0,r+z7(b)+s)},G7=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,i=t.length|0,u=0;u!=i;){for(var d=Math.min(u+2655,i);u<d;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},EQ=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),u=new Ml(i.length+n.length);u.set(i),u.set(n,i.length),n=u,s.w=i.length}return AQ(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},W7=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},CQ=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=G7();s.p(e.dictionary),W7(n,2,s.d())}};function Lv(n,e){e||(e={});var t=G7();t.p(n);var r=EQ(n,e,e.dictionary?6:2,4);return CQ(r,e),W7(r,r.length-4,t.d()),r}var SQ=typeof TextDecoder<"u"&&new TextDecoder,NQ=0;try{SQ.decode(q7,{stream:!0}),NQ=1}catch{}function TQ(n){if(Array.isArray(n))return n}function IQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,i,u,d=[],g=!0,p=!1;try{if(i=(t=t.call(n)).next,e!==0)for(;!(g=(r=i.call(t)).done)&&(d.push(r.value),d.length!==e);g=!0);}catch(b){p=!0,s=b}finally{try{if(!g&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(p)throw s}}return d}}function hE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function RQ(n,e){if(n){if(typeof n=="string")return hE(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hE(n,e):void 0}}function OQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dE(n,e){return TQ(n)||IQ(n,e)||RQ(n,e)||OQ()}function fE(n,e="utf8"){return new TextDecoder(e).decode(n)}const DQ=new TextEncoder;function PQ(n){return DQ.encode(n)}const LQ=1024*8,kQ=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),my={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=LQ,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,i=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof Bb)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=my[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===kQ&&t!=="uint8"&&t!=="int8"){const d=new Uint8Array(this.buffer.slice(s,s+r));d.reverse();const g=new my[t](d.buffer);return this.offset+=r,g.reverse(),g}const u=new my[t](i);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return fE(this.readBytes(e))}decodeText(e=1,t="utf8"){return fE(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(PQ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function n1(n){let e=n.length;for(;--e>=0;)n[e]=0}const MQ=3,jQ=258,Y7=29,FQ=256,BQ=FQ+1+Y7,X7=30,UQ=512,VQ=new Array((BQ+2)*2);n1(VQ);const zQ=new Array(X7*2);n1(zQ);const HQ=new Array(UQ);n1(HQ);const qQ=new Array(jQ-MQ+1);n1(qQ);const GQ=new Array(Y7);n1(GQ);const WQ=new Array(X7);n1(WQ);const YQ=(n,e,t,r)=>{let s=n&65535|0,i=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,i=i+s|0;while(--u);s%=65521,i%=65521}return s|i<<16|0};var kv=YQ;const XQ=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},QQ=new Uint32Array(XQ()),KQ=(n,e,t,r)=>{const s=QQ,i=r+t;n^=-1;for(let u=r;u<i;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var ec=KQ,Mv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Q7={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $Q=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var JQ=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)$Q(t,r)&&(n[r]=t[r])}}return n},ZQ=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,i=n.length;r<i;r++){let u=n[r];t.set(u,s),s+=u.length}return t},K7={assign:JQ,flattenChunks:ZQ};let $7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$7=!1}const _0=new Uint8Array(256);for(let n=0;n<256;n++)_0[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;_0[254]=_0[254]=1;var eK=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,i,u=n.length,d=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),d+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(d),i=0,s=0;i<d;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const tK=(n,e)=>{if(e<65534&&n.subarray&&$7)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var nK=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const i=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){i[s++]=u;continue}let d=_0[u];if(d>4){i[s++]=65533,r+=d-1;continue}for(u&=d===2?31:d===3?15:7;d>1&&r<t;)u=u<<6|n[r++]&63,d--;if(d>1){i[s++]=65533;continue}u<65536?i[s++]=u:(u-=65536,i[s++]=55296|u>>10&1023,i[s++]=56320|u&1023)}return tK(i,s)},rK=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+_0[n[t]]>e?t:e},jv={string2buf:eK,buf2string:nK,utf8border:rK};function sK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var aK=sK;const tg=16209,iK=16191;var oK=function(e,t){let r,s,i,u,d,g,p,b,_,I,S,P,k,M,j,J,Z,ee,we,Re,Y,U,F,te;const z=e.state;r=e.next_in,F=e.input,s=r+(e.avail_in-5),i=e.next_out,te=e.output,u=i-(t-e.avail_out),d=i+(e.avail_out-257),g=z.dmax,p=z.wsize,b=z.whave,_=z.wnext,I=z.window,S=z.hold,P=z.bits,k=z.lencode,M=z.distcode,j=(1<<z.lenbits)-1,J=(1<<z.distbits)-1;e:do{P<15&&(S+=F[r++]<<P,P+=8,S+=F[r++]<<P,P+=8),Z=k[S&j];t:for(;;){if(ee=Z>>>24,S>>>=ee,P-=ee,ee=Z>>>16&255,ee===0)te[i++]=Z&65535;else if(ee&16){we=Z&65535,ee&=15,ee&&(P<ee&&(S+=F[r++]<<P,P+=8),we+=S&(1<<ee)-1,S>>>=ee,P-=ee),P<15&&(S+=F[r++]<<P,P+=8,S+=F[r++]<<P,P+=8),Z=M[S&J];n:for(;;){if(ee=Z>>>24,S>>>=ee,P-=ee,ee=Z>>>16&255,ee&16){if(Re=Z&65535,ee&=15,P<ee&&(S+=F[r++]<<P,P+=8,P<ee&&(S+=F[r++]<<P,P+=8)),Re+=S&(1<<ee)-1,Re>g){e.msg="invalid distance too far back",z.mode=tg;break e}if(S>>>=ee,P-=ee,ee=i-u,Re>ee){if(ee=Re-ee,ee>b&&z.sane){e.msg="invalid distance too far back",z.mode=tg;break e}if(Y=0,U=I,_===0){if(Y+=p-ee,ee<we){we-=ee;do te[i++]=I[Y++];while(--ee);Y=i-Re,U=te}}else if(_<ee){if(Y+=p+_-ee,ee-=_,ee<we){we-=ee;do te[i++]=I[Y++];while(--ee);if(Y=0,_<we){ee=_,we-=ee;do te[i++]=I[Y++];while(--ee);Y=i-Re,U=te}}}else if(Y+=_-ee,ee<we){we-=ee;do te[i++]=I[Y++];while(--ee);Y=i-Re,U=te}for(;we>2;)te[i++]=U[Y++],te[i++]=U[Y++],te[i++]=U[Y++],we-=3;we&&(te[i++]=U[Y++],we>1&&(te[i++]=U[Y++]))}else{Y=i-Re;do te[i++]=te[Y++],te[i++]=te[Y++],te[i++]=te[Y++],we-=3;while(we>2);we&&(te[i++]=te[Y++],we>1&&(te[i++]=te[Y++]))}}else if((ee&64)===0){Z=M[(Z&65535)+(S&(1<<ee)-1)];continue n}else{e.msg="invalid distance code",z.mode=tg;break e}break}}else if((ee&64)===0){Z=k[(Z&65535)+(S&(1<<ee)-1)];continue t}else if(ee&32){z.mode=iK;break e}else{e.msg="invalid literal/length code",z.mode=tg;break e}break}}while(r<s&&i<d);we=P>>3,r-=we,P-=we<<3,S&=(1<<P)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<d?257+(d-i):257-(i-d),z.hold=S,z.bits=P};const Wd=15,pE=852,gE=592,mE=0,xy=1,xE=2,lK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),cK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dK=(n,e,t,r,s,i,u,d)=>{const g=d.bits;let p=0,b=0,_=0,I=0,S=0,P=0,k=0,M=0,j=0,J=0,Z,ee,we,Re,Y,U=null,F;const te=new Uint16Array(Wd+1),z=new Uint16Array(Wd+1);let q=null,X,be,pe;for(p=0;p<=Wd;p++)te[p]=0;for(b=0;b<r;b++)te[e[t+b]]++;for(S=g,I=Wd;I>=1&&te[I]===0;I--);if(S>I&&(S=I),I===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,d.bits=1,0;for(_=1;_<I&&te[_]===0;_++);for(S<_&&(S=_),M=1,p=1;p<=Wd;p++)if(M<<=1,M-=te[p],M<0)return-1;if(M>0&&(n===mE||I!==1))return-1;for(z[1]=0,p=1;p<Wd;p++)z[p+1]=z[p]+te[p];for(b=0;b<r;b++)e[t+b]!==0&&(u[z[e[t+b]]++]=b);if(n===mE?(U=q=u,F=20):n===xy?(U=lK,q=cK,F=257):(U=uK,q=hK,F=0),J=0,b=0,p=_,Y=i,P=S,k=0,we=-1,j=1<<S,Re=j-1,n===xy&&j>pE||n===xE&&j>gE)return 1;for(;;){X=p-k,u[b]+1<F?(be=0,pe=u[b]):u[b]>=F?(be=q[u[b]-F],pe=U[u[b]-F]):(be=96,pe=0),Z=1<<p-k,ee=1<<P,_=ee;do ee-=Z,s[Y+(J>>k)+ee]=X<<24|be<<16|pe|0;while(ee!==0);for(Z=1<<p-1;J&Z;)Z>>=1;if(Z!==0?(J&=Z-1,J+=Z):J=0,b++,--te[p]===0){if(p===I)break;p=e[t+u[b]]}if(p>S&&(J&Re)!==we){for(k===0&&(k=S),Y+=_,P=p-k,M=1<<P;P+k<I&&(M-=te[P+k],!(M<=0));)P++,M<<=1;if(j+=1<<P,n===xy&&j>pE||n===xE&&j>gE)return 1;we=J&Re,s[we]=S<<24|P<<16|Y-i|0}}return J!==0&&(s[Y+J]=p-k<<24|64<<16|0),d.bits=S,0};var r0=dK;const fK=0,J7=1,Z7=2,{Z_FINISH:yE,Z_BLOCK:pK,Z_TREES:ng,Z_OK:Yh,Z_STREAM_END:gK,Z_NEED_DICT:mK,Z_STREAM_ERROR:hl,Z_DATA_ERROR:eI,Z_MEM_ERROR:tI,Z_BUF_ERROR:xK,Z_DEFLATED:vE}=Q7,v2=16180,bE=16181,wE=16182,_E=16183,AE=16184,EE=16185,CE=16186,SE=16187,NE=16188,TE=16189,vm=16190,zc=16191,yy=16192,IE=16193,vy=16194,RE=16195,OE=16196,DE=16197,PE=16198,rg=16199,sg=16200,LE=16201,kE=16202,ME=16203,jE=16204,FE=16205,by=16206,BE=16207,UE=16208,Qs=16209,nI=16210,rI=16211,yK=852,vK=592,bK=15,wK=bK,VE=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function _K(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const od=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<v2||e.mode>rI?1:0},sI=n=>{if(od(n))return hl;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=v2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(yK),e.distcode=e.distdyn=new Int32Array(vK),e.sane=1,e.back=-1,Yh},aI=n=>{if(od(n))return hl;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,sI(n)},iI=(n,e)=>{let t;if(od(n))return hl;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,aI(n))},oI=(n,e)=>{if(!n)return hl;const t=new _K;n.state=t,t.strm=n,t.window=null,t.mode=v2;const r=iI(n,e);return r!==Yh&&(n.state=null),r},AK=n=>oI(n,wK);let zE=!0,wy,_y;const EK=n=>{if(zE){wy=new Int32Array(512),_y=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(r0(J7,n.lens,0,288,wy,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;r0(Z7,n.lens,0,32,_y,0,n.work,{bits:5}),zE=!1}n.lencode=wy,n.lenbits=9,n.distcode=_y,n.distbits=5},lI=(n,e,t,r)=>{let s;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(t-r,t-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},CK=(n,e)=>{let t,r,s,i,u,d,g,p,b,_,I,S,P,k,M=0,j,J,Z,ee,we,Re,Y,U;const F=new Uint8Array(4);let te,z;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(od(n)||!n.output||!n.input&&n.avail_in!==0)return hl;t=n.state,t.mode===zc&&(t.mode=yy),u=n.next_out,s=n.output,g=n.avail_out,i=n.next_in,r=n.input,d=n.avail_in,p=t.hold,b=t.bits,_=d,I=g,U=Yh;e:for(;;)switch(t.mode){case v2:if(t.wrap===0){t.mode=yy;break}for(;b<16;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(t.wrap&2&&p===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=p&255,F[1]=p>>>8&255,t.check=ec(t.check,F,2,0),p=0,b=0,t.mode=bE;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((p&255)<<8)+(p>>8))%31){n.msg="incorrect header check",t.mode=Qs;break}if((p&15)!==vE){n.msg="unknown compression method",t.mode=Qs;break}if(p>>>=4,b-=4,Y=(p&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){n.msg="invalid window size",t.mode=Qs;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=p&512?TE:zc,p=0,b=0;break;case bE:for(;b<16;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(t.flags=p,(t.flags&255)!==vE){n.msg="unknown compression method",t.mode=Qs;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Qs;break}t.head&&(t.head.text=p>>8&1),t.flags&512&&t.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,t.check=ec(t.check,F,2,0)),p=0,b=0,t.mode=wE;case wE:for(;b<32;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.head&&(t.head.time=p),t.flags&512&&t.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,F[2]=p>>>16&255,F[3]=p>>>24&255,t.check=ec(t.check,F,4,0)),p=0,b=0,t.mode=_E;case _E:for(;b<16;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.head&&(t.head.xflags=p&255,t.head.os=p>>8),t.flags&512&&t.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,t.check=ec(t.check,F,2,0)),p=0,b=0,t.mode=AE;case AE:if(t.flags&1024){for(;b<16;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.length=p,t.head&&(t.head.extra_len=p),t.flags&512&&t.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,t.check=ec(t.check,F,2,0)),p=0,b=0}else t.head&&(t.head.extra=null);t.mode=EE;case EE:if(t.flags&1024&&(S=t.length,S>d&&(S=d),S&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+S),Y)),t.flags&512&&t.wrap&4&&(t.check=ec(t.check,r,S,i)),d-=S,i+=S,t.length-=S),t.length))break e;t.length=0,t.mode=CE;case CE:if(t.flags&2048){if(d===0)break e;S=0;do Y=r[i+S++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&S<d);if(t.flags&512&&t.wrap&4&&(t.check=ec(t.check,r,S,i)),d-=S,i+=S,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=SE;case SE:if(t.flags&4096){if(d===0)break e;S=0;do Y=r[i+S++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&S<d);if(t.flags&512&&t.wrap&4&&(t.check=ec(t.check,r,S,i)),d-=S,i+=S,Y)break e}else t.head&&(t.head.comment=null);t.mode=NE;case NE:if(t.flags&512){for(;b<16;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(t.wrap&4&&p!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Qs;break}p=0,b=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=zc;break;case TE:for(;b<32;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}n.adler=t.check=VE(p),p=0,b=0,t.mode=vm;case vm:if(t.havedict===0)return n.next_out=u,n.avail_out=g,n.next_in=i,n.avail_in=d,t.hold=p,t.bits=b,mK;n.adler=t.check=1,t.mode=zc;case zc:if(e===pK||e===ng)break e;case yy:if(t.last){p>>>=b&7,b-=b&7,t.mode=by;break}for(;b<3;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}switch(t.last=p&1,p>>>=1,b-=1,p&3){case 0:t.mode=IE;break;case 1:if(EK(t),t.mode=rg,e===ng){p>>>=2,b-=2;break e}break;case 2:t.mode=OE;break;case 3:n.msg="invalid block type",t.mode=Qs}p>>>=2,b-=2;break;case IE:for(p>>>=b&7,b-=b&7;b<32;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if((p&65535)!==(p>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Qs;break}if(t.length=p&65535,p=0,b=0,t.mode=vy,e===ng)break e;case vy:t.mode=RE;case RE:if(S=t.length,S){if(S>d&&(S=d),S>g&&(S=g),S===0)break e;s.set(r.subarray(i,i+S),u),d-=S,i+=S,g-=S,u+=S,t.length-=S;break}t.mode=zc;break;case OE:for(;b<14;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(t.nlen=(p&31)+257,p>>>=5,b-=5,t.ndist=(p&31)+1,p>>>=5,b-=5,t.ncode=(p&15)+4,p>>>=4,b-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Qs;break}t.have=0,t.mode=DE;case DE:for(;t.have<t.ncode;){for(;b<3;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.lens[q[t.have++]]=p&7,p>>>=3,b-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,te={bits:t.lenbits},U=r0(fK,t.lens,0,19,t.lencode,0,t.work,te),t.lenbits=te.bits,U){n.msg="invalid code lengths set",t.mode=Qs;break}t.have=0,t.mode=PE;case PE:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[p&(1<<t.lenbits)-1],j=M>>>24,J=M>>>16&255,Z=M&65535,!(j<=b);){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(Z<16)p>>>=j,b-=j,t.lens[t.have++]=Z;else{if(Z===16){for(z=j+2;b<z;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(p>>>=j,b-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=Qs;break}Y=t.lens[t.have-1],S=3+(p&3),p>>>=2,b-=2}else if(Z===17){for(z=j+3;b<z;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}p>>>=j,b-=j,Y=0,S=3+(p&7),p>>>=3,b-=3}else{for(z=j+7;b<z;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}p>>>=j,b-=j,Y=0,S=11+(p&127),p>>>=7,b-=7}if(t.have+S>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Qs;break}for(;S--;)t.lens[t.have++]=Y}}if(t.mode===Qs)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Qs;break}if(t.lenbits=9,te={bits:t.lenbits},U=r0(J7,t.lens,0,t.nlen,t.lencode,0,t.work,te),t.lenbits=te.bits,U){n.msg="invalid literal/lengths set",t.mode=Qs;break}if(t.distbits=6,t.distcode=t.distdyn,te={bits:t.distbits},U=r0(Z7,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,te),t.distbits=te.bits,U){n.msg="invalid distances set",t.mode=Qs;break}if(t.mode=rg,e===ng)break e;case rg:t.mode=sg;case sg:if(d>=6&&g>=258){n.next_out=u,n.avail_out=g,n.next_in=i,n.avail_in=d,t.hold=p,t.bits=b,oK(n,I),u=n.next_out,s=n.output,g=n.avail_out,i=n.next_in,r=n.input,d=n.avail_in,p=t.hold,b=t.bits,t.mode===zc&&(t.back=-1);break}for(t.back=0;M=t.lencode[p&(1<<t.lenbits)-1],j=M>>>24,J=M>>>16&255,Z=M&65535,!(j<=b);){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(J&&(J&240)===0){for(ee=j,we=J,Re=Z;M=t.lencode[Re+((p&(1<<ee+we)-1)>>ee)],j=M>>>24,J=M>>>16&255,Z=M&65535,!(ee+j<=b);){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}p>>>=ee,b-=ee,t.back+=ee}if(p>>>=j,b-=j,t.back+=j,t.length=Z,J===0){t.mode=FE;break}if(J&32){t.back=-1,t.mode=zc;break}if(J&64){n.msg="invalid literal/length code",t.mode=Qs;break}t.extra=J&15,t.mode=LE;case LE:if(t.extra){for(z=t.extra;b<z;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.length+=p&(1<<t.extra)-1,p>>>=t.extra,b-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=kE;case kE:for(;M=t.distcode[p&(1<<t.distbits)-1],j=M>>>24,J=M>>>16&255,Z=M&65535,!(j<=b);){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if((J&240)===0){for(ee=j,we=J,Re=Z;M=t.distcode[Re+((p&(1<<ee+we)-1)>>ee)],j=M>>>24,J=M>>>16&255,Z=M&65535,!(ee+j<=b);){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}p>>>=ee,b-=ee,t.back+=ee}if(p>>>=j,b-=j,t.back+=j,J&64){n.msg="invalid distance code",t.mode=Qs;break}t.offset=Z,t.extra=J&15,t.mode=ME;case ME:if(t.extra){for(z=t.extra;b<z;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}t.offset+=p&(1<<t.extra)-1,p>>>=t.extra,b-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Qs;break}t.mode=jE;case jE:if(g===0)break e;if(S=I-g,t.offset>S){if(S=t.offset-S,S>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Qs;break}S>t.wnext?(S-=t.wnext,P=t.wsize-S):P=t.wnext-S,S>t.length&&(S=t.length),k=t.window}else k=s,P=u-t.offset,S=t.length;S>g&&(S=g),g-=S,t.length-=S;do s[u++]=k[P++];while(--S);t.length===0&&(t.mode=sg);break;case FE:if(g===0)break e;s[u++]=t.length,g--,t.mode=sg;break;case by:if(t.wrap){for(;b<32;){if(d===0)break e;d--,p|=r[i++]<<b,b+=8}if(I-=g,n.total_out+=I,t.total+=I,t.wrap&4&&I&&(n.adler=t.check=t.flags?ec(t.check,s,I,u-I):kv(t.check,s,I,u-I)),I=g,t.wrap&4&&(t.flags?p:VE(p))!==t.check){n.msg="incorrect data check",t.mode=Qs;break}p=0,b=0}t.mode=BE;case BE:if(t.wrap&&t.flags){for(;b<32;){if(d===0)break e;d--,p+=r[i++]<<b,b+=8}if(t.wrap&4&&p!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Qs;break}p=0,b=0}t.mode=UE;case UE:U=gK;break e;case Qs:U=eI;break e;case nI:return tI;case rI:default:return hl}return n.next_out=u,n.avail_out=g,n.next_in=i,n.avail_in=d,t.hold=p,t.bits=b,(t.wsize||I!==n.avail_out&&t.mode<Qs&&(t.mode<by||e!==yE))&&lI(n,n.output,n.next_out,I-n.avail_out),_-=n.avail_in,I-=n.avail_out,n.total_in+=_,n.total_out+=I,t.total+=I,t.wrap&4&&I&&(n.adler=t.check=t.flags?ec(t.check,s,I,n.next_out-I):kv(t.check,s,I,n.next_out-I)),n.data_type=t.bits+(t.last?64:0)+(t.mode===zc?128:0)+(t.mode===rg||t.mode===vy?256:0),(_===0&&I===0||e===yE)&&U===Yh&&(U=xK),U},SK=n=>{if(od(n))return hl;let e=n.state;return e.window&&(e.window=null),n.state=null,Yh},NK=(n,e)=>{if(od(n))return hl;const t=n.state;return(t.wrap&2)===0?hl:(t.head=e,e.done=!1,Yh)},TK=(n,e)=>{const t=e.length;let r,s,i;return od(n)||(r=n.state,r.wrap!==0&&r.mode!==vm)?hl:r.mode===vm&&(s=1,s=kv(s,e,t,0),s!==r.check)?eI:(i=lI(n,e,t,t),i?(r.mode=nI,tI):(r.havedict=1,Yh))};var IK=aI,RK=iI,OK=sI,DK=AK,PK=oI,LK=CK,kK=SK,MK=NK,jK=TK,FK="pako inflate (from Nodeca project)",qc={inflateReset:IK,inflateReset2:RK,inflateResetKeep:OK,inflateInit:DK,inflateInit2:PK,inflate:LK,inflateEnd:kK,inflateGetHeader:MK,inflateSetDictionary:jK,inflateInfo:FK};function BK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var UK=BK;const cI=Object.prototype.toString,{Z_NO_FLUSH:VK,Z_FINISH:zK,Z_OK:A0,Z_STREAM_END:Ay,Z_NEED_DICT:Ey,Z_STREAM_ERROR:HK,Z_DATA_ERROR:HE,Z_MEM_ERROR:qK}=Q7;function G0(n){this.options=K7.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aK,this.strm.avail_out=0;let t=qc.inflateInit2(this.strm,e.windowBits);if(t!==A0)throw new Error(Mv[t]);if(this.header=new UK,qc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=jv.string2buf(e.dictionary):cI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=qc.inflateSetDictionary(this.strm,e.dictionary),t!==A0)))throw new Error(Mv[t])}G0.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,u,d;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?zK:VK,cI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=qc.inflate(t,u),i===Ey&&s&&(i=qc.inflateSetDictionary(t,s),i===A0?i=qc.inflate(t,u):i===HE&&(i=Ey));t.avail_in>0&&i===Ay&&t.state.wrap>0&&n[t.next_in]!==0;)qc.inflateReset(t),i=qc.inflate(t,u);switch(i){case HK:case HE:case Ey:case qK:return this.onEnd(i),this.ended=!0,!1}if(d=t.avail_out,t.next_out&&(t.avail_out===0||i===Ay))if(this.options.to==="string"){let g=jv.utf8border(t.output,t.next_out),p=t.next_out-g,b=jv.buf2string(t.output,g);t.next_out=p,t.avail_out=r-p,p&&t.output.set(t.output.subarray(g,g+p),0),this.onData(b)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===A0&&d===0)){if(i===Ay)return i=qc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};G0.prototype.onData=function(n){this.chunks.push(n)};G0.prototype.onEnd=function(n){n===A0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=K7.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function GK(n,e){const t=new G0(e);if(t.push(n),t.err)throw t.msg||Mv[t.err];return t.result}var WK=G0,YK=GK,XK={Inflate:WK,inflate:YK};const{Inflate:QK,inflate:KK}=XK;var qE=QK,$K=KK;const uI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;uI[n]=e}const GE=4294967295;function JK(n,e,t){let r=n;for(let s=0;s<t;s++)r=uI[(r^e[s])&255]^r>>>8;return r}function ZK(n,e){return(JK(GE,n,e)^GE)>>>0}function WE(n,e,t){const r=n.readUint32(),s=ZK(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function hI(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function dI(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function fI(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function pI(n,e,t,r,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=n[i];for(;i<r;i++)e[i]=n[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=n[i]+(t[i]>>1)&255;for(;i<r;i++)e[i]=n[i]+(e[i-s]+t[i]>>1)&255}}function gI(n,e,t,r,s){let i=0;if(t.length===0){for(;i<s;i++)e[i]=n[i];for(;i<r;i++)e[i]=n[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=n[i]+t[i]&255;for(;i<r;i++)e[i]=n[i]+e$(e[i-s],t[i],t[i-s])&255}}function e$(n,e,t){const r=n+e-t,s=Math.abs(r-n),i=Math.abs(r-e),u=Math.abs(r-t);return s<=i&&s<=u?n:i<=u?e:t}function t$(n,e,t,r,s,i){switch(n){case 0:hI(e,t,s);break;case 1:dI(e,t,s,i);break;case 2:fI(e,t,r,s);break;case 3:pI(e,t,r,s,i);break;case 4:gI(e,t,r,s,i);break;default:throw new Error(`Unsupported filter: ${n}`)}}const n$=new Uint16Array([255]),r$=new Uint8Array(n$.buffer),s$=r$[0]===255;function a$(n){const{data:e,width:t,height:r,channels:s,depth:i}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(i/8)*s,g=new Uint8Array(r*t*d);let p=0;for(let b=0;b<7;b++){const _=u[b],I=Math.ceil((t-_.x)/_.xStep),S=Math.ceil((r-_.y)/_.yStep);if(I<=0||S<=0)continue;const P=I*d,k=new Uint8Array(P);for(let M=0;M<S;M++){const j=e[p++],J=e.subarray(p,p+P);p+=P;const Z=new Uint8Array(P);t$(j,J,Z,k,P,d),k.set(Z);for(let ee=0;ee<I;ee++){const we=_.x+ee*_.xStep,Re=_.y+M*_.yStep;if(!(we>=t||Re>=r))for(let Y=0;Y<d;Y++)g[(Re*t+we)*d+Y]=Z[ee*d+Y]}}}if(i===16){const b=new Uint16Array(g.buffer);if(s$)for(let _=0;_<b.length;_++)b[_]=i$(b[_]);return b}else return g}function i$(n){return(n&255)<<8|n>>8&255}const o$=new Uint16Array([255]),l$=new Uint8Array(o$.buffer),c$=l$[0]===255,u$=new Uint8Array(0);function YE(n){const{data:e,width:t,height:r,channels:s,depth:i}=n,u=Math.ceil(i/8)*s,d=Math.ceil(i/8*s*t),g=new Uint8Array(r*d);let p=u$,b=0,_,I;for(let S=0;S<r;S++){switch(_=e.subarray(b+1,b+1+d),I=g.subarray(S*d,(S+1)*d),e[b]){case 0:hI(_,I,d);break;case 1:dI(_,I,d,u);break;case 2:fI(_,I,p,d);break;case 3:pI(_,I,p,d,u);break;case 4:gI(_,I,p,d,u);break;default:throw new Error(`Unsupported filter: ${e[b]}`)}p=I,b+=d+1}if(i===16){const S=new Uint16Array(g.buffer);if(c$)for(let P=0;P<S.length;P++)S[P]=h$(S[P]);return S}else return g}function h$(n){return(n&255)<<8|n>>8&255}const Sg=Uint8Array.of(137,80,78,71,13,10,26,10);function XE(n){if(!d$(n.readBytes(Sg.length)))throw new Error("wrong PNG signature")}function d$(n){if(n.length<Sg.length)return!1;for(let e=0;e<Sg.length;e++)if(n[e]!==Sg[e])return!1;return!0}const f$="tEXt",p$=0,mI=new TextDecoder("latin1");function g$(n){if(x$(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const m$=/^[\u0000-\u00FF]*$/;function x$(n){if(!m$.test(n))throw new Error("invalid latin1 text")}function y$(n,e,t){const r=xI(e);n[r]=v$(e,t-r.length-1)}function xI(n){for(n.mark();n.readByte()!==p$;);const e=n.offset;n.reset();const t=mI.decode(n.readBytes(e-n.offset-1));return n.skip(1),g$(t),t}function v$(n,e){return mI.decode(n.readBytes(e))}const Vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Cy={UNKNOWN:-1,DEFLATE:0},QE={UNKNOWN:-1,ADAPTIVE:0},Sy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ag={NONE:0,BACKGROUND:1,PREVIOUS:2},Ny={SOURCE:0,OVER:1};class b$ extends Bb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new qE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Cy.UNKNOWN,this._filterMethod=QE.UNKNOWN,this._interlaceMethod=Sy.UNKNOWN,this._colorType=Vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(XE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(XE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case f$:y$(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?WE(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?WE(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=w$(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Vo.GREYSCALE:r=1;break;case Vo.TRUECOLOUR:r=3;break;case Vo.INDEXED_COLOUR:r=1;break;case Vo.GREYSCALE_ALPHA:r=2;break;case Vo.TRUECOLOUR_ALPHA:r=4;break;case Vo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Cy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<t;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Vo.GREYSCALE:case Vo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Vo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Vo.UNKNOWN:case Vo.GREYSCALE_ALPHA:case Vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=xI(this),r=this.readUint8();if(r!==Cy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:$K(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=YE({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case ag.NONE:break;case ag.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const u=(s*e.width+i)*this._png.channels;for(let d=0;d<this._png.channels;d++)r.data[u+d]=0}break;case ag.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,s=(i,u)=>{const d=((i+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,g=(i*t.width+u)*this._png.channels;return{index:d,frameIndex:g}};switch(t.blendOp){case Ny.SOURCE:for(let i=0;i<t.height;i++)for(let u=0;u<t.width;u++){const{index:d,frameIndex:g}=s(i,u);for(let p=0;p<this._png.channels;p++)e.data[d+p]=t.data[g+p]}break;case Ny.OVER:for(let i=0;i<t.height;i++)for(let u=0;u<t.width;u++){const{index:d,frameIndex:g}=s(i,u);for(let p=0;p<this._png.channels;p++){const b=t.data[g+this._png.channels-1]/r,_=p%(this._png.channels-1)===0?1:t.data[g+p],I=Math.floor(b*_+(1-b)*e.data[d+p]);e.data[d+p]+=I}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==QE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sy.NO_INTERLACE)this._png.data=YE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sy.ADAM7)this._png.data=a$({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ag.NONE,blendOp:Ny.SOURCE,data:e}),this._inflator=new qE,this._writingDataChunks=!1}}function w$(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var KE;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(KE||(KE={}));function _$(n,e){return new b$(n,e).decode()}var Hn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ty(){Hn.console&&typeof Hn.console.log=="function"&&Hn.console.log.apply(Hn.console,arguments)}var As={log:Ty,warn:function(n){Hn.console&&(typeof Hn.console.warn=="function"?Hn.console.warn.apply(Hn.console,arguments):Ty.call(null,arguments))},error:function(n){Hn.console&&(typeof Hn.console.error=="function"?Hn.console.error.apply(Hn.console,arguments):Ty(n))}};function Iy(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ih(r.response,e,t)},r.onerror=function(){As.error("could not download file")},r.send()}function $E(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ig(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ih=Hn.saveAs||((typeof window>"u"?"undefined":ls(window))!=="object"||window!==Hn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Hn.URL||Hn.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?$E(s.href)?Iy(n,e,t):ig(s,s.target="_blank"):ig(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){ig(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if($E(n))Iy(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){ig(r)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:ls(i)!=="object"&&(As.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Iy(n,e,t);var s=n.type==="application/octet-stream",i=/constructor/i.test(Hn.HTMLElement)||Hn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&i)&&(typeof FileReader>"u"?"undefined":ls(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var b=d.result;b=u?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=b:location=b,r=null},d.readAsDataURL(n)}else{var g=Hn.URL||Hn.webkitURL,p=g.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){g.revokeObjectURL(p)},4e4)}});function yI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,i=t[r].process,u=s.exec(n);u&&(e=i(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),g=this.g.toString(16),p=this.b.toString(16);return d.length==1&&(d="0"+d),g.length==1&&(g="0"+g),p.length==1&&(p="0"+p),"#"+d+g+p}}var Ng=Hn.atob.bind(Hn),JE=Hn.btoa.bind(Hn);function Ry(n,e){var t=n[0],r=n[1],s=n[2],i=n[3];t=Ki(t,r,s,i,e[0],7,-680876936),i=Ki(i,t,r,s,e[1],12,-389564586),s=Ki(s,i,t,r,e[2],17,606105819),r=Ki(r,s,i,t,e[3],22,-1044525330),t=Ki(t,r,s,i,e[4],7,-176418897),i=Ki(i,t,r,s,e[5],12,1200080426),s=Ki(s,i,t,r,e[6],17,-1473231341),r=Ki(r,s,i,t,e[7],22,-45705983),t=Ki(t,r,s,i,e[8],7,1770035416),i=Ki(i,t,r,s,e[9],12,-1958414417),s=Ki(s,i,t,r,e[10],17,-42063),r=Ki(r,s,i,t,e[11],22,-1990404162),t=Ki(t,r,s,i,e[12],7,1804603682),i=Ki(i,t,r,s,e[13],12,-40341101),s=Ki(s,i,t,r,e[14],17,-1502002290),t=$i(t,r=Ki(r,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=$i(i,t,r,s,e[6],9,-1069501632),s=$i(s,i,t,r,e[11],14,643717713),r=$i(r,s,i,t,e[0],20,-373897302),t=$i(t,r,s,i,e[5],5,-701558691),i=$i(i,t,r,s,e[10],9,38016083),s=$i(s,i,t,r,e[15],14,-660478335),r=$i(r,s,i,t,e[4],20,-405537848),t=$i(t,r,s,i,e[9],5,568446438),i=$i(i,t,r,s,e[14],9,-1019803690),s=$i(s,i,t,r,e[3],14,-187363961),r=$i(r,s,i,t,e[8],20,1163531501),t=$i(t,r,s,i,e[13],5,-1444681467),i=$i(i,t,r,s,e[2],9,-51403784),s=$i(s,i,t,r,e[7],14,1735328473),t=Ji(t,r=$i(r,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Ji(i,t,r,s,e[8],11,-2022574463),s=Ji(s,i,t,r,e[11],16,1839030562),r=Ji(r,s,i,t,e[14],23,-35309556),t=Ji(t,r,s,i,e[1],4,-1530992060),i=Ji(i,t,r,s,e[4],11,1272893353),s=Ji(s,i,t,r,e[7],16,-155497632),r=Ji(r,s,i,t,e[10],23,-1094730640),t=Ji(t,r,s,i,e[13],4,681279174),i=Ji(i,t,r,s,e[0],11,-358537222),s=Ji(s,i,t,r,e[3],16,-722521979),r=Ji(r,s,i,t,e[6],23,76029189),t=Ji(t,r,s,i,e[9],4,-640364487),i=Ji(i,t,r,s,e[12],11,-421815835),s=Ji(s,i,t,r,e[15],16,530742520),t=Zi(t,r=Ji(r,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Zi(i,t,r,s,e[7],10,1126891415),s=Zi(s,i,t,r,e[14],15,-1416354905),r=Zi(r,s,i,t,e[5],21,-57434055),t=Zi(t,r,s,i,e[12],6,1700485571),i=Zi(i,t,r,s,e[3],10,-1894986606),s=Zi(s,i,t,r,e[10],15,-1051523),r=Zi(r,s,i,t,e[1],21,-2054922799),t=Zi(t,r,s,i,e[8],6,1873313359),i=Zi(i,t,r,s,e[15],10,-30611744),s=Zi(s,i,t,r,e[6],15,-1560198380),r=Zi(r,s,i,t,e[13],21,1309151649),t=Zi(t,r,s,i,e[4],6,-145523070),i=Zi(i,t,r,s,e[11],10,-1120210379),s=Zi(s,i,t,r,e[2],15,718787259),r=Zi(r,s,i,t,e[9],21,-343485551),n[0]=qu(t,n[0]),n[1]=qu(r,n[1]),n[2]=qu(s,n[2]),n[3]=qu(i,n[3])}function b2(n,e,t,r,s,i){return e=qu(qu(e,n),qu(r,i)),qu(e<<s|e>>>32-s,t)}function Ki(n,e,t,r,s,i,u){return b2(e&t|~e&r,n,e,s,i,u)}function $i(n,e,t,r,s,i,u){return b2(e&r|t&~r,n,e,s,i,u)}function Ji(n,e,t,r,s,i,u){return b2(e^t^r,n,e,s,i,u)}function Zi(n,e,t,r,s,i,u){return b2(t^(e|~r),n,e,s,i,u)}function vI(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Ry(r,A$(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Ry(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Ry(r,s),r}function A$(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var ZE="0123456789abcdef".split("");function E$(n){for(var e="",t=0;t<4;t++)e+=ZE[n>>8*t+4&15]+ZE[n>>8*t&15];return e}function C$(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Fv(n){return vI(n).map(C$).join("")}var S$=(function(n){for(var e=0;e<n.length;e++)n[e]=E$(n[e]);return n.join("")})(vI("hello"))!="5d41402abc4b2a76b9719d911017c592";function qu(n,e){if(S$){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Bv(n,e){var t,r,s,i;if(n!==t){for(var u=(s=n,i=1+(256/n.length|0),new Array(i+1).join(s)),d=[],g=0;g<256;g++)d[g]=g;var p=0;for(g=0;g<256;g++){var b=d[g];p=(p+b+u.charCodeAt(g))%256,d[g]=d[p],d[p]=b}t=n,r=d}else d=r;var _=e.length,I=0,S=0,P="";for(g=0;g<_;g++)S=(S+(b=d[I=(I+1)%256]))%256,d[I]=d[S],d[S]=b,u=d[(d[I]+d[S])%256],P+=String.fromCharCode(e.charCodeAt(g)^u);return P}var eC={print:4,modify:8,copy:16,"annot-forms":32};function Zd(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(d){if(eC.perm!==void 0)throw new Error("Invalid permission: "+d);s+=eC[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,u),this.P=-(1+(255^s)),this.encryptionKey=Fv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Bv(this.encryptionKey,this.padding)}function ef(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function tC(n){if(ls(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!s],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var u=e[t][i];try{u[0].apply(n,r)}catch(d){Hn.console&&As.error("jsPDF PubSub Error",d.message,d)}u[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bm(n){if(!(this instanceof bm))return new bm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function bI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Rh(n,e,t,r,s){if(!(this instanceof Rh))return new Rh(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,bI.call(this,r,s)}function rf(n,e,t,r,s){if(!(this instanceof rf))return new rf(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,bI.call(this,r,s)}function fn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],u=[],d=1,g=16,p="S",b=null;ls(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,i=n.compress||n.compressPdf||i,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(g=n.floatPrecision),p=n.defaultPathOperation||"S"),u=n.filters||(i===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,I={},S={internal:{},__private__:{}};S.__private__.PubSub=tC;var P="1.3",k=S.__private__.getPdfVersion=function(){return P};S.__private__.setPdfVersion=function(D){P=D};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};S.__private__.getPageFormats=function(){return M};var j=S.__private__.getPageFormat=function(D){return M[D]};s=s||"a4";var J="compat",Z="advanced",ee=J;function we(){this.saveGraphicsState(),ve(new on(jn,0,0,-jn,0,Di()*jn).toString()+" cm"),this.setFontSize(this.getFontSize()/jn),p="n",ee=Z}function Re(){this.restoreGraphicsState(),p="S",ee=J}var Y=S.__private__.combineFontStyleAndFontWeight=function(D,ne){if(D=="bold"&&ne=="normal"||D=="bold"&&ne==400||D=="normal"&&ne=="italic"||D=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(D=ne==400||ne==="normal"?D==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||D!=="normal"?(ne==700?"bold":ne)+""+D:"bold"),D};S.advancedAPI=function(D){var ne=ee===J;return ne&&we.call(this),typeof D!="function"||(D(this),ne&&Re.call(this)),this},S.compatAPI=function(D){var ne=ee===Z;return ne&&Re.call(this),typeof D!="function"||(D(this),ne&&we.call(this)),this},S.isAdvancedAPI=function(){return ee===Z};var U,F=function(D){if(ee!==Z)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=S.roundToPrecision=S.__private__.roundToPrecision=function(D,ne){var Ce=e||ne;if(isNaN(D)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ce).replace(/0+$/,"")};U=S.hpf=S.__private__.hpf=typeof g=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return te(D,g)}:g==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return te(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return te(D,16)};var z=S.f2=S.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return te(D,2)},q=S.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return te(D,3)},X=S.scale=S.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return ee===J?D*jn:ee===Z?D:void 0},be=function(D){return X((function(ne){return ee===J?Di()-ne:ee===Z?ne:void 0})(D))};S.__private__.setPrecision=S.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var pe,ge="00000000000000000000000000000000",Se=S.__private__.getFileId=function(){return ge},ye=S.__private__.setFileId=function(D){return ge=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(Lr=new Zd(b.userPermissions,b.userPassword,b.ownerPassword,ge)),ge};S.setFileId=function(D){return ye(D),this},S.getFileId=function(){return Se()};var De=S.__private__.convertDateToPDFDate=function(D){var ne=D.getTimezoneOffset(),Ce=ne<0?"+":"-",ke=Math.floor(Math.abs(ne/60)),Ue=Math.abs(ne%60),ut=[Ce,he(ke),"'",he(Ue),"'"].join("");return["D:",D.getFullYear(),he(D.getMonth()+1),he(D.getDate()),he(D.getHours()),he(D.getMinutes()),he(D.getSeconds()),ut].join("")},rt=S.__private__.convertPDFDateToDate=function(D){var ne=parseInt(D.substr(2,4),10),Ce=parseInt(D.substr(6,2),10)-1,ke=parseInt(D.substr(8,2),10),Ue=parseInt(D.substr(10,2),10),ut=parseInt(D.substr(12,2),10),_t=parseInt(D.substr(14,2),10);return new Date(ne,Ce,ke,Ue,ut,_t,0)},me=S.__private__.setCreationDate=function(D){var ne;if(D===void 0&&(D=new Date),D instanceof Date)ne=De(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=D}return pe=ne},$=S.__private__.getCreationDate=function(D){var ne=pe;return D==="jsDate"&&(ne=rt(pe)),ne};S.setCreationDate=function(D){return me(D),this},S.getCreationDate=function(D){return $(D)};var le,he=S.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Ie=S.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Ae=0,Oe=[],ze=[],We=0,it=[],mt=[],Nt=!1,vt=ze;S.__private__.setCustomOutputDestination=function(D){Nt=!0,vt=D};var Ut=function(D){Nt||(vt=D)};S.__private__.resetCustomOutputDestination=function(){Nt=!1,vt=ze};var ve=S.__private__.out=function(D){return D=D.toString(),We+=D.length+1,vt.push(D),vt},Tt=S.__private__.write=function(D){return ve(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},Zt=S.__private__.getArrayBuffer=function(D){for(var ne=D.length,Ce=new ArrayBuffer(ne),ke=new Uint8Array(Ce);ne--;)ke[ne]=D.charCodeAt(ne);return Ce},Ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];S.__private__.getStandardFonts=function(){return Ot};var et=n.fontSize||16;S.__private__.setFontSize=S.setFontSize=function(D){return et=ee===Z?D/jn:D,this};var jt,ot=S.__private__.getFontSize=S.getFontSize=function(){return ee===J?et:et*jn},pn=n.R2L||!1;S.__private__.setR2L=S.setR2L=function(D){return pn=D,this},S.__private__.getR2L=S.getR2L=function(){return pn};var un,Cn=S.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))jt=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');jt=D}else jt=parseInt(D,10)};S.__private__.getZoomMode=function(){return jt};var Vn,gn=S.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');un=D};S.__private__.getPageMode=function(){return un};var Xn=S.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Vn=D};S.__private__.getLayoutMode=function(){return Vn},S.__private__.setDisplayMode=S.setDisplayMode=function(D,ne,Ce){return Cn(D),Xn(ne),gn(Ce),this};var Dn={title:"",subject:"",author:"",keywords:"",creator:""};S.__private__.getDocumentProperty=function(D){if(Object.keys(Dn).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dn[D]},S.__private__.getDocumentProperties=function(){return Dn},S.__private__.setDocumentProperties=S.setProperties=S.setDocumentProperties=function(D){for(var ne in Dn)Dn.hasOwnProperty(ne)&&D[ne]&&(Dn[ne]=D[ne]);return this},S.__private__.setDocumentProperty=function(D,ne){if(Object.keys(Dn).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dn[D]=ne};var Mt,jn,Yt,cs,Kt,at={},Vt={},Bt=[],Lt={},dr={},wn={},En={},en=null,Xt=0,tn=[],Qn=new tC(S),Gr=n.hotfixes||[],Vs={},Wr={},us=[],on=function D(ne,Ce,ke,Ue,ut,_t){if(!(this instanceof D))return new D(ne,Ce,ke,Ue,ut,_t);isNaN(ne)&&(ne=1),isNaN(Ce)&&(Ce=0),isNaN(ke)&&(ke=0),isNaN(Ue)&&(Ue=1),isNaN(ut)&&(ut=0),isNaN(_t)&&(_t=0),this._matrix=[ne,Ce,ke,Ue,ut,_t]};Object.defineProperty(on.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(on.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(on.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(on.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(on.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(on.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(on.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(on.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(on.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(on.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(on.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(on.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(on.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(on.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(on.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(on.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),on.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(D)},on.prototype.multiply=function(D){var ne=D.sx*this.sx+D.shy*this.shx,Ce=D.sx*this.shy+D.shy*this.sy,ke=D.shx*this.sx+D.sy*this.shx,Ue=D.shx*this.shy+D.sy*this.sy,ut=D.tx*this.sx+D.ty*this.shx+this.tx,_t=D.tx*this.shy+D.ty*this.sy+this.ty;return new on(ne,Ce,ke,Ue,ut,_t)},on.prototype.decompose=function(){var D=this.sx,ne=this.shy,Ce=this.shx,ke=this.sy,Ue=this.tx,ut=this.ty,_t=Math.sqrt(D*D+ne*ne),zt=(D/=_t)*Ce+(ne/=_t)*ke;Ce-=D*zt,ke-=ne*zt;var Dt=Math.sqrt(Ce*Ce+ke*ke);return zt/=Dt,D*(ke/=Dt)<ne*(Ce/=Dt)&&(D=-D,ne=-ne,zt=-zt,_t=-_t),{scale:new on(_t,0,0,Dt,0,0),translate:new on(1,0,0,1,Ue,ut),rotate:new on(D,ne,-ne,D,0,0),skew:new on(1,0,zt,1,0,0)}},on.prototype.toString=function(D){return this.join(" ")},on.prototype.inversed=function(){var D=this.sx,ne=this.shy,Ce=this.shx,ke=this.sy,Ue=this.tx,ut=this.ty,_t=1/(D*ke-ne*Ce),zt=ke*_t,Dt=-ne*_t,bn=-Ce*_t,kt=D*_t;return new on(zt,Dt,bn,kt,-zt*Ue-bn*ut,-Dt*Ue-kt*ut)},on.prototype.applyToPoint=function(D){var ne=D.x*this.sx+D.y*this.shx+this.tx,Ce=D.x*this.shy+D.y*this.sy+this.ty;return new Or(ne,Ce)},on.prototype.applyToRectangle=function(D){var ne=this.applyToPoint(D),Ce=this.applyToPoint(new Or(D.x+D.w,D.y+D.h));return new Ri(ne.x,ne.y,Ce.x-ne.x,Ce.y-ne.y)},on.prototype.clone=function(){var D=this.sx,ne=this.shy,Ce=this.shx,ke=this.sy,Ue=this.tx,ut=this.ty;return new on(D,ne,Ce,ke,Ue,ut)},S.Matrix=on;var zs=S.matrixMult=function(D,ne){return ne.multiply(D)},ti=new on(1,0,0,1,0,0);S.unitMatrix=S.identityMatrix=ti;var Ss=function(D,ne){if(!dr[D]){var Ce=(ne instanceof Rh?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);ne.id=Ce,dr[D]=Ce,Lt[Ce]=ne,Qn.publish("addPattern",ne)}};S.ShadingPattern=Rh,S.TilingPattern=rf,S.addShadingPattern=function(D,ne){return F("addShadingPattern()"),Ss(D,ne),this},S.beginTilingPattern=function(D){F("beginTilingPattern()"),Oi(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},S.endTilingPattern=function(D,ne){F("endTilingPattern()"),ne.stream=mt[le].join(`
`),Ss(D,ne),Qn.publish("endTilingPattern",ne),us.pop().restore()};var oa,Gn=S.__private__.newObject=function(){var D=br();return Rr(D,!0),D},br=S.__private__.newObjectDeferred=function(){return Ae++,Oe[Ae]=function(){return We},Ae},Rr=function(D,ne){return ne=typeof ne=="boolean"&&ne,Oe[D]=We,ne&&ve(D+" 0 obj"),D},Rt=S.__private__.newAdditionalObject=function(){var D={objId:br(),content:""};return it.push(D),D},vs=br(),wr=br(),Kn=S.__private__.decodeColorString=function(D){var ne=D.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ce=parseFloat(ne[0]);ne=[Ce,Ce,Ce,"r"]}for(var ke="#",Ue=0;Ue<3;Ue++)ke+=("0"+Math.floor(255*parseFloat(ne[Ue])).toString(16)).slice(-2);return ke},ns=S.__private__.encodeColorString=function(D){var ne;typeof D=="string"&&(D={ch1:D});var Ce=D.ch1,ke=D.ch2,Ue=D.ch3,ut=D.ch4,_t=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var zt=new yI(Ce);if(zt.ok)Ce=zt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Dt=parseInt(Ce.substr(1),16);Ce=Dt>>16&255,ke=Dt>>8&255,Ue=255&Dt}if(ke===void 0||ut===void 0&&Ce===ke&&ke===Ue)ne=typeof Ce=="string"?Ce+" "+_t[0]:D.precision===2?z(Ce/255)+" "+_t[0]:q(Ce/255)+" "+_t[0];else if(ut===void 0||ls(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return["1.","1.","1.",_t[1]].join(" ");ne=typeof Ce=="string"?[Ce,ke,Ue,_t[1]].join(" "):D.precision===2?[z(Ce/255),z(ke/255),z(Ue/255),_t[1]].join(" "):[q(Ce/255),q(ke/255),q(Ue/255),_t[1]].join(" ")}else ne=typeof Ce=="string"?[Ce,ke,Ue,ut,_t[2]].join(" "):D.precision===2?[z(Ce),z(ke),z(Ue),z(ut),_t[2]].join(" "):[q(Ce),q(ke),q(Ue),q(ut),_t[2]].join(" ");return ne},Js=S.__private__.getFilters=function(){return u},Aa=S.__private__.putStream=function(D){var ne=(D=D||{}).data||"",Ce=D.filters||Js(),ke=D.alreadyAppliedFilters||[],Ue=D.addLength1||!1,ut=ne.length,_t=D.objectId,zt=function(V){return V};if(b!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(zt=Lr.encryptor(_t,0));var Dt={};Ce===!0&&(Ce=["FlateEncode"]);var bn=D.additionalKeyValues||[],kt=(Dt=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(ne,Ce):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Dt.data.length!==0&&(bn.push({key:"Length",value:Dt.data.length}),Ue===!0&&bn.push({key:"Length1",value:ut})),kt.length!=0)if(kt.split("/").length-1==1)bn.push({key:"Filter",value:kt});else{bn.push({key:"Filter",value:"["+kt+"]"});for(var rr=0;rr<bn.length;rr+=1)if(bn[rr].key==="DecodeParms"){for(var Ar=[],An=0;An<Dt.reverseChain.split("/").length-1;An+=1)Ar.push("null");Ar.push(bn[rr].value),bn[rr].value="["+Ar.join(" ")+"]"}}ve("<<");for(var A=0;A<bn.length;A++)ve("/"+bn[A].key+" "+bn[A].value);ve(">>"),Dt.data.length!==0&&(ve("stream"),ve(zt(Dt.data)),ve("endstream"))},Zs=S.__private__.putPage=function(D){var ne=D.number,Ce=D.data,ke=D.objId,Ue=D.contentsObjId;Rr(ke,!0),ve("<</Type /Page"),ve("/Parent "+D.rootDictionaryObjId+" 0 R"),ve("/Resources "+D.resourceDictionaryObjId+" 0 R"),ve("/MediaBox ["+parseFloat(U(D.mediaBox.bottomLeftX))+" "+parseFloat(U(D.mediaBox.bottomLeftY))+" "+U(D.mediaBox.topRightX)+" "+U(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ve("/CropBox ["+U(D.cropBox.bottomLeftX)+" "+U(D.cropBox.bottomLeftY)+" "+U(D.cropBox.topRightX)+" "+U(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ve("/BleedBox ["+U(D.bleedBox.bottomLeftX)+" "+U(D.bleedBox.bottomLeftY)+" "+U(D.bleedBox.topRightX)+" "+U(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ve("/TrimBox ["+U(D.trimBox.bottomLeftX)+" "+U(D.trimBox.bottomLeftY)+" "+U(D.trimBox.topRightX)+" "+U(D.trimBox.topRightY)+"]"),D.artBox!==null&&ve("/ArtBox ["+U(D.artBox.bottomLeftX)+" "+U(D.artBox.bottomLeftY)+" "+U(D.artBox.topRightX)+" "+U(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ve("/UserUnit "+D.userUnit),Qn.publish("putPage",{objId:ke,pageContext:tn[ne],pageNumber:ne,page:Ce}),ve("/Contents "+Ue+" 0 R"),ve(">>"),ve("endobj");var ut=Ce.join(`
`);return ee===Z&&(ut+=`
Q`),Rr(Ue,!0),Aa({data:ut,filters:Js(),objectId:Ue}),ve("endobj"),ke},Ni=S.__private__.putPages=function(){var D,ne,Ce=[];for(D=1;D<=Xt;D++)tn[D].objId=br(),tn[D].contentsObjId=br();for(D=1;D<=Xt;D++)Ce.push(Zs({number:D,data:mt[D],objId:tn[D].objId,contentsObjId:tn[D].contentsObjId,mediaBox:tn[D].mediaBox,cropBox:tn[D].cropBox,bleedBox:tn[D].bleedBox,trimBox:tn[D].trimBox,artBox:tn[D].artBox,userUnit:tn[D].userUnit,rootDictionaryObjId:vs,resourceDictionaryObjId:wr}));Rr(vs,!0),ve("<</Type /Pages");var ke="/Kids [";for(ne=0;ne<Xt;ne++)ke+=Ce[ne]+" 0 R ";ve(ke+"]"),ve("/Count "+Xt),ve(">>"),ve("endobj"),Qn.publish("postPutPages")},Ba=function(D){Qn.publish("putFont",{font:D,out:ve,newObject:Gn,putStream:Aa}),D.isAlreadyPutted!==!0&&(D.objectNumber=Gn(),ve("<<"),ve("/Type /Font"),ve("/BaseFont /"+ef(D.postScriptName)),ve("/Subtype /Type1"),typeof D.encoding=="string"&&ve("/Encoding /"+D.encoding),ve("/FirstChar 32"),ve("/LastChar 255"),ve(">>"),ve("endobj"))},Hs=function(D){D.objectNumber=Gn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[U(D.x),U(D.y),U(D.x+D.width),U(D.y+D.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ce=D.pages[1].join(`
`);Aa({data:Ce,additionalKeyValues:ne,objectId:D.objectNumber}),ve("endobj")},Ur=function(D,ne){ne||(ne=21);var Ce=Gn(),ke=(function(_t,zt){var Dt,bn=[],kt=1/(zt-1);for(Dt=0;Dt<1;Dt+=kt)bn.push(Dt);if(bn.push(1),_t[0].offset!=0){var rr={offset:0,color:_t[0].color};_t.unshift(rr)}if(_t[_t.length-1].offset!=1){var Ar={offset:1,color:_t[_t.length-1].color};_t.push(Ar)}for(var An="",A=0,V=0;V<bn.length;V++){for(Dt=bn[V];Dt>_t[A+1].offset;)A++;var Q=_t[A].offset,de=(Dt-Q)/(_t[A+1].offset-Q),He=_t[A].color,Je=_t[A+1].color;An+=Ie(Math.round((1-de)*He[0]+de*Je[0]).toString(16))+Ie(Math.round((1-de)*He[1]+de*Je[1]).toString(16))+Ie(Math.round((1-de)*He[2]+de*Je[2]).toString(16))}return An.trim()})(D.colors,ne),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+ne+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Aa({data:ke,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),ve("endobj"),D.objectNumber=Gn(),ve("<< /ShadingType "+D.type),ve("/ColorSpace /DeviceRGB");var ut="/Coords ["+U(parseFloat(D.coords[0]))+" "+U(parseFloat(D.coords[1]))+" ";D.type===2?ut+=U(parseFloat(D.coords[2]))+" "+U(parseFloat(D.coords[3])):ut+=U(parseFloat(D.coords[2]))+" "+U(parseFloat(D.coords[3]))+" "+U(parseFloat(D.coords[4]))+" "+U(parseFloat(D.coords[5])),ve(ut+="]"),D.matrix&&ve("/Matrix ["+D.matrix.toString()+"]"),ve("/Function "+Ce+" 0 R"),ve("/Extend [true true]"),ve(">>"),ve("endobj")},$n=function(D,ne){var Ce=br(),ke=Gn();ne.push({resourcesOid:Ce,objectOid:ke}),D.objectNumber=ke;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+D.boundingBox.map(U).join(" ")+"]"}),Ue.push({key:"XStep",value:U(D.xStep)}),Ue.push({key:"YStep",value:U(D.yStep)}),Ue.push({key:"Resources",value:Ce+" 0 R"}),D.matrix&&Ue.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Aa({data:D.stream,additionalKeyValues:Ue,objectId:D.objectNumber}),ve("endobj")},Ua=function(D){for(var ne in D.objectNumber=Gn(),ve("<<"),D)switch(ne){case"opacity":ve("/ca "+z(D[ne]));break;case"stroke-opacity":ve("/CA "+z(D[ne]))}ve(">>"),ve("endobj")},Os=function(D){Rr(D.resourcesOid,!0),ve("<<"),ve("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in ve("/Font <<"),at)at.hasOwnProperty(ne)&&(_===!1||_===!0&&I.hasOwnProperty(ne))&&ve("/"+ne+" "+at[ne].objectNumber+" 0 R");ve(">>")})(),(function(){if(Object.keys(Lt).length>0){for(var ne in ve("/Shading <<"),Lt)Lt.hasOwnProperty(ne)&&Lt[ne]instanceof Rh&&Lt[ne].objectNumber>=0&&ve("/"+ne+" "+Lt[ne].objectNumber+" 0 R");Qn.publish("putShadingPatternDict"),ve(">>")}})(),(function(ne){if(Object.keys(Lt).length>0){for(var Ce in ve("/Pattern <<"),Lt)Lt.hasOwnProperty(Ce)&&Lt[Ce]instanceof S.TilingPattern&&Lt[Ce].objectNumber>=0&&Lt[Ce].objectNumber<ne&&ve("/"+Ce+" "+Lt[Ce].objectNumber+" 0 R");Qn.publish("putTilingPatternDict"),ve(">>")}})(D.objectOid),(function(){if(Object.keys(wn).length>0){var ne;for(ne in ve("/ExtGState <<"),wn)wn.hasOwnProperty(ne)&&wn[ne].objectNumber>=0&&ve("/"+ne+" "+wn[ne].objectNumber+" 0 R");Qn.publish("putGStateDict"),ve(">>")}})(),(function(){for(var ne in ve("/XObject <<"),Vs)Vs.hasOwnProperty(ne)&&Vs[ne].objectNumber>=0&&ve("/"+ne+" "+Vs[ne].objectNumber+" 0 R");Qn.publish("putXobjectDict"),ve(">>")})(),ve(">>"),ve("endobj")},rs=function(D){Vt[D.fontName]=Vt[D.fontName]||{},Vt[D.fontName][D.fontStyle]=D.id},yt=function(D,ne,Ce,ke,Ue){var ut={id:"F"+(Object.keys(at).length+1).toString(10),postScriptName:D,fontName:ne,fontStyle:Ce,encoding:ke,isStandardFont:Ue||!1,metadata:{}};return Qn.publish("addFont",{font:ut,instance:this}),at[ut.id]=ut,rs(ut),ut.id},Va=S.__private__.pdfEscape=S.pdfEscape=function(D,ne){return(function(Ce,ke){var Ue,ut,_t,zt,Dt,bn,kt,rr,Ar;if(_t=(ke=ke||{}).sourceEncoding||"Unicode",Dt=ke.outputEncoding,(ke.autoencode||Dt)&&at[Mt].metadata&&at[Mt].metadata[_t]&&at[Mt].metadata[_t].encoding&&(zt=at[Mt].metadata[_t].encoding,!Dt&&at[Mt].encoding&&(Dt=at[Mt].encoding),!Dt&&zt.codePages&&(Dt=zt.codePages[0]),typeof Dt=="string"&&(Dt=zt[Dt]),Dt)){for(kt=!1,bn=[],Ue=0,ut=Ce.length;Ue<ut;Ue++)(rr=Dt[Ce.charCodeAt(Ue)])?bn.push(String.fromCharCode(rr)):bn.push(Ce[Ue]),bn[Ue].charCodeAt(0)>>8&&(kt=!0);Ce=bn.join("")}for(Ue=Ce.length;kt===void 0&&Ue!==0;)Ce.charCodeAt(Ue-1)>>8&&(kt=!0),Ue--;if(!kt)return Ce;for(bn=ke.noBOM?[]:[254,255],Ue=0,ut=Ce.length;Ue<ut;Ue++){if((Ar=(rr=Ce.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bn.push(Ar),bn.push(rr-(Ar<<8))}return String.fromCharCode.apply(void 0,bn)})(D,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fr=S.__private__.beginPage=function(D){mt[++Xt]=[],tn[Xt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},ir(Xt),Ut(mt[le])},la=function(D,ne){var Ce,ke,Ue;switch(t=ne||t,typeof D=="string"&&(Ce=j(D.toLowerCase()),Array.isArray(Ce)&&(ke=Ce[0],Ue=Ce[1])),Array.isArray(D)&&(ke=D[0]*jn,Ue=D[1]*jn),isNaN(ke)&&(ke=s[0],Ue=s[1]),(ke>14400||Ue>14400)&&(As.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Ue=Math.min(14400,Ue)),s=[ke,Ue],t.substr(0,1)){case"l":Ue>ke&&(s=[Ue,ke]);break;case"p":ke>Ue&&(s=[Ue,ke])}fr(s),hn(Ha),ve(Ga),Wa!==0&&ve(Wa+" J"),ss!==0&&ve(ss+" j"),Qn.publish("addPage",{pageNumber:Xt})},Po=function(D){D>0&&D<=Xt&&(mt.splice(D,1),tn.splice(D,1),Xt--,le>Xt&&(le=Xt),this.setPage(le))},ir=function(D){D>0&&D<=Xt&&(le=D)},ar=S.__private__.getNumberOfPages=S.getNumberOfPages=function(){return mt.length-1},Wn=function(D,ne,Ce){var ke,Ue=void 0;return Ce=Ce||{},D=D!==void 0?D:at[Mt].fontName,ne=ne!==void 0?ne:at[Mt].fontStyle,ke=D.toLowerCase(),Vt[ke]!==void 0&&Vt[ke][ne]!==void 0?Ue=Vt[ke][ne]:Vt[D]!==void 0&&Vt[D][ne]!==void 0?Ue=Vt[D][ne]:Ce.disableWarning===!1&&As.warn("Unable to look up font label for font '"+D+"', '"+ne+"'. Refer to getFontList() for available fonts."),Ue||Ce.noFallback||(Ue=Vt.times[ne])==null&&(Ue=Vt.times.normal),Ue},Ea=S.__private__.putInfo=function(){var D=Gn(),ne=function(ke){return ke};for(var Ce in b!==null&&(ne=Lr.encryptor(D,0)),ve("<<"),ve("/Producer ("+Va(ne("jsPDF "+fn.version))+")"),Dn)Dn.hasOwnProperty(Ce)&&Dn[Ce]&&ve("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+Va(ne(Dn[Ce]))+")");ve("/CreationDate ("+Va(ne(pe))+")"),ve(">>"),ve("endobj")},qs=S.__private__.putCatalog=function(D){var ne=(D=D||{}).rootDictionaryObjId||vs;switch(Gn(),ve("<<"),ve("/Type /Catalog"),ve("/Pages "+ne+" 0 R"),jt||(jt="fullwidth"),jt){case"fullwidth":ve("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ve("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ve("/OpenAction [3 0 R /Fit]");break;case"original":ve("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+jt;Ce.substr(Ce.length-1)==="%"&&(jt=parseInt(jt)/100),typeof jt=="number"&&ve("/OpenAction [3 0 R /XYZ null null "+z(jt)+"]")}switch(Vn||(Vn="continuous"),Vn){case"continuous":ve("/PageLayout /OneColumn");break;case"single":ve("/PageLayout /SinglePage");break;case"two":case"twoleft":ve("/PageLayout /TwoColumnLeft");break;case"tworight":ve("/PageLayout /TwoColumnRight")}un&&ve("/PageMode /"+un),Qn.publish("putCatalog"),ve(">>"),ve("endobj")},hs=S.__private__.putTrailer=function(){ve("trailer"),ve("<<"),ve("/Size "+(Ae+1)),ve("/Root "+Ae+" 0 R"),ve("/Info "+(Ae-1)+" 0 R"),b!==null&&ve("/Encrypt "+Lr.oid+" 0 R"),ve("/ID [ <"+ge+"> <"+ge+"> ]"),ve(">>")},vn=S.__private__.putHeader=function(){ve("%PDF-"+P),ve("%")},ca=S.__private__.putXRef=function(){var D="0000000000";ve("xref"),ve("0 "+(Ae+1)),ve("0000000000 65535 f ");for(var ne=1;ne<=Ae;ne++)typeof Oe[ne]=="function"?ve((D+Oe[ne]()).slice(-10)+" 00000 n "):Oe[ne]!==void 0?ve((D+Oe[ne]).slice(-10)+" 00000 n "):ve("0000000000 00000 n ")},fi=S.__private__.buildDocument=function(){var D;Ae=0,We=0,ze=[],Oe=[],it=[],vs=br(),wr=br(),Ut(ze),Qn.publish("buildDocument"),vn(),Ni(),(function(){Qn.publish("putAdditionalObjects");for(var Ce=0;Ce<it.length;Ce++){var ke=it[Ce];Rr(ke.objId,!0),ve(ke.content),ve("endobj")}Qn.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var Ce in at)at.hasOwnProperty(Ce)&&(_===!1||_===!0&&I.hasOwnProperty(Ce))&&Ba(at[Ce])})(),(function(){var Ce;for(Ce in wn)wn.hasOwnProperty(Ce)&&Ua(wn[Ce])})(),(function(){for(var Ce in Vs)Vs.hasOwnProperty(Ce)&&Hs(Vs[Ce])})(),(function(Ce){var ke;for(ke in Lt)Lt.hasOwnProperty(ke)&&(Lt[ke]instanceof Rh?Ur(Lt[ke]):Lt[ke]instanceof rf&&$n(Lt[ke],Ce))})(D),Qn.publish("putResources"),D.forEach(Os),Os({resourcesOid:wr,objectOid:Number.MAX_SAFE_INTEGER}),Qn.publish("postPutResources"),b!==null&&(Lr.oid=Gn(),ve("<<"),ve("/Filter /Standard"),ve("/V "+Lr.v),ve("/R "+Lr.r),ve("/U <"+Lr.toHexString(Lr.U)+">"),ve("/O <"+Lr.toHexString(Lr.O)+">"),ve("/P "+Lr.P),ve(">>"),ve("endobj")),Ea(),qs();var ne=We;return ca(),hs(),ve("startxref"),ve(""+ne),ve("%%EOF"),Ut(mt[le]),ze.join(`
`)},_n=S.__private__.getBlob=function(D){return new Blob([Zt(D)],{type:"application/pdf"})},Ca=S.output=S.__private__.output=(oa=function(D,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",D){case void 0:return fi();case"save":S.save(ne.filename);break;case"arraybuffer":return Zt(fi());case"blob":return _n(fi());case"bloburi":case"bloburl":if(Hn.URL!==void 0&&typeof Hn.URL.createObjectURL=="function")return Hn.URL&&Hn.URL.createObjectURL(_n(fi()))||void 0;As.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",ke=fi();try{Ce=JE(ke)}catch{Ce=JE(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Hn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Ue=ne.pdfObjectUrl,ut="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",zt=Hn.open();return zt!==null&&zt.document.write(_t),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Hn)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',bn=Hn.open();if(bn!==null){bn.document.write(Dt);var kt=this;bn.document.documentElement.querySelector("#pdfViewer").onload=function(){bn.document.title=ne.filename,bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Hn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Ar=Hn.open();if(Ar!==null&&(Ar.document.write(rr),Ar.document.title=ne.filename),Ar||typeof safari>"u")return Ar;break;case"datauri":case"dataurl":return Hn.document.location.href=this.output("datauristring",ne);default:return null}},oa.foo=function(){try{return oa.apply(this,arguments)}catch(Ce){var D=Ce.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ne="Error in function "+D.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Hn.console)throw new Error(ne);Hn.console.error(ne,Ce),Hn.alert&&alert(ne)}},oa.foo.bar=oa,oa.foo),Ds=function(D){return Array.isArray(Gr)===!0&&Gr.indexOf(D)>-1};switch(r){case"pt":jn=1;break;case"mm":jn=72/25.4;break;case"cm":jn=72/2.54;break;case"in":jn=72;break;case"px":jn=Ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":jn=12;break;case"ex":jn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);jn=r}var Lr=null;me(),ye();var kn=S.__private__.getPageInfo=S.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tn[D].objId,pageNumber:D,pageContext:tn[D]}},ds=S.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in tn)if(tn[ne].objId===D)break;return kn(ne)},Ye=S.__private__.getCurrentPageInfo=S.getCurrentPageInfo=function(){return{objId:tn[le].objId,pageNumber:le,pageContext:tn[le]}};S.addPage=function(){return la.apply(this,arguments),this},S.setPage=function(){return ir.apply(this,arguments),Ut.call(this,mt[le]),this},S.insertPage=function(D){return this.addPage(),this.movePage(le,D),this},S.movePage=function(D,ne){var Ce,ke;if(D>ne){Ce=mt[D],ke=tn[D];for(var Ue=D;Ue>ne;Ue--)mt[Ue]=mt[Ue-1],tn[Ue]=tn[Ue-1];mt[ne]=Ce,tn[ne]=ke,this.setPage(ne)}else if(D<ne){Ce=mt[D],ke=tn[D];for(var ut=D;ut<ne;ut++)mt[ut]=mt[ut+1],tn[ut]=tn[ut+1];mt[ne]=Ce,tn[ne]=ke,this.setPage(ne)}return this},S.deletePage=function(){return Po.apply(this,arguments),this},S.__private__.text=S.text=function(D,ne,Ce,ke,Ue){var ut,_t,zt,Dt,bn,kt,rr,Ar,An,A=(ke=ke||{}).scope||this;if(typeof D=="number"&&typeof ne=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var V=Ce;Ce=ne,ne=D,D=V}if(arguments[3]instanceof on==0?(zt=arguments[4],Dt=arguments[5],ls(rr=arguments[3])==="object"&&rr!==null||(typeof zt=="string"&&(Dt=zt,zt=null),typeof rr=="string"&&(Dt=rr,rr=null),typeof rr=="number"&&(zt=rr,rr=null),ke={flags:rr,angle:zt,align:Dt})):(F("The transform parameter of text() with a Matrix value"),An=Ue),isNaN(ne)||isNaN(Ce)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return A;var Q,de="",He=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Ti,Je=A.internal.scaleFactor;function Ct(dt){return dt=dt.split("	").join(Array(ke.TabLen||9).join(" ")),Va(dt,rr)}function Pn(dt){for(var ft,ht=dt.concat(),yn=[],Nn=ht.length;Nn--;)typeof(ft=ht.shift())=="string"?yn.push(ft):Array.isArray(dt)&&(ft.length===1||ft[1]===void 0&&ft[2]===void 0)?yn.push(ft[0]):yn.push([ft[0],ft[1],ft[2]]);return yn}function Xr(dt,ft){var ht;if(typeof dt=="string")ht=ft(dt)[0];else if(Array.isArray(dt)){for(var yn,Nn,ps=dt.concat(),Ra=[],da=ps.length;da--;)typeof(yn=ps.shift())=="string"?Ra.push(ft(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(Nn=ft(yn[0],yn[1],yn[2]),Ra.push([Nn[0],Nn[1],Nn[2]]));ht=Ra}return ht}var Jn=!1,Dr=!0;if(typeof D=="string")Jn=!0;else if(Array.isArray(D)){var na=D.concat();_t=[];for(var Sa,Er=na.length;Er--;)(typeof(Sa=na.shift())!="string"||Array.isArray(Sa)&&typeof Sa[0]!="string")&&(Dr=!1);Jn=Dr}if(Jn===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var ra=et/A.internal.scaleFactor,Pi=ra*(He-1);switch(ke.baseline){case"bottom":Ce-=Pi;break;case"top":Ce+=ra-Pi;break;case"hanging":Ce+=ra-2*Pi;break;case"middle":Ce+=ra/2-Pi}if((kt=ke.maxWidth||0)>0&&(typeof D=="string"?D=A.splitTextToSize(D,kt):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(dt,ft){return dt.concat(A.splitTextToSize(ft,kt))},[]))),ut={text:D,x:ne,y:Ce,options:ke,mutex:{pdfEscape:Va,activeFontKey:Mt,fonts:at,activeFontSize:et}},Qn.publish("preProcessText",ut),D=ut.text,zt=(ke=ut.options).angle,An instanceof on==0&&zt&&typeof zt=="number"){zt*=Math.PI/180,ke.rotationDirection===0&&(zt=-zt),ee===Z&&(zt=-zt);var mi=Math.cos(zt),go=Math.sin(zt);An=new on(mi,go,-go,mi,0,0)}else zt&&zt instanceof on&&(An=zt);ee!==Z||An||(An=ti),(bn=ke.charSpace||ta)!==void 0&&(de+=U(X(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ar=ke.horizontalScale)!==void 0&&(de+=U(100*Ar)+` Tz
`),ke.lang;var Ts=-1,qi=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Na=A.internal.getCurrentPageInfo().pageContext;switch(qi){case 0:case!1:case"fill":Ts=0;break;case 1:case!0:case"stroke":Ts=1;break;case 2:case"fillThenStroke":Ts=2;break;case 3:case"invisible":Ts=3;break;case 4:case"fillAndAddForClipping":Ts=4;break;case 5:case"strokeAndAddPathForClipping":Ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ts=6;break;case 7:case"addToPathForClipping":Ts=7}var Ul=Na.usedRenderingMode!==void 0?Na.usedRenderingMode:-1;Ts!==-1?de+=Ts+` Tr
`:Ul!==-1&&(de+=`0 Tr
`),Ts!==-1&&(Na.usedRenderingMode=Ts),Dt=ke.align||"left";var Is,lo=et*He,co=A.internal.pageSize.getWidth(),Ac=at[Mt];bn=ke.charSpace||ta,kt=ke.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Gi=[],Ta=function(dt){return A.getStringUnitWidth(dt,{font:Ac,charSpace:bn,fontSize:et,doKerning:!1})*et/Je};if(Object.prototype.toString.call(D)==="[object Array]"){var xi;_t=Pn(D),Dt!=="left"&&(Is=_t.map(Ta));var Ia,yi=0;if(Dt==="right"){ne-=Is[0],D=[],Er=_t.length;for(var qn=0;qn<Er;qn++)qn===0?(Ia=dn(ne),xi=lr(Ce)):(Ia=X(yi-Is[qn]),xi=-lo),D.push([_t[qn],Ia,xi]),yi=Is[qn]}else if(Dt==="center"){ne-=Is[0]/2,D=[],Er=_t.length;for(var Wi=0;Wi<Er;Wi++)Wi===0?(Ia=dn(ne),xi=lr(Ce)):(Ia=X((yi-Is[Wi])/2),xi=-lo),D.push([_t[Wi],Ia,xi]),yi=Is[Wi]}else if(Dt==="left"){D=[],Er=_t.length;for(var re=0;re<Er;re++)D.push(_t[re])}else if(Dt==="justify"&&Ac.encoding==="Identity-H"){D=[],Er=_t.length,kt=kt!==0?kt:co;for(var o=0,c=0;c<Er;c++)if(xi=c===0?lr(Ce):-lo,Ia=c===0?dn(ne):o,c<Er-1){var h=X((kt-Is[c])/(_t[c].split(" ").length-1)),m=_t[c].split(" ");D.push([m[0]+" ",Ia,xi]),o=0;for(var y=1;y<m.length;y++){var w=(Ta(m[y-1]+" "+m[y])-Ta(m[y]))*Je+h;y==m.length-1?D.push([m[y],w,0]):D.push([m[y]+" ",w,0]),o-=w}}else D.push([_t[c],Ia,xi]);D.push(["",o,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Er=_t.length,kt=kt!==0?kt:co,c=0;c<Er;c++){xi=c===0?lr(Ce):-lo,Ia=c===0?dn(ne):0;var C=_t[c].split(" ").length-1,R=C>0?(kt-Is[c])/C:0;c<Er-1?Gi.push(U(X(R))):Gi.push(0),D.push([_t[c],Ia,xi])}}}(typeof ke.R2L=="boolean"?ke.R2L:pn)===!0&&(D=Xr(D,function(dt,ft,ht){return[dt.split("").reverse().join(""),ft,ht]})),ut={text:D,x:ne,y:Ce,options:ke,mutex:{pdfEscape:Va,activeFontKey:Mt,fonts:at,activeFontSize:et}},Qn.publish("postProcessText",ut),D=ut.text,Q=ut.mutex.isHex||!1;var L=at[Mt].encoding;L!=="WinAnsiEncoding"&&L!=="StandardEncoding"||(D=Xr(D,function(dt,ft,ht){return[Ct(dt),ft,ht]})),_t=Pn(D),D=[];for(var G,se,ie,Ee=Array.isArray(_t[0])?1:0,Pe="",Me=function(dt,ft,ht){var yn="";return ht instanceof on?(ht=typeof ke.angle=="number"?zs(ht,new on(1,0,0,1,dt,ft)):zs(new on(1,0,0,1,dt,ft),ht),ee===Z&&(ht=zs(new on(1,0,0,-1,0,0),ht)),yn=ht.join(" ")+` Tm
`):yn=U(dt)+" "+U(ft)+` Td
`,yn},Ve=0;Ve<_t.length;Ve++){switch(Pe="",Ee){case 1:ie=(Q?"<":"(")+_t[Ve][0]+(Q?">":")"),G=parseFloat(_t[Ve][1]),se=parseFloat(_t[Ve][2]);break;case 0:ie=(Q?"<":"(")+_t[Ve]+(Q?">":")"),G=dn(ne),se=lr(Ce)}Gi!==void 0&&Gi[Ve]!==void 0&&(Pe=Gi[Ve]+` Tw
`),Ve===0?D.push(Pe+Me(G,se,An)+ie):Ee===0?D.push(Pe+ie):Ee===1&&D.push(Pe+Me(G,se,An)+ie)}D=Ee===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ze=`BT
/`;return Ze+=Mt+" "+et+` Tf
`,Ze+=U(et*He)+` TL
`,Ze+=Ii+`
`,Ze+=de,Ze+=D,ve(Ze+="ET"),I[Mt]=!0,A};var _e=S.__private__.clip=S.clip=function(D){return ve(D==="evenodd"?"W*":"W"),this};S.clipEvenOdd=function(){return _e("evenodd")},S.__private__.discardPath=S.discardPath=function(){return ve("n"),this};var Ft=S.__private__.isValidStyle=function(D){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ne=!0),ne};S.__private__.setDefaultPathOperation=S.setDefaultPathOperation=function(D){return Ft(D)&&(p=D),this};var fs=S.__private__.getStyle=S.getStyle=function(D){var ne=p;switch(D){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=D}return ne},Ns=S.close=function(){return ve("h"),this};S.stroke=function(){return ve("S"),this},S.fill=function(D){return ea("f",D),this},S.fillEvenOdd=function(D){return ea("f*",D),this},S.fillStroke=function(D){return ea("B",D),this},S.fillStrokeEvenOdd=function(D){return ea("B*",D),this};var ea=function(D,ne){ls(ne)==="object"?ln(ne,D):ve(D)},zi=function(D){D===null||ee===Z&&D===void 0||(D=fs(D),ve(D))};function ua(D,ne,Ce,ke,Ue){var ut=new rf(ne||this.boundingBox,Ce||this.xStep,ke||this.yStep,this.gState,Ue||this.matrix);ut.stream=this.stream;var _t=D+"$$"+this.cloneIndex+++"$$";return Ss(_t,ut),ut}var ln=function(D,ne){var Ce=dr[D.key],ke=Lt[Ce];if(ke instanceof Rh)ve("q"),ve(kr(ne)),ke.gState&&S.setGState(ke.gState),ve(D.matrix.toString()+" cm"),ve("/"+Ce+" sh"),ve("Q");else if(ke instanceof rf){var Ue=new on(1,0,0,-1,0,Di());D.matrix&&(Ue=Ue.multiply(D.matrix||ti),Ce=ua.call(ke,D.key,D.boundingBox,D.xStep,D.yStep,Ue).id),ve("q"),ve("/Pattern cs"),ve("/"+Ce+" scn"),ke.gState&&S.setGState(ke.gState),ve(ne),ve("Q")}},kr=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lo=S.moveTo=function(D,ne){return ve(U(X(D))+" "+U(be(ne))+" m"),this},ao=S.lineTo=function(D,ne){return ve(U(X(D))+" "+U(be(ne))+" l"),this},ha=S.curveTo=function(D,ne,Ce,ke,Ue,ut){return ve([U(X(D)),U(be(ne)),U(X(Ce)),U(be(ke)),U(X(Ue)),U(be(ut)),"c"].join(" ")),this};S.__private__.line=S.line=function(D,ne,Ce,ke,Ue){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||isNaN(ke)||!Ft(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return ee===J?this.lines([[Ce-D,ke-ne]],D,ne,[1,1],Ue||"S"):this.lines([[Ce-D,ke-ne]],D,ne,[1,1]).stroke()},S.__private__.lines=S.lines=function(D,ne,Ce,ke,Ue,ut){var _t,zt,Dt,bn,kt,rr,Ar,An,A,V,Q,de;if(typeof D=="number"&&(de=Ce,Ce=ne,ne=D,D=de),ke=ke||[1,1],ut=ut||!1,isNaN(ne)||isNaN(Ce)||!Array.isArray(D)||!Array.isArray(ke)||!Ft(Ue)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lo(ne,Ce),_t=ke[0],zt=ke[1],bn=D.length,V=ne,Q=Ce,Dt=0;Dt<bn;Dt++)(kt=D[Dt]).length===2?(V=kt[0]*_t+V,Q=kt[1]*zt+Q,ao(V,Q)):(rr=kt[0]*_t+V,Ar=kt[1]*zt+Q,An=kt[2]*_t+V,A=kt[3]*zt+Q,V=kt[4]*_t+V,Q=kt[5]*zt+Q,ha(rr,Ar,An,A,V,Q));return ut&&Ns(),zi(Ue),this},S.path=function(D){for(var ne=0;ne<D.length;ne++){var Ce=D[ne],ke=Ce.c;switch(Ce.op){case"m":Lo(ke[0],ke[1]);break;case"l":ao(ke[0],ke[1]);break;case"c":ha.apply(this,ke);break;case"h":Ns()}}return this},S.__private__.rect=S.rect=function(D,ne,Ce,ke,Ue){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||isNaN(ke)||!Ft(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return ee===J&&(ke=-ke),ve([U(X(D)),U(be(ne)),U(X(Ce)),U(X(ke)),"re"].join(" ")),zi(Ue),this},S.__private__.triangle=S.triangle=function(D,ne,Ce,ke,Ue,ut,_t){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||isNaN(ke)||isNaN(Ue)||isNaN(ut)||!Ft(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-D,ke-ne],[Ue-Ce,ut-ke],[D-Ue,ne-ut]],D,ne,[1,1],_t,!0),this},S.__private__.roundedRect=S.roundedRect=function(D,ne,Ce,ke,Ue,ut,_t){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||isNaN(ke)||isNaN(Ue)||isNaN(ut)||!Ft(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*Ce),ut=Math.min(ut,.5*ke),this.lines([[Ce-2*Ue,0],[Ue*zt,0,Ue,ut-ut*zt,Ue,ut],[0,ke-2*ut],[0,ut*zt,-Ue*zt,ut,-Ue,ut],[2*Ue-Ce,0],[-Ue*zt,0,-Ue,-ut*zt,-Ue,-ut],[0,2*ut-ke],[0,-ut*zt,Ue*zt,-ut,Ue,-ut]],D+Ue,ne,[1,1],_t,!0),this},S.__private__.ellipse=S.ellipse=function(D,ne,Ce,ke,Ue){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||isNaN(ke)||!Ft(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*Ce,_t=4/3*(Math.SQRT2-1)*ke;return Lo(D+Ce,ne),ha(D+Ce,ne-_t,D+ut,ne-ke,D,ne-ke),ha(D-ut,ne-ke,D-Ce,ne-_t,D-Ce,ne),ha(D-Ce,ne+_t,D-ut,ne+ke,D,ne+ke),ha(D+ut,ne+ke,D+Ce,ne+_t,D+Ce,ne),zi(Ue),this},S.__private__.circle=S.circle=function(D,ne,Ce,ke){if(isNaN(D)||isNaN(ne)||isNaN(Ce)||!Ft(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ne,Ce,Ce,ke)},S.setFont=function(D,ne,Ce){return Ce&&(ne=Y(ne,Ce)),Mt=Wn(D,ne,{disableWarning:!1}),this};var za=S.__private__.getFont=S.getFont=function(){return at[Wn.apply(S,arguments)]};S.__private__.getFontList=S.getFontList=function(){var D,ne,Ce={};for(D in Vt)if(Vt.hasOwnProperty(D))for(ne in Ce[D]=[],Vt[D])Vt[D].hasOwnProperty(ne)&&Ce[D].push(ne);return Ce},S.addFont=function(D,ne,Ce,ke,Ue){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(Ce=Y(Ce,ke)),yt.call(this,D,ne,Ce,Ue=Ue||"Identity-H")};var Ti,Ha=n.lineWidth||.200025,Yr=S.__private__.getLineWidth=S.getLineWidth=function(){return Ha},hn=S.__private__.setLineWidth=S.setLineWidth=function(D){return Ha=D,ve(U(X(D))+" w"),this};S.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(D,ne){if(D=D||[],ne=ne||0,isNaN(ne)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ce){return U(X(Ce))}).join(" "),ne=U(X(ne)),ve("["+D+"] "+ne+" d"),this};var qa=S.__private__.getLineHeight=S.getLineHeight=function(){return et*Ti};S.__private__.getLineHeight=S.getLineHeight=function(){return et*Ti};var xn=S.__private__.setLineHeightFactor=S.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Ti=D),this},po=S.__private__.getLineHeightFactor=S.getLineHeightFactor=function(){return Ti};xn(n.lineHeight);var dn=S.__private__.getHorizontalCoordinate=function(D){return X(D)},lr=S.__private__.getVerticalCoordinate=function(D){return ee===Z?D:tn[le].mediaBox.topRightY-tn[le].mediaBox.bottomLeftY-X(D)},ko=S.__private__.getHorizontalCoordinateString=S.getHorizontalCoordinateString=function(D){return U(dn(D))},_r=S.__private__.getVerticalCoordinateString=S.getVerticalCoordinateString=function(D){return U(lr(D))},Ga=n.strokeColor||"0 G";S.__private__.getStrokeColor=S.getDrawColor=function(){return Kn(Ga)},S.__private__.setStrokeColor=S.setDrawColor=function(D,ne,Ce,ke){return Ga=ns({ch1:D,ch2:ne,ch3:Ce,ch4:ke,pdfColorType:"draw",precision:2}),ve(Ga),this};var ni=n.fillColor||"0 g";S.__private__.getFillColor=S.getFillColor=function(){return Kn(ni)},S.__private__.setFillColor=S.setFillColor=function(D,ne,Ce,ke){return ni=ns({ch1:D,ch2:ne,ch3:Ce,ch4:ke,pdfColorType:"fill",precision:2}),ve(ni),this};var Ii=n.textColor||"0 g",io=S.__private__.getTextColor=S.getTextColor=function(){return Kn(Ii)};S.__private__.setTextColor=S.setTextColor=function(D,ne,Ce,ke){return Ii=ns({ch1:D,ch2:ne,ch3:Ce,ch4:ke,pdfColorType:"text",precision:3}),this};var ta=n.charSpace,ri=S.__private__.getCharSpace=S.getCharSpace=function(){return parseFloat(ta||0)};S.__private__.setCharSpace=S.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ta=D,this};var Wa=0;S.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},S.__private__.setLineCap=S.setLineCap=function(D){var ne=S.CapJoinStyles[D];if(ne===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wa=ne,ve(ne+" J"),this};var ss=0;S.__private__.setLineJoin=S.setLineJoin=function(D){var ne=S.CapJoinStyles[D];if(ne===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ss=ne,ve(ne+" j"),this},S.__private__.setLineMiterLimit=S.__private__.setMiterLimit=S.setLineMiterLimit=S.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ve(U(X(D))+" M"),this},S.GState=bm,S.setGState=function(D){(D=typeof D=="string"?wn[En[D]]:Ya(null,D)).equals(en)||(ve("/"+D.id+" gs"),en=D)};var Ya=function(D,ne){if(!D||!En[D]){var Ce=!1;for(var ke in wn)if(wn.hasOwnProperty(ke)&&wn[ke].equals(ne)){Ce=!0;break}if(Ce)ne=wn[ke];else{var Ue="GS"+(Object.keys(wn).length+1).toString(10);wn[Ue]=ne,ne.id=Ue}return D&&(En[D]=ne.id),Qn.publish("addGState",ne),ne}};S.addGState=function(D,ne){return Ya(D,ne),this},S.saveGraphicsState=function(){return ve("q"),Bt.push({key:Mt,size:et,color:Ii}),this},S.restoreGraphicsState=function(){ve("Q");var D=Bt.pop();return Mt=D.key,et=D.size,Ii=D.color,en=null,this},S.setCurrentTransformationMatrix=function(D){return ve(D.toString()+" cm"),this},S.comment=function(D){return ve("#"+D),this};var Or=function(D,ne){var Ce=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(ut){isNaN(ut)||(Ce=parseFloat(ut))}});var ke=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ut){isNaN(ut)||(ke=parseFloat(ut))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(ut){Ue=ut.toString()}}),this},Ri=function(D,ne,Ce,ke){Or.call(this,D,ne),this.type="rect";var Ue=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(_t){isNaN(_t)||(Ue=parseFloat(_t))}});var ut=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(_t){isNaN(_t)||(ut=parseFloat(_t))}}),this},oo=function(){this.page=Xt,this.currentPage=le,this.pages=mt.slice(0),this.pagesContext=tn.slice(0),this.x=Yt,this.y=cs,this.matrix=Kt,this.width=pi(le),this.height=pr(le),this.outputDestination=vt,this.id="",this.objectNumber=-1};oo.prototype.restore=function(){Xt=this.page,le=this.currentPage,tn=this.pagesContext,mt=this.pages,Yt=this.x,cs=this.y,Kt=this.matrix,Mo(le,this.width),Xa(le,this.height),vt=this.outputDestination};var Oi=function(D,ne,Ce,ke,Ue){us.push(new oo),Xt=le=0,mt=[],Yt=D,cs=ne,Kt=Ue,fr([Ce,ke])};for(var Hi in S.beginFormObject=function(D,ne,Ce,ke,Ue){return Oi(D,ne,Ce,ke,Ue),this},S.endFormObject=function(D){return(function(ne){if(Wr[ne])us.pop().restore();else{var Ce=new oo,ke="Xo"+(Object.keys(Vs).length+1).toString(10);Ce.id=ke,Wr[ne]=ke,Vs[ke]=Ce,Qn.publish("addFormObject",Ce),us.pop().restore()}})(D),this},S.doFormObject=function(D,ne){var Ce=Vs[Wr[D]];return ve("q"),ve(ne.toString()+" cm"),ve("/"+Ce.id+" Do"),ve("Q"),this},S.getFormObject=function(D){var ne=Vs[Wr[D]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},S.save=function(D,ne){return D=D||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Ih(_n(fi()),D),typeof Ih.unload=="function"&&Hn.setTimeout&&setTimeout(Ih.unload,911),this):new Promise(function(Ce,ke){try{var Ue=Ih(_n(fi()),D);typeof Ih.unload=="function"&&Hn.setTimeout&&setTimeout(Ih.unload,911),Ce(Ue)}catch(ut){ke(ut.message)}})},fn.API)fn.API.hasOwnProperty(Hi)&&(Hi==="events"&&fn.API.events.length?(function(D,ne){var Ce,ke,Ue;for(Ue=ne.length-1;Ue!==-1;Ue--)Ce=ne[Ue][0],ke=ne[Ue][1],D.subscribe.apply(D,[Ce].concat(typeof ke=="function"?[ke]:ke))})(Qn,fn.API.events):S[Hi]=fn.API[Hi]);function pi(D){return tn[D].mediaBox.topRightX-tn[D].mediaBox.bottomLeftX}function Mo(D,ne){tn[D].mediaBox.topRightX=ne+tn[D].mediaBox.bottomLeftX}function pr(D){return tn[D].mediaBox.topRightY-tn[D].mediaBox.bottomLeftY}function Xa(D,ne){tn[D].mediaBox.topRightY=ne+tn[D].mediaBox.bottomLeftY}var si=S.getPageWidth=function(D){return pi(D=D||le)/jn},gi=S.setPageWidth=function(D,ne){Mo(D,ne*jn)},Di=S.getPageHeight=function(D){return pr(D=D||le)/jn},tt=S.setPageHeight=function(D,ne){Xa(D,ne*jn)};return S.internal={pdfEscape:Va,getStyle:fs,getFont:za,getFontSize:ot,getCharSpace:ri,getTextColor:io,getLineHeight:qa,getLineHeightFactor:po,getLineWidth:Yr,write:Tt,getHorizontalCoordinate:dn,getVerticalCoordinate:lr,getCoordinateString:ko,getVerticalCoordinateString:_r,collections:{},newObject:Gn,newAdditionalObject:Rt,newObjectDeferred:br,newObjectDeferredBegin:Rr,getFilters:Js,putStream:Aa,events:Qn,scaleFactor:jn,pageSize:{getWidth:function(){return si(le)},setWidth:function(D){gi(le,D)},getHeight:function(){return Di(le)},setHeight:function(D){tt(le,D)}},encryptionOptions:b,encryption:Lr,getEncryptor:function(D){return b!==null?Lr.encryptor(D,0):function(ne){return ne}},output:Ca,getNumberOfPages:ar,get pages(){return mt},out:ve,f2:z,f3:q,getPageInfo:kn,getPageInfoByObjId:ds,getCurrentPageInfo:Ye,getPDFVersion:k,Point:Or,Rectangle:Ri,Matrix:on,hasHotfix:Ds},Object.defineProperty(S.internal.pageSize,"width",{get:function(){return si(le)},set:function(D){gi(le,D)},enumerable:!0,configurable:!0}),Object.defineProperty(S.internal.pageSize,"height",{get:function(){return Di(le)},set:function(D){tt(le,D)},enumerable:!0,configurable:!0}),(function(D){for(var ne=0,Ce=Ot.length;ne<Ce;ne++){var ke=yt.call(this,D[ne][0],D[ne][1],D[ne][2],Ot[ne][3],!0);_===!1&&(I[ke]=!0);var Ue=D[ne][0].split("-");rs({id:ke,fontName:Ue[0],fontStyle:Ue[1]||""})}Qn.publish("addFonts",{fonts:at,dictionary:Vt})}).call(S,Ot),Mt="F1",la(s,t),Qn.publish("initialized"),S}Zd.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Zd.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zd.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Zd.prototype.processOwnerPassword=function(n,e){return Bv(Fv(e).substr(0,5),n)},Zd.prototype.encryptor=function(n,e){var t=Fv(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Bv(t,r)}},bm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ls(n)!==ls(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},fn.API={events:[]},fn.version="4.0.0";var wa=fn.API,Ub=1,ld=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yd=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tr=function(n){return n.toFixed(2)},ju=function(n){return n.toFixed(5)};wa.__acroform__={};var Do=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},nC=function(n){return n*Ub},tc=function(n){var e=new _I,t=an.internal.getHeight(n)||0,r=an.internal.getWidth(n)||0;return e.BBox=[0,0,Number(tr(r)),Number(tr(t))],e},N$=wa.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},T$=wa.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},I$=wa.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},La=wa.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return I$(n,e-1)},ka=wa.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return N$(n,e-1)},Ma=wa.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return T$(n,e-1)},R$=wa.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],i=n[1],u=n[2],d=n[3],g={};return g.lowerLeft_X=t(s)||0,g.lowerLeft_Y=r(i+d)||0,g.upperRight_X=t(s+u)||0,g.upperRight_Y=r(i)||0,[Number(tr(g.lowerLeft_X)),Number(tr(g.lowerLeft_Y)),Number(tr(g.upperRight_X)),Number(tr(g.upperRight_Y))]},O$=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Uv(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+tr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=tc(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},Uv=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(z){return z.split(`
`)}):s.map(function(z){return[z]});var i=t,u=an.internal.getHeight(n)||0;u=u<0?-u:u;var d=an.internal.getWidth(n)||0;d=d<0?-d:d;var g=function(z,q,X){if(z+1<s.length){var be=q+" "+s[z+1][0];return og(be,n,X).width<=d-4}return!1};i++;e:for(;i>0;){e="",i--;var p,b,_=og("3",n,i).height,I=n.multiline?u-i:(u-_)/2,S=I+=2,P=0,k=0,M=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+og(e,n,i=12).width+", FieldWidth:"+d+`
`;break}for(var j="",J=0,Z=0;Z<s.length;Z++)if(s.hasOwnProperty(Z)){var ee=!1;if(s[Z].length!==1&&M!==s[Z].length-1){if((_+2)*(J+2)+2>u)continue e;j+=s[Z][M],ee=!0,k=Z,Z--}else{j=(j+=s[Z][M]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var we=parseInt(Z),Re=g(we,j,i),Y=Z>=s.length-1;if(Re&&!Y){j+=" ",M=0;continue}if(Re||Y){if(Y)k=we;else if(n.multiline&&(_+2)*(J+2)+2>u)continue e}else{if(!n.multiline||(_+2)*(J+2)+2>u)continue e;k=we}}for(var U="",F=P;F<=k;F++){var te=s[F];if(n.multiline){if(F===k){U+=te[M]+" ",M=(M+1)%te.length;continue}if(F===P){U+=te[te.length-1]+" ";continue}}U+=te[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,b=og(U,n,i).width,n.textAlign){case"right":p=d-b-2;break;case"center":p=(d-b)/2;break;default:p=2}e+=tr(p)+" "+tr(S)+` Td
`,e+="("+ld(U)+`) Tj
`,e+=-tr(p)+` 0 Td
`,S=-(i+2),b=0,P=ee?k:k+1,J++,j=""}break}return r.text=e,r.fontSize=i,r},og=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},D$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},P$=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},L$=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Fl.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(D$)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ub=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new AI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&P$(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var i=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var d=r[u],g=[],p=d.Rect;if(d.Rect&&(d.Rect=R$(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=an.createDefaultAppearanceStream(d),ls(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(g=d.getKeyValueListForStream()),d.Rect=p,d.hasAppearanceStream&&!d.appearanceStreamContent){var b=O$(d);g.push({key:"AP",value:"<</N "+b+">>"}),s.internal.acroformPlugin.xForms.push(b)}if(d.appearanceStreamContent){var _="";for(var I in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(I)){var S=d.appearanceStreamContent[I];if(_+="/"+I+" ",_+="<<",Object.keys(S).length>=1||Array.isArray(S)){for(var u in S)if(S.hasOwnProperty(u)){var P=S[u];typeof P=="function"&&(P=P.call(s,d)),_+="/"+u+" "+P+" ",s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P)}}else typeof(P=S)=="function"&&(P=P.call(s,d)),_+="/"+u+" "+P,s.internal.acroformPlugin.xForms.indexOf(P)>=0||s.internal.acroformPlugin.xForms.push(P);_+=">>"}g.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:g,objectId:d.objId}),s.internal.out("endobj")}i&&(function(k,M){for(var j in k)if(k.hasOwnProperty(j)){var J=j,Z=k[j];M.internal.newObjectDeferredBegin(Z.objId,!0),ls(Z)==="object"&&typeof Z.putStream=="function"&&Z.putStream(),delete k[J]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},wI=wa.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",i=0;i<n.length;i++)switch(i!==0&&(s+=" "),ls(n[i])){case"boolean":case"number":case"object":s+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+ld(r(n[i].toString()))+")"):s+=n[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Oy=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+ld(r(n))+")"},ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ac.prototype.toString=function(){return this.objId+" 0 R"},ac.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ac.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:wI(s,this.objId,this.scope)}):s instanceof ac?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var _I=function(){ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Do(_I,ac);var AI=function(){ac.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ld(t(n))+")"}},set:function(t){n=t}})};Do(AI,ac);var Fl=function n(){ac.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!La(e,3)},set:function(j){j?this.F=ka(e,3):this.F=Ma(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof wm)return;i="FieldObject"+n.FieldNum++}var j=function(J){return J};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+ld(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var g=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){g=j}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Ub:p},set:function(j){p=j}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(j){b=j}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof wm||this instanceof Lh))return Oy(_,this.objId,this.scope)},set:function(j){j=j.toString(),_=j}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Si==0?Oy(I,this.objId,this.scope):I},set:function(j){j=j.toString(),I=this instanceof Si==0?j.substr(0,1)==="("?Yd(j.substr(1,j.length-2)):Yd(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si==1?Yd(I.substr(1,I.length-1)):I},set:function(j){j=j.toString(),I=this instanceof Si==1?"/"+j:j}});var S=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(S)return S},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Si==0?Oy(S,this.objId,this.scope):S},set:function(j){j=j.toString(),S=this instanceof Si==0?j.substr(0,1)==="("?Yd(j.substr(1,j.length-2)):Yd(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Si==1?Yd(S.substr(1,S.length-1)):S},set:function(j){j=j.toString(),S=this instanceof Si==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(j){j=!!j,k=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(j){P=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,1)},set:function(j){j?this.Ff=ka(this.Ff,1):this.Ff=Ma(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,2)},set:function(j){j?this.Ff=ka(this.Ff,2):this.Ff=Ma(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,3)},set:function(j){j?this.Ff=ka(this.Ff,3):this.Ff=Ma(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');M=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(M){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};Do(Fl,ac);var ff=function(){Fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wI(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(i,u,d){d||(d=1);for(var g,p=[];g=u.exec(i);)p.push(g[d]);return p})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,18)},set:function(t){t?this.Ff=ka(this.Ff,18):this.Ff=Ma(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ka(this.Ff,19):this.Ff=Ma(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,20)},set:function(t){t?(this.Ff=ka(this.Ff,20),e.sort()):this.Ff=Ma(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,22)},set:function(t){t?this.Ff=ka(this.Ff,22):this.Ff=Ma(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(t){t?this.Ff=ka(this.Ff,23):this.Ff=Ma(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,27)},set:function(t){t?this.Ff=ka(this.Ff,27):this.Ff=Ma(this.Ff,27)}}),this.hasAppearanceStream=!1};Do(ff,Fl);var pf=function(){ff.call(this),this.fontName="helvetica",this.combo=!1};Do(pf,ff);var gf=function(){pf.call(this),this.combo=!0};Do(gf,pf);var Tg=function(){gf.call(this),this.edit=!0};Do(Tg,gf);var Si=function(){Fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,15)},set:function(t){t?this.Ff=ka(this.Ff,15):this.Ff=Ma(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,16)},set:function(t){t?this.Ff=ka(this.Ff,16):this.Ff=Ma(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,17)},set:function(t){t?this.Ff=ka(this.Ff,17):this.Ff=Ma(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(t){t?this.Ff=ka(this.Ff,26):this.Ff=Ma(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+ld(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){ls(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Do(Si,Fl);var Ig=function(){Si.call(this),this.pushButton=!0};Do(Ig,Si);var mf=function(){Si.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Do(mf,Si);var wm=function(){var n,e;Fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,u=[];for(i in u.push("<<"),r)u.push("/"+i+" ("+ld(s(r[i]))+")");return u.push(">>"),u.join(`
`)},set:function(s){ls(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=an.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Do(wm,Fl),mf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},mf.prototype.createOption=function(n){var e=new wm;return e.Parent=this,e.optionName=n,this.Kids.push(e),k$.call(this.scope,e),e};var Rg=function(){Si.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=an.CheckBox.createAppearanceStream()};Do(Rg,Si);var Lh=function(){Fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,13)},set:function(e){e?this.Ff=ka(this.Ff,13):this.Ff=Ma(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,21)},set:function(e){e?this.Ff=ka(this.Ff,21):this.Ff=Ma(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(e){e?this.Ff=ka(this.Ff,23):this.Ff=Ma(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,24)},set:function(e){e?this.Ff=ka(this.Ff,24):this.Ff=Ma(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,25)},set:function(e){e?this.Ff=ka(this.Ff,25):this.Ff=Ma(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(e){e?this.Ff=ka(this.Ff,26):this.Ff=Ma(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Do(Lh,Fl);var Og=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,14)},set:function(n){n?this.Ff=ka(this.Ff,14):this.Ff=Ma(this.Ff,14)}}),this.password=!0};Do(Og,Lh);var an={CheckBox:{createAppearanceStream:function(){return{N:{On:an.CheckBox.YesNormal},D:{On:an.CheckBox.YesPushDown,Off:an.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=Uv(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+tr(an.internal.getWidth(n))+" "+tr(an.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+tr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=tc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],i=an.internal.getHeight(n),u=an.internal.getWidth(n),d=Uv(n,n.caption);return s.push("1 g"),s.push("0 0 "+tr(u)+" "+tr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tr(u-1)+" "+tr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+tr(d.fontSize)+" Tf "+r),s.push(d.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tr(an.internal.getWidth(n))+" "+tr(an.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:an.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=an.RadioButton.Circle.YesNormal,e.D[n]=an.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=tc(n);e.scope=n.scope;var t=[],r=an.internal.getWidth(n)<=an.internal.getHeight(n)?an.internal.getWidth(n)/4:an.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=an.internal.Bezier_C,i=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ju(an.internal.getWidth(n)/2)+" "+ju(an.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=[],r=an.internal.getWidth(n)<=an.internal.getHeight(n)?an.internal.getWidth(n)/4:an.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*an.internal.Bezier_C).toFixed(5)),u=Number((r*an.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ju(an.internal.getWidth(n)/2)+" "+ju(an.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ju(an.internal.getWidth(n)/2)+" "+ju(an.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=[],r=an.internal.getWidth(n)<=an.internal.getHeight(n)?an.internal.getWidth(n)/4:an.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*an.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ju(an.internal.getWidth(n)/2)+" "+ju(an.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:an.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=an.RadioButton.Cross.YesNormal,e.D[n]=an.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=tc(n);e.scope=n.scope;var t=[],r=an.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+tr(an.internal.getWidth(n)-2)+" "+tr(an.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(tr(r.x1.x)+" "+tr(r.x1.y)+" m"),t.push(tr(r.x2.x)+" "+tr(r.x2.y)+" l"),t.push(tr(r.x4.x)+" "+tr(r.x4.y)+" m"),t.push(tr(r.x3.x)+" "+tr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=an.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+tr(an.internal.getWidth(n))+" "+tr(an.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tr(an.internal.getWidth(n)-2)+" "+tr(an.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(tr(t.x1.x)+" "+tr(t.x1.y)+" m"),r.push(tr(t.x2.x)+" "+tr(t.x2.y)+" l"),r.push(tr(t.x4.x)+" "+tr(t.x4.y)+" m"),r.push(tr(t.x3.x)+" "+tr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=tc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tr(an.internal.getWidth(n))+" "+tr(an.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};an.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=an.internal.getWidth(n),t=an.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},an.internal.getWidth=function(n){var e=0;return ls(n)==="object"&&(e=nC(n.Rect[2])),e},an.internal.getHeight=function(n){var e=0;return ls(n)==="object"&&(e=nC(n.Rect[3])),e};var k$=wa.addField=function(n){if(L$(this,n),!(n instanceof Fl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};wa.AcroFormChoiceField=ff,wa.AcroFormListBox=pf,wa.AcroFormComboBox=gf,wa.AcroFormEditBox=Tg,wa.AcroFormButton=Si,wa.AcroFormPushButton=Ig,wa.AcroFormRadioButton=mf,wa.AcroFormCheckBox=Rg,wa.AcroFormTextField=Lh,wa.AcroFormPasswordField=Og,wa.AcroFormAppearance=an,wa.AcroForm={ChoiceField:ff,ListBox:pf,ComboBox:gf,EditBox:Tg,Button:Si,PushButton:Ig,RadioButton:mf,CheckBox:Rg,TextField:Lh,PasswordField:Og,Appearance:an},fn.AcroForm={ChoiceField:ff,ListBox:pf,ComboBox:gf,EditBox:Tg,Button:Si,PushButton:Ig,RadioButton:mf,CheckBox:Rg,TextField:Lh,PasswordField:Og,Appearance:an};fn.AcroForm;function EI(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(z,q){var X,be,pe,ge,Se,ye=t;if((q=q||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(Re(z))for(Se in r)for(pe=r[Se],X=0;X<pe.length;X+=1){for(ge=!0,be=0;be<pe[X].length;be+=1)if(pe[X][be]!==void 0&&pe[X][be]!==z[be]){ge=!1;break}if(ge===!0){ye=Se;break}}else for(Se in r)for(pe=r[Se],X=0;X<pe.length;X+=1){for(ge=!0,be=0;be<pe[X].length;be+=1)if(pe[X][be]!==void 0&&pe[X][be]!==z.charCodeAt(be)){ge=!1;break}if(ge===!0){ye=Se;break}}return ye===t&&q!==t&&(ye=q),ye},i=function z(q){for(var X=this.internal.write,be=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:q.width}),ge.push({key:"Height",value:q.height}),q.colorSpace===j.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===j.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)&&q.transparency.length>0){for(var Se="",ye=0,De=q.transparency.length;ye<De;ye++)Se+=q.transparency[ye]+" "+q.transparency[ye]+" ";ge.push({key:"Mask",value:"["+Se+"]"})}q.sMask!==void 0&&ge.push({key:"SMask",value:q.objectId+1+" 0 R"});var rt=q.filter!==void 0?["/"+q.filter]:void 0;if(be({data:q.data,additionalKeyValues:ge,alreadyAppliedFilters:rt,objectId:q.objectId}),X("endobj"),"sMask"in q&&q.sMask!==void 0){var me,$=(me=q.sMaskBitsPerComponent)!==null&&me!==void 0?me:q.bitsPerComponent,le={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:q.sMask};"filter"in q&&(le.decodeParameters="/Predictor ".concat(q.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(q.width),le.filter=q.filter),z.call(this,le)}if(q.colorSpace===j.INDEXED){var he=this.internal.newObject();be({data:U(new Uint8Array(q.palette)),objectId:he}),X("endobj")}},u=function(){var z=this.internal.collections[e+"images"];for(var q in z)i.call(this,z[q])},d=function(){var z,q=this.internal.collections[e+"images"],X=this.internal.write;for(var be in q)X("/I"+(z=q[be]).index,z.objectId,"0","R")},g=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var z=this.internal.collections[e+"images"];return g.call(this),z},b=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(z){return typeof n["process"+z.toUpperCase()]=="function"},I=function(z){return ls(z)==="object"&&z.nodeType===1},S=function(z,q){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var X=""+z.getAttribute("src");if(X.indexOf("data:image/")===0)return Ng(unescape(X).split("base64,").pop());var be=n.loadFile(X,!0);if(be!==void 0)return be}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var pe;switch(q){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Ng(z.toDataURL(pe,1).split("base64,").pop())}},P=function(z){var q=this.internal.collections[e+"images"];if(q){for(var X in q)if(z===q[X].alias)return q[X]}},k=function(z,q,X){return z||q||(z=-96,q=-96),z<0&&(z=-1*X.width*72/z/this.internal.scaleFactor),q<0&&(q=-1*X.height*72/q/this.internal.scaleFactor),z===0&&(z=q*X.width/X.height),q===0&&(q=z*X.height/X.width),[z,q]},M=function(z,q,X,be,pe,ge){var Se=k.call(this,X,be,pe),ye=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString,rt=p.call(this);if(X=Se[0],be=Se[1],rt[pe.index]=pe,ge){ge*=Math.PI/180;var me=Math.cos(ge),$=Math.sin(ge),le=function(Ie){return Ie.toFixed(4)},he=[le(me),le($),le(-1*$),le(me),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,ye(z),De(q+be),"cm"].join(" ")),this.internal.write(he.join(" ")),this.internal.write([ye(X),"0","0",ye(be),"0","0","cm"].join(" "))):this.internal.write([ye(X),"0","0",ye(be),ye(z),De(q+be),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var J=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Z=n.__addimage__.sHashCode=function(z){var q,X,be=0;if(typeof z=="string")for(X=z.length,q=0;q<X;q++)be=(be<<5)-be+z.charCodeAt(q),be|=0;else if(Re(z))for(X=z.byteLength/2,q=0;q<X;q++)be=(be<<5)-be+z[q],be|=0;return be},ee=n.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var q=!0;return z.length===0&&(q=!1),z.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(q=!1),q},we=n.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var q=z.indexOf(",");return q<0?null:z.substring(0,q).trim().endsWith("base64")?z.substring(q+1):null};n.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var Re=n.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},Y=n.__addimage__.binaryStringToUint8Array=function(z){for(var q=z.length,X=new Uint8Array(q),be=0;be<q;be++)X[be]=z.charCodeAt(be);return X},U=n.__addimage__.arrayBufferToBinaryString=function(z){for(var q="",X=Re(z)?z:new Uint8Array(z),be=0;be<X.length;be+=8192)q+=String.fromCharCode.apply(null,X.subarray(be,be+8192));return q};n.addImage=function(){var z,q,X,be,pe,ge,Se,ye,De;if(typeof arguments[1]=="number"?(q=t,X=arguments[1],be=arguments[2],pe=arguments[3],ge=arguments[4],Se=arguments[5],ye=arguments[6],De=arguments[7]):(q=arguments[1],X=arguments[2],be=arguments[3],pe=arguments[4],ge=arguments[5],Se=arguments[6],ye=arguments[7],De=arguments[8]),ls(z=arguments[0])==="object"&&!I(z)&&"imageData"in z){var rt=z;z=rt.imageData,q=rt.format||q||t,X=rt.x||X||0,be=rt.y||be||0,pe=rt.w||rt.width||pe,ge=rt.h||rt.height||ge,Se=rt.alias||Se,ye=rt.compression||ye,De=rt.rotation||rt.angle||De}var me=this.internal.getFilters();if(ye===void 0&&me.indexOf("FlateEncode")!==-1&&(ye="SLOW"),isNaN(X)||isNaN(be))throw new Error("Invalid coordinates passed to jsPDF.addImage");g.call(this);var $=F.call(this,z,q,Se,ye);return M.call(this,X,be,pe,ge,$,De),this};var F=function(z,q,X,be){var pe,ge,Se;if(typeof z=="string"&&s(z)===t){z=unescape(z);var ye=te(z,!1);(ye!==""||(ye=n.loadFile(z,!0))!==void 0)&&(z=ye)}if(I(z)&&(z=S(z,q)),q=s(z,q),!_(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((Se=X)==null||Se.length===0)&&(X=(function(De){return typeof De=="string"||Re(De)?Z(De):Re(De.data)?Z(De.data):null})(z)),(pe=P.call(this,X))||(z instanceof Uint8Array||q==="RGBA"||(ge=z,z=Y(z)),pe=this["process"+q.toUpperCase()](z,b.call(this),X,(function(De){return De&&typeof De=="string"&&(De=De.toUpperCase()),De in n.image_compression?De:J.NONE})(be),ge)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},te=n.__addimage__.convertBase64ToBinaryString=function(z,q){q=typeof q!="boolean"||q;var X,be="";if(typeof z=="string"){var pe;X=(pe=we(z))!==null&&pe!==void 0?pe:z;try{be=Ng(X)}catch(ge){if(q)throw ee(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return be};n.getImageProperties=function(z){var q,X,be="";if(I(z)&&(z=S(z)),typeof z=="string"&&s(z)===t&&((be=te(z,!1))===""&&(be=n.loadFile(z)||""),z=be),X=s(z),!_(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(z instanceof Uint8Array||(z=Y(z)),!(q=this["process"+X.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=X,q}})(fn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};fn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,i,u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,g=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,b=!1,_=0;_<p.length&&!b;_++)switch((r=p[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var I=0;I<p.length;I++){r=p[I];var S=this.internal.pdfEscape,P=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(k.objId),J=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+S(j(r.contents))+")",i+=" /Popup "+M.objId+" 0 R",i+=" /P "+g.objId+" 0 R",i+=" /T ("+S(j(J))+") >>",k.content=i;var Z=k.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+Z,r.open&&(i+=" /Open true"),i+=" >>",M.content=i,this.internal.write(k.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+d(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var ee=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+S(P(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ee+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var we=this.annotations._nameMap[r.options.name];r.options.pageNumber=we.page,r.options.top=we.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+S(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var Re=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+Re+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,i,u){var d=this.internal.getCurrentPageInfo(),g=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:g(t),y:p(r),w:g(t+s),h:p(r+i)},options:u,type:"link"})},n.textWithLink=function(t,r,s,i){var u,d,g=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){d=i.maxWidth;var b=this.splitTextToSize(t,d).length;u=Math.ceil(p*b)}else d=g,u=p;return this.text(t,r,s,i),s+=.2*p,i.align==="center"&&(r-=g/2),i.align==="right"&&(r-=g),this.link(r,s-p,d,u,i),g},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(fn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},d=n.__arabicParser__.isArabicEndLetter=function(k){return u(k)&&i(k)&&e[k.charCodeAt(0)].length<=2},g=n.__arabicParser__.isArabicAlfLetter=function(k){return u(k)&&s.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return u(k)&&i(k)&&e[k.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return u(k)&&i(k)&&e[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return u(k)&&i(k)&&e[k.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return u(k)&&i(k)&&e[k.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(k){var M=0,j=t,J="",Z=0;for(M=0;M<k.length;M+=1)j[k.charCodeAt(M)]!==void 0?(Z++,typeof(j=j[k.charCodeAt(M)])=="number"&&(J+=String.fromCharCode(j),j=t,Z=0),M===k.length-1&&(j=t,J+=k.charAt(M-(Z-1)),M-=Z-1,Z=0)):(j=t,J+=k.charAt(M-Z),M-=Z,Z=0);return J};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var I=n.__arabicParser__.getCorrectForm=function(k,M,j){return u(k)?i(k)===!1?-1:!p(k)||!u(M)&&!u(j)||!u(j)&&d(M)||d(k)&&!u(M)||d(k)&&g(M)||d(k)&&d(M)?0:b(k)&&u(M)&&!d(M)&&u(j)&&p(j)?3:d(k)||!u(j)?1:2:-1},S=function(k){var M=0,j=0,J=0,Z="",ee="",we="",Re=(k=k||"").split("\\s+"),Y=[];for(M=0;M<Re.length;M+=1){for(Y.push(""),j=0;j<Re[M].length;j+=1)Z=Re[M][j],ee=Re[M][j-1],we=Re[M][j+1],u(Z)?(J=I(Z,ee,we),Y[M]+=J!==-1?String.fromCharCode(e[Z.charCodeAt(0)][J]):Z):Y[M]+=Z;Y[M]=_(Y[M])}return Y.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var k,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(M)){var J=0;for(j=[],J=0;J<M.length;J+=1)Array.isArray(M[J])?j.push([S(M[J][0]),M[J][1],M[J][2]]):j.push([S(M[J])]);k=j}else k=S(M);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",P])})(fn.API),fn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(d){i=d}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(d){u=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var g=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(k){I=k}});var S=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return S},set:function(k){S=k}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(k){P=k}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(g){return r.call(this),this.internal.__cell__.headerFunction=typeof g=="function"?g:void 0,this},n.getTextDimensions=function(g,p){r.call(this);var b=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),I=p.scaleFactor||this.internal.scaleFactor,S=0,P=0,k=0,M=this;if(!Array.isArray(g)&&typeof g!="string"){if(typeof g!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");g=String(g)}var j=p.maxWidth;j>0?typeof g=="string"?g=this.splitTextToSize(g,j):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Z,ee){return Z.concat(M.splitTextToSize(ee,j))},[])):g=Array.isArray(g)?g:[g];for(var J=0;J<g.length;J++)S<(k=this.getStringUnitWidth(g[J],{font:_})*b)&&(S=k);return S!==0&&(P=g.length),{w:S/=I,h:Math.max((P*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var g=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(g.left,g.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var g;g=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var p=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,S=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===g.lineNumber?(g.x=(p.x||0)+(p.width||0),g.y=p.y||0):p.y+p.height+g.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),g.y=_.top,S&&I&&(this.printHeaderRow(g.lineNumber,!0),g.y+=I[0].height)):g.y=p.y+p.height||g.y),g.text[0]!==void 0&&(this.rect(g.x,g.y,g.width,g.height,t===!0?"FD":void 0),g.align==="right"?this.text(g.text,g.x+g.width-b,g.y+b,{align:"right",baseline:"top"}):g.align==="center"?this.text(g.text,g.x+g.width/2,g.y+b,{align:"center",baseline:"top",maxWidth:g.width-b-b}):this.text(g.text,g.x+b,g.y+b,{align:"left",baseline:"top",maxWidth:g.width-b-b})),this.internal.__cell__.lastCell=g,this};n.table=function(g,p,b,_,I){if(r.call(this),!b)throw new Error("No data for PDF table.");var S,P,k,M,j=[],J=[],Z=[],ee={},we={},Re=[],Y=[],U=(I=I||{}).autoSize||!1,F=I.printHeaders!==!1,te=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,z=I.margins||Object.assign({width:this.getPageWidth()},e),q=typeof I.padding=="number"?I.padding:3,X=I.headerBackgroundColor||"#c8c8c8",be=I.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=be,this.setFontSize(te),_==null)J=j=Object.keys(b[0]),Z=j.map(function(){return"left"});else if(Array.isArray(_)&&ls(_[0])==="object")for(j=_.map(function(rt){return rt.name}),J=_.map(function(rt){return rt.prompt||rt.name||""}),Z=_.map(function(rt){return rt.align||"left"}),S=0;S<_.length;S+=1)we[_[S].name]=.7499990551181103*_[S].width;else Array.isArray(_)&&typeof _[0]=="string"&&(J=j=_,Z=j.map(function(){return"left"}));if(U||Array.isArray(_)&&typeof _[0]=="string")for(S=0;S<j.length;S+=1){for(ee[M=j[S]]=b.map(function(rt){return rt[M]}),this.setFont(void 0,"bold"),Re.push(this.getTextDimensions(J[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=ee[M],this.setFont(void 0,"normal"),k=0;k<P.length;k+=1)Re.push(this.getTextDimensions(P[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);we[M]=Math.max.apply(null,Re)+q+q,Re=[]}if(F){var pe={};for(S=0;S<j.length;S+=1)pe[j[S]]={},pe[j[S]].text=J[S],pe[j[S]].align=Z[S];var ge=d.call(this,pe,we);Y=j.map(function(rt){return new i(g,p,we[rt],ge,pe[rt].text,void 0,pe[rt].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var Se=_.reduce(function(rt,me){return rt[me.name]=me.align,rt},{});for(S=0;S<b.length;S+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:S,data:b[S]},this);var ye=d.call(this,b[S],we);for(k=0;k<j.length;k+=1){var De=b[S][j[k]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:S,col:k,data:De},this),u.call(this,new i(g,p,we[j[k]],ye,De,S+2,Se[j[k]]))}}return this.internal.__cell__.table_x=g,this.internal.__cell__.table_y=p,this};var d=function(g,p){var b=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(g).map(function(S){var P=g[S];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,p[S]-b-b)},this).map(function(S){return this.getLineHeightFactor()*S.length*_/I+b+b},this).reduce(function(S,P){return Math.max(S,P)},0)};n.setTableHeaderRow=function(g){r.call(this),this.internal.__cell__.tableHeaderRow=g},n.printHeaderRow=function(g,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],S=0;S<this.internal.__cell__.tableHeaderRow.length;S+=1){b=this.internal.__cell__.tableHeaderRow[S].clone(),p&&(b.y=this.internal.__cell__.margins.top||0,I.push(b)),b.lineNumber=g;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,b),this.setTextColor(P)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),t=!1}})(fn.API);var CI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Vv=EI(SI),NI=[100,200,300,400,500,600,700,800,900],M$=EI(NI);function Dy(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return CI[i=i||"normal"]?i:"normal"})(n.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(n.weight),s=(function(i){return typeof Vv[i=i||"normal"]=="number"?i:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function rC(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var j$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function iC(n){return n.trimLeft()}function F$(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function B$(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var lg,oC,lC,Xd,cg,cC,uC,hC,Py=["times"];function dC(n,e,t,r,s){var i=4,u=pC;switch(s){case fn.API.image_compression.FAST:i=1,u=fC;break;case fn.API.image_compression.MEDIUM:i=6,u=gC;break;case fn.API.image_compression.SLOW:i=9,u=mC}n=(function(g,p,b,_){for(var I,S=g.length/p,P=new Uint8Array(g.length+S),k=[U$,fC,pC,gC,mC],M=0;M<S;M+=1){var j=M*p,J=g.subarray(j,j+p);if(_)P.set(_(J,b,I),j+M);else{for(var Z=k.length,ee=[],we=0;we<Z;we+=1)ee[we]=k[we](J,b,I);var Re=z$(ee.concat());P.set(ee[Re],j+M)}I=J}return P})(n,e,Math.ceil(t*r/8),u);var d=Lv(n,{level:i});return fn.API.__addimage__.arrayBufferToBinaryString(d)}function U$(n){var e=Array.apply([],n);return e.unshift(0),e}function fC(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var i=n[s-e]||0;r[s+1]=n[s]-i+256&255}return r}function pC(n,e,t){var r=n.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var u=t&&t[i]||0;s[i+1]=n[i]-u+256&255}return s}function gC(n,e,t){var r=n.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var u=n[i-e]||0,d=t&&t[i]||0;s[i+1]=n[i]+256-(u+d>>>1)&255}return s}function mC(n,e,t){var r=n.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var u=V$(n[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);s[i+1]=n[i]-u+256&255}return s}function V$(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),i=Math.abs(n+e-t-t);return r<=s&&r<=i?n:s<=i?e:t}function z$(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Ly(n,e,t){var r=e*t,s=Math.floor(r/8),i=16-(r-8*s+t),u=(1<<t)-1;return TI(n,s)>>i&u}function xC(n,e,t,r){var s=t*r,i=Math.floor(s/8),u=16-(s-8*i+r),d=(1<<r)-1,g=(e&d)<<u;(function(p,b,_){if(b+1<p.byteLength)p.setUint16(b,_,!1);else{var I=_>>8&255;p.setUint8(b,I)}})(n,i,TI(n,i)&~(d<<u)&65535|g)}function TI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function H$(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],i=s>>7,u=1<<1+(7&s);n[e++],n[e++];var d=null,g=null;i&&(d=e,g=u,e+=3*u);var p=!0,b=[],_=0,I=null,S=0,P=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,P=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[e++];_=n[e++]|n[e++]<<8,I=n[e++],1&k||(I=null),S=k>>2&7,e++;break;case 254:for(;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var M=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,J=n[e++]|n[e++]<<8,Z=n[e++]|n[e++]<<8,ee=n[e++],we=ee>>6&1,Re=1<<1+(7&ee),Y=d,U=g,F=!1;ee>>7&&(F=!0,Y=e,U=Re,e+=3*Re);var te=e;for(e++;;){var z;if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}b.push({x:M,y:j,width:J,height:Z,has_local_palette:F,palette_offset:Y,palette_size:U,data_offset:te,data_length:e-te,transparent_index:I,interlaced:!!we,delay:_,disposal:S});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return P},this.frameInfo=function(q){if(q<0||q>=b.length)throw new Error("Frame index out of range.");return b[q]},this.decodeAndBlitFrameBGRA=function(q,X){var be=this.frameInfo(q),pe=be.width*be.height,ge=new Uint8Array(pe);yC(n,be.data_offset,ge,pe);var Se=be.palette_offset,ye=be.transparent_index;ye===null&&(ye=256);var De=be.width,rt=t-De,me=De,$=4*(be.y*t+be.x),le=4*((be.y+be.height)*t+be.x),he=$,Ie=4*rt;be.interlaced===!0&&(Ie+=4*t*7);for(var Ae=8,Oe=0,ze=ge.length;Oe<ze;++Oe){var We=ge[Oe];if(me===0&&(me=De,(he+=Ie)>=le&&(Ie=4*rt+4*t*(Ae-1),he=$+(De+rt)*(Ae<<1),Ae>>=1)),We===ye)he+=4;else{var it=n[Se+3*We],mt=n[Se+3*We+1],Nt=n[Se+3*We+2];X[he++]=Nt,X[he++]=mt,X[he++]=it,X[he++]=255}--me}},this.decodeAndBlitFrameRGBA=function(q,X){var be=this.frameInfo(q),pe=be.width*be.height,ge=new Uint8Array(pe);yC(n,be.data_offset,ge,pe);var Se=be.palette_offset,ye=be.transparent_index;ye===null&&(ye=256);var De=be.width,rt=t-De,me=De,$=4*(be.y*t+be.x),le=4*((be.y+be.height)*t+be.x),he=$,Ie=4*rt;be.interlaced===!0&&(Ie+=4*t*7);for(var Ae=8,Oe=0,ze=ge.length;Oe<ze;++Oe){var We=ge[Oe];if(me===0&&(me=De,(he+=Ie)>=le&&(Ie=4*rt+4*t*(Ae-1),he=$+(De+rt)*(Ae<<1),Ae>>=1)),We===ye)he+=4;else{var it=n[Se+3*We],mt=n[Se+3*We+1],Nt=n[Se+3*We+2];X[he++]=it,X[he++]=mt,X[he++]=Nt,X[he++]=255}--me}}}function yC(n,e,t,r){for(var s=n[e++],i=1<<s,u=i+1,d=u+1,g=s+1,p=(1<<g)-1,b=0,_=0,I=0,S=n[e++],P=new Int32Array(4096),k=null;;){for(;b<16&&S!==0;)_|=n[e++]<<b,b+=8,S===1?S=n[e++]:--S;if(b<g)break;var M=_&p;if(_>>=g,b-=g,M!==i){if(M===u)break;for(var j=M<d?M:k,J=0,Z=j;Z>i;)Z=P[Z]>>8,++J;var ee=Z;if(I+J+(j!==M?1:0)>r)return void As.log("Warning, gif stream longer than expected.");t[I++]=ee;var we=I+=J;for(j!==M&&(t[I++]=ee),Z=j;J--;)Z=P[Z],t[--we]=255&Z,Z>>=8;k!==null&&d<4096&&(P[d++]=k<<8|ee,d>=p+1&&g<12&&(++g,p=p<<1|1)),k=M}else d=u+1,p=(1<<(g=s+1))-1,k=null}return I!==r&&As.log("Warning, gif stream shorter than expected."),t}function ky(n){var e,t,r,s,i,u=Math.floor,d=new Array(64),g=new Array(64),p=new Array(64),b=new Array(64),_=new Array(65535),I=new Array(65535),S=new Array(64),P=new Array(64),k=[],M=0,j=7,J=new Array(64),Z=new Array(64),ee=new Array(64),we=new Array(256),Re=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],be=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge($,le){for(var he=0,Ie=0,Ae=new Array,Oe=1;Oe<=16;Oe++){for(var ze=1;ze<=$[Oe];ze++)Ae[le[Ie]]=[],Ae[le[Ie]][0]=he,Ae[le[Ie]][1]=Oe,Ie++,he++;he*=2}return Ae}function Se($){for(var le=$[0],he=$[1]-1;he>=0;)le&1<<he&&(M|=1<<j),he--,--j<0&&(M==255?(ye(255),ye(0)):ye(M),j=7,M=0)}function ye($){k.push($)}function De($){ye($>>8&255),ye(255&$)}function rt($,le,he,Ie,Ae){for(var Oe,ze=Ae[0],We=Ae[240],it=(function(et,jt){var ot,pn,un,Cn,Vn,gn,Xn,Dn,Mt,jn,Yt=0;for(Mt=0;Mt<8;++Mt){ot=et[Yt],pn=et[Yt+1],un=et[Yt+2],Cn=et[Yt+3],Vn=et[Yt+4],gn=et[Yt+5],Xn=et[Yt+6];var cs=ot+(Dn=et[Yt+7]),Kt=ot-Dn,at=pn+Xn,Vt=pn-Xn,Bt=un+gn,Lt=un-gn,dr=Cn+Vn,wn=Cn-Vn,En=cs+dr,en=cs-dr,Xt=at+Bt,tn=at-Bt;et[Yt]=En+Xt,et[Yt+4]=En-Xt;var Qn=.707106781*(tn+en);et[Yt+2]=en+Qn,et[Yt+6]=en-Qn;var Gr=.382683433*((En=wn+Lt)-(tn=Vt+Kt)),Vs=.5411961*En+Gr,Wr=1.306562965*tn+Gr,us=.707106781*(Xt=Lt+Vt),on=Kt+us,zs=Kt-us;et[Yt+5]=zs+Vs,et[Yt+3]=zs-Vs,et[Yt+1]=on+Wr,et[Yt+7]=on-Wr,Yt+=8}for(Yt=0,Mt=0;Mt<8;++Mt){ot=et[Yt],pn=et[Yt+8],un=et[Yt+16],Cn=et[Yt+24],Vn=et[Yt+32],gn=et[Yt+40],Xn=et[Yt+48];var ti=ot+(Dn=et[Yt+56]),Ss=ot-Dn,oa=pn+Xn,Gn=pn-Xn,br=un+gn,Rr=un-gn,Rt=Cn+Vn,vs=Cn-Vn,wr=ti+Rt,Kn=ti-Rt,ns=oa+br,Js=oa-br;et[Yt]=wr+ns,et[Yt+32]=wr-ns;var Aa=.707106781*(Js+Kn);et[Yt+16]=Kn+Aa,et[Yt+48]=Kn-Aa;var Zs=.382683433*((wr=vs+Rr)-(Js=Gn+Ss)),Ni=.5411961*wr+Zs,Ba=1.306562965*Js+Zs,Hs=.707106781*(ns=Rr+Gn),Ur=Ss+Hs,$n=Ss-Hs;et[Yt+40]=$n+Ni,et[Yt+24]=$n-Ni,et[Yt+8]=Ur+Ba,et[Yt+56]=Ur-Ba,Yt++}for(Mt=0;Mt<64;++Mt)jn=et[Mt]*jt[Mt],S[Mt]=jn>0?jn+.5|0:jn-.5|0;return S})($,le),mt=0;mt<64;++mt)P[Y[mt]]=it[mt];var Nt=P[0]-he;he=P[0],Nt==0?Se(Ie[0]):(Se(Ie[I[Oe=32767+Nt]]),Se(_[Oe]));for(var vt=63;vt>0&&P[vt]==0;)vt--;if(vt==0)return Se(ze),he;for(var Ut,ve=1;ve<=vt;){for(var Tt=ve;P[ve]==0&&ve<=vt;)++ve;var Zt=ve-Tt;if(Zt>=16){Ut=Zt>>4;for(var Ot=1;Ot<=Ut;++Ot)Se(We);Zt&=15}Oe=32767+P[ve],Se(Ae[(Zt<<4)+I[Oe]]),Se(_[Oe]),ve++}return vt!=63&&Se(ze),he}function me($){$=Math.min(Math.max($,1),100),i!=$&&((function(le){for(var he=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ie=0;Ie<64;Ie++){var Ae=u((he[Ie]*le+50)/100);Ae=Math.min(Math.max(Ae,1),255),d[Y[Ie]]=Ae}for(var Oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var We=u((Oe[ze]*le+50)/100);We=Math.min(Math.max(We,1),255),g[Y[ze]]=We}for(var it=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],mt=0,Nt=0;Nt<8;Nt++)for(var vt=0;vt<8;vt++)p[mt]=1/(d[Y[mt]]*it[Nt]*it[vt]*8),b[mt]=1/(g[Y[mt]]*it[Nt]*it[vt]*8),mt++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,le){le&&me(le),k=new Array,M=0,j=7,De(65496),De(65504),De(16),ye(74),ye(70),ye(73),ye(70),ye(0),ye(1),ye(1),ye(0),De(1),De(1),ye(0),ye(0),(function(){De(65499),De(132),ye(0);for(var pn=0;pn<64;pn++)ye(d[pn]);ye(1);for(var un=0;un<64;un++)ye(g[un])})(),(function(pn,un){De(65472),De(17),ye(8),De(un),De(pn),ye(3),ye(1),ye(17),ye(0),ye(2),ye(17),ye(1),ye(3),ye(17),ye(1)})($.width,$.height),(function(){De(65476),De(418),ye(0);for(var pn=0;pn<16;pn++)ye(U[pn+1]);for(var un=0;un<=11;un++)ye(F[un]);ye(16);for(var Cn=0;Cn<16;Cn++)ye(te[Cn+1]);for(var Vn=0;Vn<=161;Vn++)ye(z[Vn]);ye(1);for(var gn=0;gn<16;gn++)ye(q[gn+1]);for(var Xn=0;Xn<=11;Xn++)ye(X[Xn]);ye(17);for(var Dn=0;Dn<16;Dn++)ye(be[Dn+1]);for(var Mt=0;Mt<=161;Mt++)ye(pe[Mt])})(),De(65498),De(12),ye(3),ye(1),ye(0),ye(2),ye(17),ye(3),ye(17),ye(0),ye(63),ye(0);var he=0,Ie=0,Ae=0;M=0,j=7,this.encode.displayName="_encode_";for(var Oe,ze,We,it,mt,Nt,vt,Ut,ve,Tt=$.data,Zt=$.width,Ot=$.height,et=4*Zt,jt=0;jt<Ot;){for(Oe=0;Oe<et;){for(mt=et*jt+Oe,vt=-1,Ut=0,ve=0;ve<64;ve++)Nt=mt+(Ut=ve>>3)*et+(vt=4*(7&ve)),jt+Ut>=Ot&&(Nt-=et*(jt+1+Ut-Ot)),Oe+vt>=et&&(Nt-=Oe+vt-et+4),ze=Tt[Nt++],We=Tt[Nt++],it=Tt[Nt++],J[ve]=(Re[ze]+Re[We+256|0]+Re[it+512|0]>>16)-128,Z[ve]=(Re[ze+768|0]+Re[We+1024|0]+Re[it+1280|0]>>16)-128,ee[ve]=(Re[ze+1280|0]+Re[We+1536|0]+Re[it+1792|0]>>16)-128;he=rt(J,p,he,e,r),Ie=rt(Z,b,Ie,t,s),Ae=rt(ee,b,Ae,t,s),Oe+=32}jt+=8}if(j>=0){var ot=[];ot[1]=j+1,ot[0]=(1<<j+1)-1,Se(ot)}return De(65497),new Uint8Array(k)},n=n||50,(function(){for(var $=String.fromCharCode,le=0;le<256;le++)we[le]=$(le)})(),e=ge(U,F),t=ge(q,X),r=ge(te,z),s=ge(be,pe),(function(){for(var $=1,le=2,he=1;he<=15;he++){for(var Ie=$;Ie<le;Ie++)I[32767+Ie]=he,_[32767+Ie]=[],_[32767+Ie][1]=he,_[32767+Ie][0]=Ie;for(var Ae=-(le-1);Ae<=-$;Ae++)I[32767+Ae]=he,_[32767+Ae]=[],_[32767+Ae][1]=he,_[32767+Ae][0]=le-1+Ae;$<<=1,le<<=1}})(),(function(){for(var $=0;$<256;$++)Re[$]=19595*$,Re[$+256|0]=38470*$,Re[$+512|0]=7471*$+32768,Re[$+768|0]=-11059*$,Re[$+1024|0]=-21709*$,Re[$+1280|0]=32768*$+8421375,Re[$+1536|0]=-27439*$,Re[$+1792|0]=-5329*$})(),me(n)}function _l(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vC(n){function e(F){if(!F)throw Error("assert :P")}function t(F,te,z){for(var q=0;4>q;q++)if(F[te+q]!=z.charCodeAt(q))return!0;return!1}function r(F,te,z,q,X){for(var be=0;be<X;be++)F[te+be]=z[q+be]}function s(F,te,z,q){for(var X=0;X<q;X++)F[te+X]=z}function i(F){return new Int32Array(F)}function u(F,te){for(var z=[],q=0;q<F;q++)z.push(new te);return z}function d(F,te){var z=[];return(function q(X,be,pe){for(var ge=pe[be],Se=0;Se<ge&&(X.push(pe.length>be+1?[]:new te),!(pe.length<be+1));Se++)q(X[Se],be+1,pe)})(z,0,F),z}var g=function(){var F=this;function te(E,T){for(var B=1<<T-1>>>0;E&B;)B>>>=1;return B?(E&B-1)+B:E}function z(E,T,B,W,ae){e(!(W%B));do E[T+(W-=B)]=ae;while(0<W)}function q(E,T,B,W,ae){if(e(2328>=ae),512>=ae)var oe=i(512);else if((oe=i(ae))==null)return 0;return(function(ce,fe,xe,Te,je,Qe){var Ne,Be,Ge=fe,ct=1<<xe,Xe=i(16),lt=i(16);for(e(je!=0),e(Te!=null),e(ce!=null),e(0<xe),Be=0;Be<je;++Be){if(15<Te[Be])return 0;++Xe[Te[Be]]}if(Xe[0]==je)return 0;for(lt[1]=0,Ne=1;15>Ne;++Ne){if(Xe[Ne]>1<<Ne)return 0;lt[Ne+1]=lt[Ne]+Xe[Ne]}for(Be=0;Be<je;++Be)Ne=Te[Be],0<Te[Be]&&(Qe[lt[Ne]++]=Be);if(lt[15]==1)return(Te=new X).g=0,Te.value=Qe[0],z(ce,Ge,1,ct,Te),ct;var gt,St=-1,At=ct-1,nn=0,qt=1,zn=1,$t=1<<xe;for(Be=0,Ne=1,je=2;Ne<=xe;++Ne,je<<=1){if(qt+=zn<<=1,0>(zn-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne])(Te=new X).g=Ne,Te.value=Qe[Be++],z(ce,Ge+nn,je,$t,Te),nn=te(nn,Ne)}for(Ne=xe+1,je=2;15>=Ne;++Ne,je<<=1){if(qt+=zn<<=1,0>(zn-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne]){if(Te=new X,(nn&At)!=St){for(Ge+=$t,gt=1<<(St=Ne)-xe;15>St&&!(0>=(gt-=Xe[St]));)++St,gt<<=1;ct+=$t=1<<(gt=St-xe),ce[fe+(St=nn&At)].g=gt+xe,ce[fe+St].value=Ge-fe-St}Te.g=Ne-xe,Te.value=Qe[Be++],z(ce,Ge+(nn>>xe),je,$t,Te),nn=te(nn,Ne)}}return qt!=2*lt[15]-1?0:ct})(E,T,B,W,ae,oe)}function X(){this.value=this.g=0}function be(){this.value=this.g=0}function pe(){this.G=u(5,X),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ta,be)}function ge(E,T,B,W){e(E!=null),e(T!=null),e(2147483648>W),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=T,E.pa=B,E.Jd=T,E.Yc=B+W,E.Zc=4<=W?B+W-4+1:B,ze(E)}function Se(E,T){for(var B=0;0<T--;)B|=it(E,128)<<T;return B}function ye(E,T){var B=Se(E,T);return We(E)?-B:B}function De(E,T,B,W){var ae,oe=0;for(e(E!=null),e(T!=null),e(4294967288>W),E.Sb=W,E.Ra=0,E.u=0,E.h=0,4<W&&(W=4),ae=0;ae<W;++ae)oe+=T[B+ae]<<8*ae;E.Ra=oe,E.bb=W,E.oa=T,E.pa=B}function rt(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<yi-8>>>0,++E.bb,E.u-=8;Ie(E)&&(E.h=1,E.u=0)}function me(E,T){if(e(0<=T),!E.h&&T<=Ia){var B=he(E)&xi[T];return E.u+=T,rt(E),B}return E.h=1,E.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function le(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function he(E){return E.Ra>>>(E.u&yi-1)>>>0}function Ie(E){return e(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>yi}function Ae(E,T){E.u=T,E.h=Ie(E)}function Oe(E){E.u>=qn&&(e(E.u>=qn),rt(E))}function ze(E){e(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(e(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function We(E){return Se(E,1)}function it(E,T){var B=E.Ca;0>E.b&&ze(E);var W=E.b,ae=B*T>>>8,oe=(E.I>>>W>ae)+0;for(oe?(B-=ae,E.I-=ae+1<<W>>>0):B=ae+1,W=B,ae=0;256<=W;)ae+=8,W>>=8;return W=7^ae+Wi[W],E.b-=W,E.Ca=(B<<W)-1,oe}function mt(E,T,B){E[T+0]=B>>24&255,E[T+1]=B>>16&255,E[T+2]=B>>8&255,E[T+3]=255&B}function Nt(E,T){return E[T+0]|E[T+1]<<8}function vt(E,T){return Nt(E,T)|E[T+2]<<16}function Ut(E,T){return Nt(E,T)|Nt(E,T+2)<<16}function ve(E,T){var B=1<<T;return e(E!=null),e(0<T),E.X=i(B),E.X==null?0:(E.Mb=32-T,E.Xa=T,1)}function Tt(E,T){e(E!=null),e(T!=null),e(E.Xa==T.Xa),r(T.X,0,E.X,0,1<<T.Xa)}function Zt(){this.X=[],this.Xa=this.Mb=0}function Ot(E,T,B,W){e(B!=null),e(W!=null);var ae=B[0],oe=W[0];return ae==0&&(ae=(E*oe+T/2)/T),oe==0&&(oe=(T*ae+E/2)/E),0>=ae||0>=oe?0:(B[0]=ae,W[0]=oe,1)}function et(E,T){return E+(1<<T)-1>>>T}function jt(E,T){return((4278255360&E)+(4278255360&T)>>>0&4278255360)+((16711935&E)+(16711935&T)>>>0&16711935)>>>0}function ot(E,T){F[T]=function(B,W,ae,oe,ce,fe,xe){var Te;for(Te=0;Te<ce;++Te){var je=F[E](fe[xe+Te-1],ae,oe+Te);fe[xe+Te]=jt(B[W+Te],je)}}}function pn(){this.ud=this.hd=this.jd=0}function un(E,T){return((4278124286&(E^T))>>>1)+(E&T)>>>0}function Cn(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function Vn(E,T){return Cn(E+(E-T+.5>>1))}function gn(E,T,B){return Math.abs(T-B)-Math.abs(E-B)}function Xn(E,T,B,W,ae,oe,ce){for(W=oe[ce-1],B=0;B<ae;++B)oe[ce+B]=W=jt(E[T+B],W)}function Dn(E,T,B,W,ae){var oe;for(oe=0;oe<B;++oe){var ce=E[T+oe],fe=ce>>8&255,xe=16711935&(xe=(xe=16711935&ce)+((fe<<16)+fe));W[ae+oe]=(4278255360&ce)+xe>>>0}}function Mt(E,T){T.jd=255&E,T.hd=E>>8&255,T.ud=E>>16&255}function jn(E,T,B,W,ae,oe){var ce;for(ce=0;ce<W;++ce){var fe=T[B+ce],xe=fe>>>8,Te=fe,je=255&(je=(je=fe>>>16)+((E.jd<<24>>24)*(xe<<24>>24)>>>5));Te=255&(Te=(Te+=(E.hd<<24>>24)*(xe<<24>>24)>>>5)+((E.ud<<24>>24)*(je<<24>>24)>>>5)),ae[oe+ce]=(4278255360&fe)+(je<<16)+Te}}function Yt(E,T,B,W,ae){F[T]=function(oe,ce,fe,xe,Te,je,Qe,Ne,Be){for(xe=Qe;xe<Ne;++xe)for(Qe=0;Qe<Be;++Qe)Te[je++]=ae(fe[W(oe[ce++])])},F[E]=function(oe,ce,fe,xe,Te,je,Qe){var Ne=8>>oe.b,Be=oe.Ea,Ge=oe.K[0],ct=oe.w;if(8>Ne)for(oe=(1<<oe.b)-1,ct=(1<<Ne)-1;ce<fe;++ce){var Xe,lt=0;for(Xe=0;Xe<Be;++Xe)Xe&oe||(lt=W(xe[Te++])),je[Qe++]=ae(Ge[lt&ct]),lt>>=Ne}else F["VP8LMapColor"+B](xe,Te,Ge,ct,je,Qe,ce,fe,Be)}}function cs(E,T,B,W,ae){for(B=T+B;T<B;){var oe=E[T++];W[ae++]=oe>>16&255,W[ae++]=oe>>8&255,W[ae++]=255&oe}}function Kt(E,T,B,W,ae){for(B=T+B;T<B;){var oe=E[T++];W[ae++]=oe>>16&255,W[ae++]=oe>>8&255,W[ae++]=255&oe,W[ae++]=oe>>24&255}}function at(E,T,B,W,ae){for(B=T+B;T<B;){var oe=(ce=E[T++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;W[ae++]=oe,W[ae++]=ce}}function Vt(E,T,B,W,ae){for(B=T+B;T<B;){var oe=(ce=E[T++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;W[ae++]=oe,W[ae++]=ce}}function Bt(E,T,B,W,ae){for(B=T+B;T<B;){var oe=E[T++];W[ae++]=255&oe,W[ae++]=oe>>8&255,W[ae++]=oe>>16&255}}function Lt(E,T,B,W,ae,oe){if(oe==0)for(B=T+B;T<B;)mt(W,((oe=E[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ae+=32;else r(W,ae,E,T,B)}function dr(E,T){F[T][0]=F[E+"0"],F[T][1]=F[E+"1"],F[T][2]=F[E+"2"],F[T][3]=F[E+"3"],F[T][4]=F[E+"4"],F[T][5]=F[E+"5"],F[T][6]=F[E+"6"],F[T][7]=F[E+"7"],F[T][8]=F[E+"8"],F[T][9]=F[E+"9"],F[T][10]=F[E+"10"],F[T][11]=F[E+"11"],F[T][12]=F[E+"12"],F[T][13]=F[E+"13"],F[T][14]=F[E+"0"],F[T][15]=F[E+"0"]}function wn(E){return E==yh||E==fd||E==du||E==pd}function En(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new en,this.sd=null}function tn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gr(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function Vs(E,T){var B=E.T,W=T.ba.f.RGBA,ae=W.eb,oe=W.fb+E.ka*W.A,ce=oi[T.ba.S],fe=E.y,xe=E.O,Te=E.f,je=E.N,Qe=E.ea,Ne=E.W,Be=T.cc,Ge=T.dc,ct=T.Mc,Xe=T.Nc,lt=E.ka,gt=E.ka+E.T,St=E.U,At=St+1>>1;for(lt==0?ce(fe,xe,null,null,Te,je,Qe,Ne,Te,je,Qe,Ne,ae,oe,null,null,St):(ce(T.ec,T.fc,fe,xe,Be,Ge,ct,Xe,Te,je,Qe,Ne,ae,oe-W.A,ae,oe,St),++B);lt+2<gt;lt+=2)Be=Te,Ge=je,ct=Qe,Xe=Ne,je+=E.Rc,Ne+=E.Rc,oe+=2*W.A,ce(fe,(xe+=2*E.fa)-E.fa,fe,xe,Be,Ge,ct,Xe,Te,je,Qe,Ne,ae,oe-W.A,ae,oe,St);return xe+=E.fa,E.j+gt<E.o?(r(T.ec,T.fc,fe,xe,St),r(T.cc,T.dc,Te,je,At),r(T.Mc,T.Nc,Qe,Ne,At),B--):1&gt||ce(fe,xe,null,null,Te,je,Qe,Ne,Te,je,Qe,Ne,ae,oe+W.A,null,null,St),B}function Wr(E,T,B){var W=E.F,ae=[E.J];if(W!=null){var oe=E.U,ce=T.ba.S,fe=ce==xh||ce==du;T=T.ba.f.RGBA;var xe=[0],Te=E.ka;xe[0]=E.T,E.Kb&&(Te==0?--xe[0]:(--Te,ae[0]-=E.width),E.j+E.ka+E.T==E.o&&(xe[0]=E.o-E.j-Te));var je=T.eb;Te=T.fb+Te*T.A,E=fh(W,ae[0],E.width,oe,xe,je,Te+(fe?0:3),T.A),e(B==xe),E&&wn(ce)&&fl(je,Te,fe,oe,xe,T.A)}return 0}function us(E){var T=E.ma,B=T.ba.S,W=11>B,ae=B==wi||B==xo||B==xh||B==hu||B==12||wn(B);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!co(T.Oa,E,ae?11:12))return 0;if(ae&&wn(B)&&Pn(),E.da)alert("todo:use_scaling");else{if(W){if(T.Ib=Gr,E.Kb){if(B=E.U+1>>1,T.memory=i(E.U+2*B),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+E.U,T.Mc=T.cc,T.Nc=T.dc+B,T.Ib=Vs,Pn()}}else alert("todo:EmitYUV");ae&&(T.Jb=Wr,W&&Je())}if(W&&!Yl){for(E=0;256>E;++E)li[E]=89858*(E-128)+gu>>Ao,A2[E]=-22014*(E-128)+gu,X0[E]=-45773*(E-128),vd[E]=113618*(E-128)+gu>>Ao;for(E=Nc;E<Wl;++E)T=76283*(E-16)+gu>>Ao,E2[E-Nc]=Ea(T,255),C2[E-Nc]=Ea(T+8>>4,15);Yl=1}return 1}function on(E){var T=E.ma,B=E.U,W=E.T;return e(!(1&E.ka)),0>=B||0>=W?0:(B=T.Ib(E,T),T.Jb!=null&&T.Jb(E,T,B),T.Dc+=B,1)}function zs(E){E.ma.memory=null}function ti(E,T,B,W){return me(E,8)!=47?0:(T[0]=me(E,14)+1,B[0]=me(E,14)+1,W[0]=me(E,1),me(E,3)!=0?0:!E.h)}function Ss(E,T){if(4>E)return E+1;var B=E-2>>1;return(2+(1&E)<<B)+me(T,B)+1}function oa(E,T){return 120<T?T-120:1<=(B=((B=vo[T-1])>>4)*E+(8-(15&B)))?B:1;var B}function Gn(E,T,B){var W=he(B),ae=E[T+=255&W].g-8;return 0<ae&&(Ae(B,B.u+8),W=he(B),T+=E[T].value,T+=W&(1<<ae)-1),Ae(B,B.u+E[T].g),E[T].value}function br(E,T,B){return B.g+=E.g,B.value+=E.value<<T>>>0,e(8>=B.g),E.g}function Rr(E,T,B){var W=E.xc;return e((T=W==0?0:E.vc[E.md*(B>>W)+(T>>W)])<E.Wb),E.Ya[T]}function Rt(E,T,B,W){var ae=E.ab,oe=E.c*T,ce=E.C;T=ce+T;var fe=B,xe=W;for(W=E.Ta,B=E.Ua;0<ae--;){var Te=E.gc[ae],je=ce,Qe=T,Ne=fe,Be=xe,Ge=(xe=W,fe=B,Te.Ea);switch(e(je<Qe),e(Qe<=Te.nc),Te.hc){case 2:c(Ne,Be,(Qe-je)*Ge,xe,fe);break;case 0:var ct=je,Xe=Qe,lt=xe,gt=fe,St=($t=Te).Ea;ct==0&&(re(Ne,Be,null,null,1,lt,gt),Xn(Ne,Be+1,0,0,St-1,lt,gt+1),Be+=St,gt+=St,++ct);for(var At=1<<$t.b,nn=At-1,qt=et(St,$t.b),zn=$t.K,$t=$t.w+(ct>>$t.b)*qt;ct<Xe;){var mr=zn,ws=$t,Zn=1;for(o(Ne,Be,lt,gt-St,1,lt,gt);Zn<St;){var Gt=(Zn&~nn)+At;Gt>St&&(Gt=St),(0,C[mr[ws++]>>8&15])(Ne,Be+ +Zn,lt,gt+Zn-St,Gt-Zn,lt,gt+Zn),Zn=Gt}Be+=St,gt+=St,++ct&nn||($t+=qt)}Qe!=Te.nc&&r(xe,fe-Ge,xe,fe+(Qe-je-1)*Ge,Ge);break;case 1:for(Ge=Ne,Xe=Be,St=(Ne=Te.Ea)-(gt=Ne&~(lt=(Be=1<<Te.b)-1)),ct=et(Ne,Te.b),At=Te.K,Te=Te.w+(je>>Te.b)*ct;je<Qe;){for(nn=At,qt=Te,zn=new pn,$t=Xe+gt,mr=Xe+Ne;Xe<$t;)Mt(nn[qt++],zn),R(zn,Ge,Xe,Be,xe,fe),Xe+=Be,fe+=Be;Xe<mr&&(Mt(nn[qt++],zn),R(zn,Ge,Xe,St,xe,fe),Xe+=St,fe+=St),++je&lt||(Te+=ct)}break;case 3:if(Ne==xe&&Be==fe&&0<Te.b){for(Xe=xe,Ne=Ge=fe+(Qe-je)*Ge-(gt=(Qe-je)*et(Te.Ea,Te.b)),Be=xe,lt=fe,ct=[],gt=(St=gt)-1;0<=gt;--gt)ct[gt]=Be[lt+gt];for(gt=St-1;0<=gt;--gt)Xe[Ne+gt]=ct[gt];h(Te,je,Qe,xe,Ge,xe,fe)}else h(Te,je,Qe,Ne,Be,xe,fe)}fe=W,xe=B}xe!=B&&r(W,B,fe,xe,oe)}function vs(E,T){var B=E.V,W=E.Ba+E.c*E.C,ae=T-E.C;if(e(T<=E.l.o),e(16>=ae),0<ae){var oe=E.l,ce=E.Ta,fe=E.Ua,xe=oe.width;if(Rt(E,ae,B,W),ae=fe=[fe],e((B=E.C)<(W=T)),e(oe.v<oe.va),W>oe.o&&(W=oe.o),B<oe.j){var Te=oe.j-B;B=oe.j,ae[0]+=Te*xe}if(B>=W?B=0:(ae[0]+=4*oe.v,oe.ka=B-oe.j,oe.U=oe.va-oe.v,oe.T=W-B,B=1),B){if(fe=fe[0],11>(B=E.ca).S){var je=B.f.RGBA,Qe=(W=B.S,ae=oe.U,oe=oe.T,Te=je.eb,je.A),Ne=oe;for(je=je.fb+E.Ma*je.A;0<Ne--;){var Be=ce,Ge=fe,ct=ae,Xe=Te,lt=je;switch(W){case hd:L(Be,Ge,ct,Xe,lt);break;case wi:G(Be,Ge,ct,Xe,lt);break;case yh:G(Be,Ge,ct,Xe,lt),fl(Xe,lt,0,ct,1,0);break;case dd:Ee(Be,Ge,ct,Xe,lt);break;case xo:Lt(Be,Ge,ct,Xe,lt,1);break;case fd:Lt(Be,Ge,ct,Xe,lt,1),fl(Xe,lt,0,ct,1,0);break;case xh:Lt(Be,Ge,ct,Xe,lt,0);break;case du:Lt(Be,Ge,ct,Xe,lt,0),fl(Xe,lt,1,ct,1,0);break;case hu:se(Be,Ge,ct,Xe,lt);break;case pd:se(Be,Ge,ct,Xe,lt),mo(Xe,lt,ct,1,0);break;case Vl:ie(Be,Ge,ct,Xe,lt);break;default:e(0)}fe+=xe,je+=Qe}E.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(E.Ma<=B.height)}}E.C=T,e(E.C<=E.i)}function wr(E){var T;if(0<E.ua)return 0;for(T=0;T<E.Wb;++T){var B=E.Ya[T].G,W=E.Ya[T].H;if(0<B[1][W[1]+0].g||0<B[2][W[2]+0].g||0<B[3][W[3]+0].g)return 0}return 1}function Kn(E,T,B,W,ae,oe){if(E.Z!=0){var ce=E.qd,fe=E.rd;for(e(gl[E.Z]!=null);T<B;++T)gl[E.Z](ce,fe,W,ae,W,ae,oe),ce=W,fe=ae,ae+=oe;E.qd=ce,E.rd=fe}}function ns(E,T){var B=E.l.ma,W=B.Z==0||B.Z==1?E.l.j:E.C;if(W=E.C<W?W:E.C,e(T<=E.l.o),T>W){var ae=E.l.width,oe=B.ca,ce=B.tb+ae*W,fe=E.V,xe=E.Ba+E.c*W,Te=E.gc;e(E.ab==1),e(Te[0].hc==3),y(Te[0],W,T,fe,xe,oe,ce),Kn(B,W,T,oe,ce,ae)}E.C=E.Ma=T}function Js(E,T,B,W,ae,oe,ce){var fe=E.$/W,xe=E.$%W,Te=E.m,je=E.s,Qe=B+E.$,Ne=Qe;ae=B+W*ae;var Be=B+W*oe,Ge=280+je.ua,ct=E.Pb?fe:16777216,Xe=0<je.ua?je.Wa:null,lt=je.wc,gt=Qe<Be?Rr(je,xe,fe):null;e(E.C<oe),e(Be<=ae);var St=!1;e:for(;;){for(;St||Qe<Be;){var At=0;if(fe>=ct){var nn=Qe-B;e((ct=E).Pb),ct.wd=ct.m,ct.xd=nn,0<ct.s.ua&&Tt(ct.s.Wa,ct.s.vb),ct=fe+zl}if(xe&lt||(gt=Rr(je,xe,fe)),e(gt!=null),gt.Qb&&(T[Qe]=gt.qb,St=!0),!St)if(Oe(Te),gt.jc){At=Te,nn=T;var qt=Qe,zn=gt.pd[he(At)&Ta-1];e(gt.jc),256>zn.g?(Ae(At,At.u+zn.g),nn[qt]=zn.value,At=0):(Ae(At,At.u+zn.g-256),e(256<=zn.value),At=zn.value),At==0&&(St=!0)}else At=Gn(gt.G[0],gt.H[0],Te);if(Te.h)break;if(St||256>At){if(!St)if(gt.nd)T[Qe]=(gt.qb|At<<8)>>>0;else{if(Oe(Te),St=Gn(gt.G[1],gt.H[1],Te),Oe(Te),nn=Gn(gt.G[2],gt.H[2],Te),qt=Gn(gt.G[3],gt.H[3],Te),Te.h)break;T[Qe]=(qt<<24|St<<16|At<<8|nn)>>>0}if(St=!1,++Qe,++xe>=W&&(xe=0,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(E,fe),Xe!=null))for(;Ne<Qe;)At=T[Ne++],Xe.X[(506832829*At&4294967295)>>>Xe.Mb]=At}else if(280>At){if(At=Ss(At-256,Te),nn=Gn(gt.G[4],gt.H[4],Te),Oe(Te),nn=oa(W,nn=Ss(nn,Te)),Te.h)break;if(Qe-B<nn||ae-Qe<At)break e;for(qt=0;qt<At;++qt)T[Qe+qt]=T[Qe+qt-nn];for(Qe+=At,xe+=At;xe>=W;)xe-=W,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(E,fe);if(e(Qe<=ae),xe&lt&&(gt=Rr(je,xe,fe)),Xe!=null)for(;Ne<Qe;)At=T[Ne++],Xe.X[(506832829*At&4294967295)>>>Xe.Mb]=At}else{if(!(At<Ge))break e;for(St=At-280,e(Xe!=null);Ne<Qe;)At=T[Ne++],Xe.X[(506832829*At&4294967295)>>>Xe.Mb]=At;At=Qe,e(!(St>>>(nn=Xe).Xa)),T[At]=nn.X[St],St=!0}St||e(Te.h==Ie(Te))}if(E.Pb&&Te.h&&Qe<ae)e(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Tt(E.s.vb,E.s.Wa);else{if(Te.h)break e;ce?.(E,fe>oe?oe:fe),E.a=0,E.$=Qe-B}return 1}return E.a=3,0}function Aa(E){e(E!=null),E.vc=null,E.yc=null,E.Ya=null;var T=E.Wa;T!=null&&(T.X=null),E.vb=null,e(E!=null)}function Zs(){var E=new bn;return E==null?null:(E.a=0,E.xb=s1,dr("Predictor","VP8LPredictors"),dr("Predictor","VP8LPredictors_C"),dr("PredictorAdd","VP8LPredictorsAdd"),dr("PredictorAdd","VP8LPredictorsAdd_C"),c=Dn,R=jn,L=cs,G=Kt,se=at,ie=Vt,Ee=Bt,F.VP8LMapColor32b=m,F.VP8LMapColor8b=w,E)}function Ni(E,T,B,W,ae){var oe=1,ce=[E],fe=[T],xe=W.m,Te=W.s,je=null,Qe=0;e:for(;;){if(B)for(;oe&&me(xe,1);){var Ne=ce,Be=fe,Ge=W,ct=1,Xe=Ge.m,lt=Ge.gc[Ge.ab],gt=me(Xe,2);if(Ge.Oc&1<<gt)oe=0;else{switch(Ge.Oc|=1<<gt,lt.hc=gt,lt.Ea=Ne[0],lt.nc=Be[0],lt.K=[null],++Ge.ab,e(4>=Ge.ab),gt){case 0:case 1:lt.b=me(Xe,3)+2,ct=Ni(et(lt.Ea,lt.b),et(lt.nc,lt.b),0,Ge,lt.K),lt.K=lt.K[0];break;case 3:var St,At=me(Xe,8)+1,nn=16<At?0:4<At?1:2<At?2:3;if(Ne[0]=et(lt.Ea,nn),lt.b=nn,St=ct=Ni(At,1,0,Ge,lt.K)){var qt,zn=At,$t=lt,mr=1<<(8>>$t.b),ws=i(mr);if(ws==null)St=0;else{var Zn=$t.K[0],Gt=$t.w;for(ws[0]=$t.K[0][0],qt=1;qt<1*zn;++qt)ws[qt]=jt(Zn[Gt+qt],ws[qt-1]);for(;qt<4*mr;++qt)ws[qt]=0;$t.K[0]=null,$t.K[0]=ws,St=1}}ct=St;break;case 2:break;default:e(0)}oe=ct}}if(ce=ce[0],fe=fe[0],oe&&me(xe,1)&&!(oe=1<=(Qe=me(xe,4))&&11>=Qe)){W.a=3;break e}var Pt;if(Pt=oe)t:{var Ps,Ln,sr,Qr=W,Oa=ce,ci=fe,gs=Qe,pa=B,_i=Qr.m,ga=Qr.s,cr=[null],Mr=1,Ls=0,zr=bo[gs];n:for(;;){if(pa&&me(_i,1)){var Da=me(_i,3)+2,ks=et(Oa,Da),jr=et(ci,Da),aa=ks*jr;if(!Ni(ks,jr,0,Qr,cr))break n;for(cr=cr[0],ga.xc=Da,Ps=0;Ps<aa;++Ps){var Kr=cr[Ps]>>8&65535;cr[Ps]=Kr,Kr>=Mr&&(Mr=Kr+1)}}if(_i.h)break n;for(Ln=0;5>Ln;++Ln){var ma=Cc[Ln];!Ln&&0<gs&&(ma+=1<<gs),Ls<ma&&(Ls=ma)}var xa=u(Mr*zr,X),as=Mr,Pr=u(as,pe);if(Pr==null)var Ai=null;else e(65536>=as),Ai=Pr;var Ws=i(Ls);if(Ai==null||Ws==null||xa==null){Qr.a=1;break n}var Sn=xa;for(Ps=sr=0;Ps<Mr;++Ps){var Tn=Ai[Ps],Fr=Tn.G,Yi=Tn.H,Eo=0,ki=1,ya=0;for(Ln=0;5>Ln;++Ln){ma=Cc[Ln],Fr[Ln]=Sn,Yi[Ln]=sr,!Ln&&0<gs&&(ma+=1<<gs);s:{var Xl,Ql=ma,wd=Qr,ms=Ws,i1=Sn,o1=sr,_d=0,ml=wd.m,S2=me(ml,1);if(s(ms,0,0,Ql),S2){var l1=me(ml,1)+1,c1=me(ml,1),Ad=me(ml,c1==0?1:8);ms[Ad]=1,l1==2&&(ms[Ad=me(ml,8)]=1);var Qa=1}else{var Ys=i(19),_h=me(ml,4)+4;if(19<_h){wd.a=3;var Kl=0;break s}for(Xl=0;Xl<_h;++Xl)Ys[vh[Xl]]=me(ml,3);var xu=void 0,Tc=void 0,el=wd,Ed=Ys,yu=Ql,Cd=ms,Sd=0,xl=el.m,u1=8,h1=u(128,X);r:for(;q(h1,0,7,Ed,19);){if(me(xl,1)){var Q0=2+2*me(xl,3);if((xu=2+me(xl,Q0))>yu)break r}else xu=yu;for(Tc=0;Tc<yu&&xu--;){Oe(xl);var d1=h1[0+(127&he(xl))];Ae(xl,xl.u+d1.g);var $l=d1.value;if(16>$l)Cd[Tc++]=$l,$l!=0&&(u1=$l);else{var K0=$l==16,$0=$l-16,J0=fu[$0],f1=me(xl,yo[$0])+J0;if(Tc+f1>yu)break r;for(var Z0=K0?u1:0;0<f1--;)Cd[Tc++]=Z0}}Sd=1;break r}Sd||(el.a=3),Qa=Sd}(Qa=Qa&&!ml.h)&&(_d=q(i1,o1,8,ms,Ql)),Qa&&_d!=0?Kl=_d:(wd.a=3,Kl=0)}if(Kl==0)break n;if(ki&&gd[Ln]==1&&(ki=Sn[sr].g==0),Eo+=Sn[sr].g,sr+=Kl,3>=Ln){var Ic,Nd=Ws[0];for(Ic=1;Ic<ma;++Ic)Ws[Ic]>Nd&&(Nd=Ws[Ic]);ya+=Nd}}if(Tn.nd=ki,Tn.Qb=0,ki&&(Tn.qb=(Fr[3][Yi[3]+0].value<<24|Fr[1][Yi[1]+0].value<<16|Fr[2][Yi[2]+0].value)>>>0,Eo==0&&256>Fr[0][Yi[0]+0].value&&(Tn.Qb=1,Tn.qb+=Fr[0][Yi[0]+0].value<<8)),Tn.jc=!Tn.Qb&&6>ya,Tn.jc){var Ah,tl=Tn;for(Ah=0;Ah<Ta;++Ah){var yl=Ah,vl=tl.pd[yl],Td=tl.G[0][tl.H[0]+yl];256<=Td.value?(vl.g=Td.g+256,vl.value=Td.value):(vl.g=0,vl.value=0,yl>>=br(Td,8,vl),yl>>=br(tl.G[1][tl.H[1]+yl],16,vl),yl>>=br(tl.G[2][tl.H[2]+yl],0,vl),br(tl.G[3][tl.H[3]+yl],24,vl))}}}ga.vc=cr,ga.Wb=Mr,ga.Ya=Ai,ga.yc=xa,Pt=1;break t}Pt=0}if(!(oe=Pt)){W.a=3;break e}if(0<Qe){if(Te.ua=1<<Qe,!ve(Te.Wa,Qe)){W.a=1,oe=0;break e}}else Te.ua=0;var Id=W,Rc=ce,ep=fe,vu=Id.s,bu=vu.xc;if(Id.c=Rc,Id.i=ep,vu.md=et(Rc,bu),vu.wc=bu==0?-1:(1<<bu)-1,B){W.xb=Hl;break e}if((je=i(ce*fe))==null){W.a=1,oe=0;break e}oe=(oe=Js(W,je,0,ce,fe,fe,null))&&!xe.h;break e}return oe?(ae!=null?ae[0]=je:(e(je==null),e(B)),W.$=0,B||Aa(Te)):Aa(Te),oe}function Ba(E,T){var B=E.c*E.i,W=B+T+16*T;return e(E.c<=T),E.V=i(W),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+B+T,1)}function Hs(E,T){var B=E.C,W=T-B,ae=E.V,oe=E.Ba+E.c*B;for(e(T<=E.l.o);0<W;){var ce=16<W?16:W,fe=E.l.ma,xe=E.l.width,Te=xe*ce,je=fe.ca,Qe=fe.tb+xe*B,Ne=E.Ta,Be=E.Ua;Rt(E,ce,ae,oe),uo(Ne,Be,je,Qe,Te),Kn(fe,B,B+ce,je,Qe,xe),W-=ce,ae+=ce*E.c,B+=ce}e(B==T),E.C=E.Ma=T}function Ur(){this.ub=this.yd=this.td=this.Rb=0}function $n(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ua(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Os(){this.Yb=(function(){var E=[];return(function T(B,W,ae){for(var oe=ae[W],ce=0;ce<oe&&(B.push(ae.length>W+1?[]:0),!(ae.length<W+1));ce++)T(B[ce],W+1,ae)})(E,0,[3,11]),E})()}function rs(){this.jb=i(3),this.Wc=d([4,8],Os),this.Xc=d([4,17],Os)}function yt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Va(){this.ld=this.La=this.dd=this.tc=0}function fr(){this.Na=this.la=0}function la(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Po(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ir(){this.uc=this.M=this.Nb=0,this.wa=Array(new Va),this.Y=0,this.ya=Array(new Po),this.aa=0,this.l=new qs}function ar(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Wn(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Ur,this.Kc=new $n,this.ed=new yt,this.Qa=new Ua,this.Ic=this.$c=this.Aa=0,this.D=new ir,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,$),this.ia=0,this.pb=u(4,la),this.Pa=new rs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ar),this.Hd=0,this.rb=Array(new fr),this.sb=0,this.wa=Array(new Va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Po),this.L=this.aa=0,this.gd=d([4,2],Va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ea(E,T){return 0>E?0:E>T?T:E}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function hs(){var E=new Wn;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,ho||(ho=_n)),E}function vn(E,T,B){return E.a==0&&(E.a=T,E.sc=B,E.cb=0),0}function ca(E,T,B){return 3<=B&&E[T+0]==157&&E[T+1]==1&&E[T+2]==42}function fi(E,T){if(E==null)return 0;if(E.a=0,E.sc="OK",T==null)return vn(E,2,"null VP8Io passed to VP8GetHeaders()");var B=T.data,W=T.w,ae=T.ha;if(4>ae)return vn(E,7,"Truncated header.");var oe=B[W+0]|B[W+1]<<8|B[W+2]<<16,ce=E.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return vn(E,3,"Incorrect keyframe parameters.");if(!ce.yd)return vn(E,4,"Frame not displayable.");W+=3,ae-=3;var fe=E.Kc;if(ce.Rb){if(7>ae)return vn(E,7,"cannot parse picture header");if(!ca(B,W,ae))return vn(E,3,"Bad code word");fe.c=16383&(B[W+4]<<8|B[W+3]),fe.Td=B[W+4]>>6,fe.i=16383&(B[W+6]<<8|B[W+5]),fe.Ud=B[W+6]>>6,W+=7,ae-=7,E.za=fe.c+15>>4,E.Ub=fe.i+15>>4,T.width=fe.c,T.height=fe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,s((oe=E.Pa).jb,0,255,oe.jb.length),e((oe=E.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,s(oe.Zb,0,0,oe.Zb.length),s(oe.Lb,0,0,oe.Lb)}if(ce.ub>ae)return vn(E,7,"bad partition length");ge(oe=E.m,B,W,ce.ub),W+=ce.ub,ae-=ce.ub,ce.Rb&&(fe.Ld=We(oe),fe.Kd=We(oe)),fe=E.Qa;var xe,Te=E.Pa;if(e(oe!=null),e(fe!=null),fe.Cb=We(oe),fe.Cb){if(fe.Bb=We(oe),We(oe)){for(fe.Fb=We(oe),xe=0;4>xe;++xe)fe.Zb[xe]=We(oe)?ye(oe,7):0;for(xe=0;4>xe;++xe)fe.Lb[xe]=We(oe)?ye(oe,6):0}if(fe.Bb)for(xe=0;3>xe;++xe)Te.jb[xe]=We(oe)?Se(oe,8):255}else fe.Bb=0;if(oe.Ka)return vn(E,3,"cannot parse segment header");if((fe=E.ed).zd=We(oe),fe.Tb=Se(oe,6),fe.wb=Se(oe,3),fe.Pc=We(oe),fe.Pc&&We(oe)){for(Te=0;4>Te;++Te)We(oe)&&(fe.vd[Te]=ye(oe,6));for(Te=0;4>Te;++Te)We(oe)&&(fe.od[Te]=ye(oe,6))}if(E.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return vn(E,3,"cannot parse filter header");var je=ae;if(ae=xe=W,W=xe+je,fe=je,E.Xb=(1<<Se(E.m,2))-1,je<3*(Te=E.Xb))B=7;else{for(xe+=3*Te,fe-=3*Te,je=0;je<Te;++je){var Qe=B[ae+0]|B[ae+1]<<8|B[ae+2]<<16;Qe>fe&&(Qe=fe),ge(E.Jc[+je],B,xe,Qe),xe+=Qe,fe-=Qe,ae+=3}ge(E.Jc[+Te],B,xe,fe),B=xe<W?0:5}if(B!=0)return vn(E,B,"cannot parse partitions");for(B=Se(xe=E.m,7),ae=We(xe)?ye(xe,4):0,W=We(xe)?ye(xe,4):0,fe=We(xe)?ye(xe,4):0,Te=We(xe)?ye(xe,4):0,xe=We(xe)?ye(xe,4):0,je=E.Qa,Qe=0;4>Qe;++Qe){if(je.Cb){var Ne=je.Zb[Qe];je.Fb||(Ne+=B)}else{if(0<Qe){E.pb[Qe]=E.pb[0];continue}Ne=B}var Be=E.pb[Qe];Be.Sc[0]=wo[Ea(Ne+ae,127)],Be.Sc[1]=_o[Ea(Ne+0,127)],Be.Eb[0]=2*wo[Ea(Ne+W,127)],Be.Eb[1]=101581*_o[Ea(Ne+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=wo[Ea(Ne+Te,117)],Be.Qc[1]=_o[Ea(Ne+xe,127)],Be.lc=Ne+xe}if(!ce.Rb)return vn(E,4,"Not a key frame.");for(We(oe),ce=E.Pa,B=0;4>B;++B){for(ae=0;8>ae;++ae)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)Te=it(oe,bs[B][ae][W][fe])?Se(oe,8):Y0[B][ae][W][fe],ce.Wc[B][ae].Yb[W][fe]=Te;for(ae=0;17>ae;++ae)ce.Xc[B][ae]=ce.Wc[B][xr[ae]]}return E.kc=We(oe),E.kc&&(E.Bd=Se(oe,8)),E.cb=1}function _n(E,T,B,W,ae,oe,ce){var fe=T[ae].Yb[B];for(B=0;16>ae;++ae){if(!it(E,fe[B+0]))return ae;for(;!it(E,fe[B+1]);)if(fe=T[++ae].Yb[0],B=0,ae==16)return 16;var xe=T[ae+1].Yb;if(it(E,fe[B+2])){var Te=E,je=0;if(it(Te,(Ne=fe)[(Qe=B)+3]))if(it(Te,Ne[Qe+6])){for(fe=0,Qe=2*(je=it(Te,Ne[Qe+8]))+(Ne=it(Te,Ne[Qe+9+je])),je=0,Ne=W0[Qe];Ne[fe];++fe)je+=je+it(Te,Ne[fe]);je+=3+(8<<Qe)}else it(Te,Ne[Qe+7])?(je=7+2*it(Te,165),je+=it(Te,145)):je=5+it(Te,159);else je=it(Te,Ne[Qe+4])?3+it(Te,Ne[Qe+5]):2;fe=xe[2]}else je=1,fe=xe[1];xe=ce+r1[ae],0>(Te=E).b&&ze(Te);var Qe,Ne=Te.b,Be=(Qe=Te.Ca>>1)-(Te.I>>Ne)>>31;--Te.b,Te.Ca+=Be,Te.Ca|=1,Te.I-=(Qe+1&Be)<<Ne,oe[xe]=((je^Be)-Be)*W[(0<ae)+0]}return 16}function Ca(E){var T=E.rb[E.sb-1];T.la=0,T.Na=0,s(E.zc,0,0,E.zc.length),E.ja=0}function Ds(E,T,B,W,ae){ae=E[T+B+32*W]+(ae>>3),E[T+B+32*W]=-256&ae?0>ae?0:255:ae}function Lr(E,T,B,W,ae,oe){Ds(E,T,0,B,W+ae),Ds(E,T,1,B,W+oe),Ds(E,T,2,B,W-oe),Ds(E,T,3,B,W-ae)}function kn(E){return(20091*E>>16)+E}function ds(E,T,B,W){var ae,oe=0,ce=i(16);for(ae=0;4>ae;++ae){var fe=E[T+0]+E[T+8],xe=E[T+0]-E[T+8],Te=(35468*E[T+4]>>16)-kn(E[T+12]),je=kn(E[T+4])+(35468*E[T+12]>>16);ce[oe+0]=fe+je,ce[oe+1]=xe+Te,ce[oe+2]=xe-Te,ce[oe+3]=fe-je,oe+=4,T++}for(ae=oe=0;4>ae;++ae)fe=(E=ce[oe+0]+4)+ce[oe+8],xe=E-ce[oe+8],Te=(35468*ce[oe+4]>>16)-kn(ce[oe+12]),Ds(B,W,0,0,fe+(je=kn(ce[oe+4])+(35468*ce[oe+12]>>16))),Ds(B,W,1,0,xe+Te),Ds(B,W,2,0,xe-Te),Ds(B,W,3,0,fe-je),oe++,W+=32}function Ye(E,T,B,W){var ae=E[T+0]+4,oe=35468*E[T+4]>>16,ce=kn(E[T+4]),fe=35468*E[T+1]>>16;Lr(B,W,0,ae+ce,E=kn(E[T+1]),fe),Lr(B,W,1,ae+oe,E,fe),Lr(B,W,2,ae-oe,E,fe),Lr(B,W,3,ae-ce,E,fe)}function _e(E,T,B,W,ae){ds(E,T,B,W),ae&&ds(E,T+16,B,W+4)}function Ft(E,T,B,W){Me(E,T+0,B,W,1),Me(E,T+32,B,W+128,1)}function fs(E,T,B,W){var ae;for(E=E[T+0]+4,ae=0;4>ae;++ae)for(T=0;4>T;++T)Ds(B,W,T,ae,E)}function Ns(E,T,B,W){E[T+0]&&dt(E,T+0,B,W),E[T+16]&&dt(E,T+16,B,W+4),E[T+32]&&dt(E,T+32,B,W+128),E[T+48]&&dt(E,T+48,B,W+128+4)}function ea(E,T,B,W){var ae,oe=i(16);for(ae=0;4>ae;++ae){var ce=E[T+0+ae]+E[T+12+ae],fe=E[T+4+ae]+E[T+8+ae],xe=E[T+4+ae]-E[T+8+ae],Te=E[T+0+ae]-E[T+12+ae];oe[0+ae]=ce+fe,oe[8+ae]=ce-fe,oe[4+ae]=Te+xe,oe[12+ae]=Te-xe}for(ae=0;4>ae;++ae)ce=(E=oe[0+4*ae]+3)+oe[3+4*ae],fe=oe[1+4*ae]+oe[2+4*ae],xe=oe[1+4*ae]-oe[2+4*ae],Te=E-oe[3+4*ae],B[W+0]=ce+fe>>3,B[W+16]=Te+xe>>3,B[W+32]=ce-fe>>3,B[W+48]=Te-xe>>3,W+=64}function zi(E,T,B){var W,ae=T-32,oe=bi,ce=255-E[ae-1];for(W=0;W<B;++W){var fe,xe=oe,Te=ce+E[T-1];for(fe=0;fe<B;++fe)E[T+fe]=xe[Te+E[ae+fe]];T+=32}}function ua(E,T){zi(E,T,4)}function ln(E,T){zi(E,T,8)}function kr(E,T){zi(E,T,16)}function Lo(E,T){var B;for(B=0;16>B;++B)r(E,T+32*B,E,T-32,16)}function ao(E,T){var B;for(B=16;0<B;--B)s(E,T,E[T-1],16),T+=32}function ha(E,T,B){var W;for(W=0;16>W;++W)s(T,B+32*W,E,16)}function za(E,T){var B,W=16;for(B=0;16>B;++B)W+=E[T-1+32*B]+E[T+B-32];ha(W>>5,E,T)}function Ti(E,T){var B,W=8;for(B=0;16>B;++B)W+=E[T-1+32*B];ha(W>>4,E,T)}function Ha(E,T){var B,W=8;for(B=0;16>B;++B)W+=E[T+B-32];ha(W>>4,E,T)}function Yr(E,T){ha(128,E,T)}function hn(E,T,B){return E+2*T+B+2>>2}function qa(E,T){var B,W=T-32;for(W=new Uint8Array([hn(E[W-1],E[W+0],E[W+1]),hn(E[W+0],E[W+1],E[W+2]),hn(E[W+1],E[W+2],E[W+3]),hn(E[W+2],E[W+3],E[W+4])]),B=0;4>B;++B)r(E,T+32*B,W,0,W.length)}function xn(E,T){var B=E[T-1],W=E[T-1+32],ae=E[T-1+64],oe=E[T-1+96];mt(E,T+0,16843009*hn(E[T-1-32],B,W)),mt(E,T+32,16843009*hn(B,W,ae)),mt(E,T+64,16843009*hn(W,ae,oe)),mt(E,T+96,16843009*hn(ae,oe,oe))}function po(E,T){var B,W=4;for(B=0;4>B;++B)W+=E[T+B-32]+E[T-1+32*B];for(W>>=3,B=0;4>B;++B)s(E,T+32*B,W,4)}function dn(E,T){var B=E[T-1+0],W=E[T-1+32],ae=E[T-1+64],oe=E[T-1-32],ce=E[T+0-32],fe=E[T+1-32],xe=E[T+2-32],Te=E[T+3-32];E[T+0+96]=hn(W,ae,E[T-1+96]),E[T+1+96]=E[T+0+64]=hn(B,W,ae),E[T+2+96]=E[T+1+64]=E[T+0+32]=hn(oe,B,W),E[T+3+96]=E[T+2+64]=E[T+1+32]=E[T+0+0]=hn(ce,oe,B),E[T+3+64]=E[T+2+32]=E[T+1+0]=hn(fe,ce,oe),E[T+3+32]=E[T+2+0]=hn(xe,fe,ce),E[T+3+0]=hn(Te,xe,fe)}function lr(E,T){var B=E[T+1-32],W=E[T+2-32],ae=E[T+3-32],oe=E[T+4-32],ce=E[T+5-32],fe=E[T+6-32],xe=E[T+7-32];E[T+0+0]=hn(E[T+0-32],B,W),E[T+1+0]=E[T+0+32]=hn(B,W,ae),E[T+2+0]=E[T+1+32]=E[T+0+64]=hn(W,ae,oe),E[T+3+0]=E[T+2+32]=E[T+1+64]=E[T+0+96]=hn(ae,oe,ce),E[T+3+32]=E[T+2+64]=E[T+1+96]=hn(oe,ce,fe),E[T+3+64]=E[T+2+96]=hn(ce,fe,xe),E[T+3+96]=hn(fe,xe,xe)}function ko(E,T){var B=E[T-1+0],W=E[T-1+32],ae=E[T-1+64],oe=E[T-1-32],ce=E[T+0-32],fe=E[T+1-32],xe=E[T+2-32],Te=E[T+3-32];E[T+0+0]=E[T+1+64]=oe+ce+1>>1,E[T+1+0]=E[T+2+64]=ce+fe+1>>1,E[T+2+0]=E[T+3+64]=fe+xe+1>>1,E[T+3+0]=xe+Te+1>>1,E[T+0+96]=hn(ae,W,B),E[T+0+64]=hn(W,B,oe),E[T+0+32]=E[T+1+96]=hn(B,oe,ce),E[T+1+32]=E[T+2+96]=hn(oe,ce,fe),E[T+2+32]=E[T+3+96]=hn(ce,fe,xe),E[T+3+32]=hn(fe,xe,Te)}function _r(E,T){var B=E[T+0-32],W=E[T+1-32],ae=E[T+2-32],oe=E[T+3-32],ce=E[T+4-32],fe=E[T+5-32],xe=E[T+6-32],Te=E[T+7-32];E[T+0+0]=B+W+1>>1,E[T+1+0]=E[T+0+64]=W+ae+1>>1,E[T+2+0]=E[T+1+64]=ae+oe+1>>1,E[T+3+0]=E[T+2+64]=oe+ce+1>>1,E[T+0+32]=hn(B,W,ae),E[T+1+32]=E[T+0+96]=hn(W,ae,oe),E[T+2+32]=E[T+1+96]=hn(ae,oe,ce),E[T+3+32]=E[T+2+96]=hn(oe,ce,fe),E[T+3+64]=hn(ce,fe,xe),E[T+3+96]=hn(fe,xe,Te)}function Ga(E,T){var B=E[T-1+0],W=E[T-1+32],ae=E[T-1+64],oe=E[T-1+96];E[T+0+0]=B+W+1>>1,E[T+2+0]=E[T+0+32]=W+ae+1>>1,E[T+2+32]=E[T+0+64]=ae+oe+1>>1,E[T+1+0]=hn(B,W,ae),E[T+3+0]=E[T+1+32]=hn(W,ae,oe),E[T+3+32]=E[T+1+64]=hn(ae,oe,oe),E[T+3+64]=E[T+2+64]=E[T+0+96]=E[T+1+96]=E[T+2+96]=E[T+3+96]=oe}function ni(E,T){var B=E[T-1+0],W=E[T-1+32],ae=E[T-1+64],oe=E[T-1+96],ce=E[T-1-32],fe=E[T+0-32],xe=E[T+1-32],Te=E[T+2-32];E[T+0+0]=E[T+2+32]=B+ce+1>>1,E[T+0+32]=E[T+2+64]=W+B+1>>1,E[T+0+64]=E[T+2+96]=ae+W+1>>1,E[T+0+96]=oe+ae+1>>1,E[T+3+0]=hn(fe,xe,Te),E[T+2+0]=hn(ce,fe,xe),E[T+1+0]=E[T+3+32]=hn(B,ce,fe),E[T+1+32]=E[T+3+64]=hn(W,B,ce),E[T+1+64]=E[T+3+96]=hn(ae,W,B),E[T+1+96]=hn(oe,ae,W)}function Ii(E,T){var B;for(B=0;8>B;++B)r(E,T+32*B,E,T-32,8)}function io(E,T){var B;for(B=0;8>B;++B)s(E,T,E[T-1],8),T+=32}function ta(E,T,B){var W;for(W=0;8>W;++W)s(T,B+32*W,E,8)}function ri(E,T){var B,W=8;for(B=0;8>B;++B)W+=E[T+B-32]+E[T-1+32*B];ta(W>>4,E,T)}function Wa(E,T){var B,W=4;for(B=0;8>B;++B)W+=E[T+B-32];ta(W>>3,E,T)}function ss(E,T){var B,W=4;for(B=0;8>B;++B)W+=E[T-1+32*B];ta(W>>3,E,T)}function Ya(E,T){ta(128,E,T)}function Or(E,T,B){var W=E[T-B],ae=E[T+0],oe=3*(ae-W)+pl[1020+E[T-2*B]-E[T+B]],ce=mh[112+(oe+4>>3)];E[T-B]=bi[255+W+mh[112+(oe+3>>3)]],E[T+0]=bi[255+ae-ce]}function Ri(E,T,B,W){var ae=E[T+0],oe=E[T+B];return ai[255+E[T-2*B]-E[T-B]]>W||ai[255+oe-ae]>W}function oo(E,T,B,W){return 4*ai[255+E[T-B]-E[T+0]]+ai[255+E[T-2*B]-E[T+B]]<=W}function Oi(E,T,B,W,ae){var oe=E[T-3*B],ce=E[T-2*B],fe=E[T-B],xe=E[T+0],Te=E[T+B],je=E[T+2*B],Qe=E[T+3*B];return 4*ai[255+fe-xe]+ai[255+ce-Te]>W?0:ai[255+E[T-4*B]-oe]<=ae&&ai[255+oe-ce]<=ae&&ai[255+ce-fe]<=ae&&ai[255+Qe-je]<=ae&&ai[255+je-Te]<=ae&&ai[255+Te-xe]<=ae}function Hi(E,T,B,W){var ae=2*W+1;for(W=0;16>W;++W)oo(E,T+W,B,ae)&&Or(E,T+W,B)}function pi(E,T,B,W){var ae=2*W+1;for(W=0;16>W;++W)oo(E,T+W*B,1,ae)&&Or(E,T+W*B,1)}function Mo(E,T,B,W){var ae;for(ae=3;0<ae;--ae)Hi(E,T+=4*B,B,W)}function pr(E,T,B,W){var ae;for(ae=3;0<ae;--ae)pi(E,T+=4,B,W)}function Xa(E,T,B,W,ae,oe,ce,fe){for(oe=2*oe+1;0<ae--;){if(Oi(E,T,B,oe,ce))if(Ri(E,T,B,fe))Or(E,T,B);else{var xe=E,Te=T,je=B,Qe=xe[Te-2*je],Ne=xe[Te-je],Be=xe[Te+0],Ge=xe[Te+je],ct=xe[Te+2*je],Xe=27*(gt=pl[1020+3*(Be-Ne)+pl[1020+Qe-Ge]])+63>>7,lt=18*gt+63>>7,gt=9*gt+63>>7;xe[Te-3*je]=bi[255+xe[Te-3*je]+gt],xe[Te-2*je]=bi[255+Qe+lt],xe[Te-je]=bi[255+Ne+Xe],xe[Te+0]=bi[255+Be-Xe],xe[Te+je]=bi[255+Ge-lt],xe[Te+2*je]=bi[255+ct-gt]}T+=W}}function si(E,T,B,W,ae,oe,ce,fe){for(oe=2*oe+1;0<ae--;){if(Oi(E,T,B,oe,ce))if(Ri(E,T,B,fe))Or(E,T,B);else{var xe=E,Te=T,je=B,Qe=xe[Te-je],Ne=xe[Te+0],Be=xe[Te+je],Ge=mh[112+(4+(ct=3*(Ne-Qe))>>3)],ct=mh[112+(ct+3>>3)],Xe=Ge+1>>1;xe[Te-2*je]=bi[255+xe[Te-2*je]+Xe],xe[Te-je]=bi[255+Qe+ct],xe[Te+0]=bi[255+Ne-Ge],xe[Te+je]=bi[255+Be-Xe]}T+=W}}function gi(E,T,B,W,ae,oe){Xa(E,T,B,1,16,W,ae,oe)}function Di(E,T,B,W,ae,oe){Xa(E,T,1,B,16,W,ae,oe)}function tt(E,T,B,W,ae,oe){var ce;for(ce=3;0<ce;--ce)si(E,T+=4*B,B,1,16,W,ae,oe)}function D(E,T,B,W,ae,oe){var ce;for(ce=3;0<ce;--ce)si(E,T+=4,1,B,16,W,ae,oe)}function ne(E,T,B,W,ae,oe,ce,fe){Xa(E,T,ae,1,8,oe,ce,fe),Xa(B,W,ae,1,8,oe,ce,fe)}function Ce(E,T,B,W,ae,oe,ce,fe){Xa(E,T,1,ae,8,oe,ce,fe),Xa(B,W,1,ae,8,oe,ce,fe)}function ke(E,T,B,W,ae,oe,ce,fe){si(E,T+4*ae,ae,1,8,oe,ce,fe),si(B,W+4*ae,ae,1,8,oe,ce,fe)}function Ue(E,T,B,W,ae,oe,ce,fe){si(E,T+4,1,ae,8,oe,ce,fe),si(B,W+4,1,ae,8,oe,ce,fe)}function ut(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new Zt,this.vb=new Zt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new X}function bn(){this.xb=this.a=0,this.l=new qs,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new le,this.Pb=0,this.wd=new le,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=u(4,zt),this.Oc=0}function kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(E,T,B,W,ae,oe,ce){for(E=E==null?0:E[T+0],T=0;T<ce;++T)ae[oe+T]=E+B[W+T]&255,E=ae[oe+T]}function Ar(E,T,B,W,ae,oe,ce){var fe;if(E==null)rr(null,null,B,W,ae,oe,ce);else for(fe=0;fe<ce;++fe)ae[oe+fe]=E[T+fe]+B[W+fe]&255}function An(E,T,B,W,ae,oe,ce){if(E==null)rr(null,null,B,W,ae,oe,ce);else{var fe,xe=E[T+0],Te=xe,je=xe;for(fe=0;fe<ce;++fe)Te=je+(xe=E[T+fe])-Te,je=B[W+fe]+(-256&Te?0>Te?0:255:Te)&255,Te=xe,ae[oe+fe]=je}}function A(E,T,B,W){var ae=T.width,oe=T.o;if(e(E!=null&&T!=null),0>B||0>=W||B+W>oe)return null;if(!E.Cc){if(E.ga==null){var ce;if(E.ga=new kt,(ce=E.ga==null)||(ce=T.width*T.o,e(E.Gb.length==0),E.Gb=i(ce),E.Uc=0,E.Gb==null?ce=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,ce=1),ce=!ce),!ce){ce=E.ga;var fe=E.Fa,xe=E.P,Te=E.qc,je=E.mb,Qe=E.nb,Ne=xe+1,Be=Te-1,Ge=ce.l;if(e(fe!=null&&je!=null&&T!=null),gl[0]=null,gl[1]=rr,gl[2]=Ar,gl[3]=An,ce.ca=je,ce.tb=Qe,ce.c=T.width,ce.i=T.height,e(0<ce.c&&0<ce.i),1>=Te)T=0;else if(ce.$a=3&fe[xe+0],ce.Z=fe[xe+0]>>2&3,ce.Lc=fe[xe+0]>>4&3,xe=fe[xe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||xe)T=0;else if(Ge.put=on,Ge.ac=us,Ge.bc=zs,Ge.ma=ce,Ge.width=T.width,Ge.height=T.height,Ge.Da=T.Da,Ge.v=T.v,Ge.va=T.va,Ge.j=T.j,Ge.o=T.o,ce.$a)e:{e(ce.$a==1),T=Zs();t:for(;;){if(T==null){T=0;break e}if(e(ce!=null),ce.mc=T,T.c=ce.c,T.i=ce.i,T.l=ce.l,T.l.ma=ce,T.l.width=ce.c,T.l.height=ce.i,T.a=0,De(T.m,fe,Ne,Be),!Ni(ce.c,ce.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&wr(T.s)?(ce.ic=1,fe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(fe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ce.ic=0,T=Ba(T,ce.c)),!T))break t;T=1;break e}ce.mc=null,T=0}else T=Be>=ce.c*ce.i;ce=!T}if(ce)return null;E.ga.Lc!=1?E.Ga=0:W=oe-B}e(E.ga!=null),e(B+W<=oe);e:{if(T=(fe=E.ga).c,oe=fe.l.o,fe.$a==0){if(Ne=E.rc,Be=E.Vc,Ge=E.Fa,xe=E.P+1+B*T,Te=E.mb,je=E.nb+B*T,e(xe<=E.P+E.qc),fe.Z!=0)for(e(gl[fe.Z]!=null),ce=0;ce<W;++ce)gl[fe.Z](Ne,Be,Ge,xe,Te,je,T),Ne=Te,Be=je,je+=T,xe+=T;else for(ce=0;ce<W;++ce)r(Te,je,Ge,xe,T),Ne=Te,Be=je,je+=T,xe+=T;E.rc=Ne,E.Vc=Be}else{if(e(fe.mc!=null),T=B+W,e((ce=fe.mc)!=null),e(T<=ce.i),ce.C>=T)T=1;else if(fe.ic||Je(),fe.ic){fe=ce.V,Ne=ce.Ba,Be=ce.c;var ct=ce.i,Xe=(Ge=1,xe=ce.$/Be,Te=ce.$%Be,je=ce.m,Qe=ce.s,ce.$),lt=Be*ct,gt=Be*T,St=Qe.wc,At=Xe<gt?Rr(Qe,Te,xe):null;e(Xe<=lt),e(T<=ct),e(wr(Qe));t:for(;;){for(;!je.h&&Xe<gt;){if(Te&St||(At=Rr(Qe,Te,xe)),e(At!=null),Oe(je),256>(ct=Gn(At.G[0],At.H[0],je)))fe[Ne+Xe]=ct,++Xe,++Te>=Be&&(Te=0,++xe<=T&&!(xe%16)&&ns(ce,xe));else{if(!(280>ct)){Ge=0;break t}ct=Ss(ct-256,je);var nn,qt=Gn(At.G[4],At.H[4],je);if(Oe(je),!(Xe>=(qt=oa(Be,qt=Ss(qt,je)))&&lt-Xe>=ct)){Ge=0;break t}for(nn=0;nn<ct;++nn)fe[Ne+Xe+nn]=fe[Ne+Xe+nn-qt];for(Xe+=ct,Te+=ct;Te>=Be;)Te-=Be,++xe<=T&&!(xe%16)&&ns(ce,xe);Xe<gt&&Te&St&&(At=Rr(Qe,Te,xe))}e(je.h==Ie(je))}ns(ce,xe>T?T:xe);break t}!Ge||je.h&&Xe<lt?(Ge=0,ce.a=je.h?5:3):ce.$=Xe,T=Ge}else T=Js(ce,ce.V,ce.Ba,ce.c,ce.i,T,Hs);if(!T){W=0;break e}}B+W>=oe&&(E.Cc=1),W=1}if(!W)return null;if(E.Cc&&((W=E.ga)!=null&&(W.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+B*ae}function V(E,T,B,W,ae,oe){for(;0<ae--;){var ce,fe=E,xe=T+(B?1:0),Te=E,je=T+(B?0:3);for(ce=0;ce<W;++ce){var Qe=Te[je+4*ce];Qe!=255&&(Qe*=32897,fe[xe+4*ce+0]=fe[xe+4*ce+0]*Qe>>23,fe[xe+4*ce+1]=fe[xe+4*ce+1]*Qe>>23,fe[xe+4*ce+2]=fe[xe+4*ce+2]*Qe>>23)}T+=oe}}function Q(E,T,B,W,ae){for(;0<W--;){var oe;for(oe=0;oe<B;++oe){var ce=E[T+2*oe+0],fe=15&(Te=E[T+2*oe+1]),xe=4369*fe,Te=(240&Te|Te>>4)*xe>>16;E[T+2*oe+0]=(240&ce|ce>>4)*xe>>16&240|(15&ce|ce<<4)*xe>>16>>4&15,E[T+2*oe+1]=240&Te|fe}T+=ae}}function de(E,T,B,W,ae,oe,ce,fe){var xe,Te,je=255;for(Te=0;Te<ae;++Te){for(xe=0;xe<W;++xe){var Qe=E[T+xe];oe[ce+4*xe]=Qe,je&=Qe}T+=B,ce+=fe}return je!=255}function He(E,T,B,W,ae){var oe;for(oe=0;oe<ae;++oe)B[W+oe]=E[T+oe]>>8}function Je(){fl=V,mo=Q,fh=de,uo=He}function Ct(E,T,B){F[E]=function(W,ae,oe,ce,fe,xe,Te,je,Qe,Ne,Be,Ge,ct,Xe,lt,gt,St){var At,nn=St-1>>1,qt=fe[xe+0]|Te[je+0]<<16,zn=Qe[Ne+0]|Be[Ge+0]<<16;e(W!=null);var $t=3*qt+zn+131074>>2;for(T(W[ae+0],255&$t,$t>>16,ct,Xe),oe!=null&&($t=3*zn+qt+131074>>2,T(oe[ce+0],255&$t,$t>>16,lt,gt)),At=1;At<=nn;++At){var mr=fe[xe+At]|Te[je+At]<<16,ws=Qe[Ne+At]|Be[Ge+At]<<16,Zn=qt+mr+zn+ws+524296,Gt=Zn+2*(mr+zn)>>3;$t=Gt+qt>>1,qt=(Zn=Zn+2*(qt+ws)>>3)+mr>>1,T(W[ae+2*At-1],255&$t,$t>>16,ct,Xe+(2*At-1)*B),T(W[ae+2*At-0],255&qt,qt>>16,ct,Xe+(2*At-0)*B),oe!=null&&($t=Zn+zn>>1,qt=Gt+ws>>1,T(oe[ce+2*At-1],255&$t,$t>>16,lt,gt+(2*At-1)*B),T(oe[ce+2*At+0],255&qt,qt>>16,lt,gt+(2*At+0)*B)),qt=mr,zn=ws}1&St||($t=3*qt+zn+131074>>2,T(W[ae+St-1],255&$t,$t>>16,ct,Xe+(St-1)*B),oe!=null&&($t=3*zn+qt+131074>>2,T(oe[ce+St-1],255&$t,$t>>16,lt,gt+(St-1)*B)))}}function Pn(){oi[hd]=Sc,oi[wi]=pu,oi[dd]=a1,oi[xo]=xd,oi[xh]=ql,oi[hu]=Zo,oi[Vl]=Gl,oi[yh]=pu,oi[fd]=xd,oi[du]=ql,oi[pd]=Zo}function Xr(E){return E&-16384?0>E?0:255:E>>yd}function Jn(E,T){return Xr((19077*E>>8)+(26149*T>>8)-14234)}function Dr(E,T,B){return Xr((19077*E>>8)-(6419*T>>8)-(13320*B>>8)+8708)}function na(E,T){return Xr((19077*E>>8)+(33050*T>>8)-17685)}function Sa(E,T,B,W,ae){W[ae+0]=Jn(E,B),W[ae+1]=Dr(E,T,B),W[ae+2]=na(E,T)}function Er(E,T,B,W,ae){W[ae+0]=na(E,T),W[ae+1]=Dr(E,T,B),W[ae+2]=Jn(E,B)}function ra(E,T,B,W,ae){var oe=Dr(E,T,B);T=oe<<3&224|na(E,T)>>3,W[ae+0]=248&Jn(E,B)|oe>>5,W[ae+1]=T}function Pi(E,T,B,W,ae){var oe=240&na(E,T)|15;W[ae+0]=240&Jn(E,B)|Dr(E,T,B)>>4,W[ae+1]=oe}function mi(E,T,B,W,ae){W[ae+0]=255,Sa(E,T,B,W,ae+1)}function go(E,T,B,W,ae){Er(E,T,B,W,ae),W[ae+3]=255}function Ts(E,T,B,W,ae){Sa(E,T,B,W,ae),W[ae+3]=255}function qi(E,T,B){F[E]=function(W,ae,oe,ce,fe,xe,Te,je,Qe){for(var Ne=je+(-2&Qe)*B;je!=Ne;)T(W[ae+0],oe[ce+0],fe[xe+0],Te,je),T(W[ae+1],oe[ce+0],fe[xe+0],Te,je+B),ae+=2,++ce,++xe,je+=2*B;1&Qe&&T(W[ae+0],oe[ce+0],fe[xe+0],Te,je)}}function Na(E,T,B){return B==0?E==0?T==0?6:5:T==0?4:0:B}function Ul(E,T,B,W,ae){switch(E>>>30){case 3:Me(T,B,W,ae,0);break;case 2:Ve(T,B,W,ae);break;case 1:dt(T,B,W,ae)}}function Is(E,T){var B,W,ae=T.M,oe=T.Nb,ce=E.oc,fe=E.pc+40,xe=E.oc,Te=E.pc+584,je=E.oc,Qe=E.pc+600;for(B=0;16>B;++B)ce[fe+32*B-1]=129;for(B=0;8>B;++B)xe[Te+32*B-1]=129,je[Qe+32*B-1]=129;for(0<ae?ce[fe-1-32]=xe[Te-1-32]=je[Qe-1-32]=129:(s(ce,fe-32-1,127,21),s(xe,Te-32-1,127,9),s(je,Qe-32-1,127,9)),W=0;W<E.za;++W){var Ne=T.ya[T.aa+W];if(0<W){for(B=-1;16>B;++B)r(ce,fe+32*B-4,ce,fe+32*B+12,4);for(B=-1;8>B;++B)r(xe,Te+32*B-4,xe,Te+32*B+4,4),r(je,Qe+32*B-4,je,Qe+32*B+4,4)}var Be=E.Gd,Ge=E.Hd+W,ct=Ne.ad,Xe=Ne.Hc;if(0<ae&&(r(ce,fe-32,Be[Ge].y,0,16),r(xe,Te-32,Be[Ge].f,0,8),r(je,Qe-32,Be[Ge].ea,0,8)),Ne.Za){var lt=ce,gt=fe-32+16;for(0<ae&&(W>=E.za-1?s(lt,gt,Be[Ge].y[15],4):r(lt,gt,Be[Ge+1].y,0,4)),B=0;4>B;B++)lt[gt+128+B]=lt[gt+256+B]=lt[gt+384+B]=lt[gt+0+B];for(B=0;16>B;++B,Xe<<=2)lt=ce,gt=fe+sa[B],Gs[Ne.Ob[B]](lt,gt),Ul(Xe,ct,16*+B,lt,gt)}else if(lt=Na(W,ae,Ne.Ob[0]),Li[lt](ce,fe),Xe!=0)for(B=0;16>B;++B,Xe<<=2)Ul(Xe,ct,16*+B,ce,fe+sa[B]);for(B=Ne.Gc,lt=Na(W,ae,Ne.Dd),jo[lt](xe,Te),jo[lt](je,Qe),Xe=ct,lt=xe,gt=Te,255&(Ne=0|B)&&(170&Ne?Ze(Xe,256,lt,gt):ft(Xe,256,lt,gt)),Ne=je,Xe=Qe,255&(B>>=8)&&(170&B?Ze(ct,320,Ne,Xe):ft(ct,320,Ne,Xe)),ae<E.Ub-1&&(r(Be[Ge].y,0,ce,fe+480,16),r(Be[Ge].f,0,xe,Te+224,8),r(Be[Ge].ea,0,je,Qe+224,8)),B=8*oe*E.B,Be=E.sa,Ge=E.ta+16*W+16*oe*E.R,ct=E.qa,Ne=E.ra+8*W+B,Xe=E.Ha,lt=E.Ia+8*W+B,B=0;16>B;++B)r(Be,Ge+B*E.R,ce,fe+32*B,16);for(B=0;8>B;++B)r(ct,Ne+B*E.B,xe,Te+32*B,8),r(Xe,lt+B*E.B,je,Qe+32*B,8)}}function lo(E,T,B,W,ae,oe,ce,fe,xe){var Te=[0],je=[0],Qe=0,Ne=xe!=null?xe.kd:0,Be=xe??new _t;if(E==null||12>B)return 7;Be.data=E,Be.w=T,Be.ha=B,T=[T],B=[B],Be.gb=[Be.gb];e:{var Ge=T,ct=B,Xe=Be.gb;if(e(E!=null),e(ct!=null),e(Xe!=null),Xe[0]=0,12<=ct[0]&&!t(E,Ge[0],"RIFF")){if(t(E,Ge[0]+8,"WEBP")){Xe=3;break e}var lt=Ut(E,Ge[0]+4);if(12>lt||4294967286<lt){Xe=3;break e}if(Ne&&lt>ct[0]-8){Xe=7;break e}Xe[0]=lt,Ge[0]+=12,ct[0]-=12}Xe=0}if(Xe!=0)return Xe;for(lt=0<Be.gb[0],B=B[0];;){e:{var gt=E;ct=T,Xe=B;var St=Te,At=je,nn=Ge=[0];if(($t=Qe=[Qe])[0]=0,8>Xe[0])Xe=7;else{if(!t(gt,ct[0],"VP8X")){if(Ut(gt,ct[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var qt=Ut(gt,ct[0]+8),zn=1+vt(gt,ct[0]+12);if(2147483648<=zn*(gt=1+vt(gt,ct[0]+15))){Xe=3;break e}nn!=null&&(nn[0]=qt),St!=null&&(St[0]=zn),At!=null&&(At[0]=gt),ct[0]+=18,Xe[0]-=18,$t[0]=1}Xe=0}}if(Qe=Qe[0],Ge=Ge[0],Xe!=0)return Xe;if(ct=!!(2&Ge),!lt&&Qe)return 3;if(oe!=null&&(oe[0]=!!(16&Ge)),ce!=null&&(ce[0]=ct),fe!=null&&(fe[0]=0),ce=Te[0],Ge=je[0],Qe&&ct&&xe==null){Xe=0;break}if(4>B){Xe=7;break}if(lt&&Qe||!lt&&!Qe&&!t(E,T[0],"ALPH")){B=[B],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{qt=E,Xe=T,lt=B;var $t=Be.gb;St=Be.na,At=Be.P,nn=Be.Sa,zn=22,e(qt!=null),e(lt!=null),gt=Xe[0];var mr=lt[0];for(e(St!=null),e(nn!=null),St[0]=null,At[0]=null,nn[0]=0;;){if(Xe[0]=gt,lt[0]=mr,8>mr){Xe=7;break e}var ws=Ut(qt,gt+4);if(4294967286<ws){Xe=3;break e}var Zn=8+ws+1&-2;if(zn+=Zn,0<$t&&zn>$t){Xe=3;break e}if(!t(qt,gt,"VP8 ")||!t(qt,gt,"VP8L")){Xe=0;break e}if(mr[0]<Zn){Xe=7;break e}t(qt,gt,"ALPH")||(St[0]=qt,At[0]=gt+8,nn[0]=ws),gt+=Zn,mr-=Zn}}if(B=B[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Xe!=0)break}B=[B],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if($t=E,Xe=T,lt=B,St=Be.gb[0],At=Be.Ja,nn=Be.xa,qt=Xe[0],gt=!t($t,qt,"VP8 "),zn=!t($t,qt,"VP8L"),e($t!=null),e(lt!=null),e(At!=null),e(nn!=null),8>lt[0])Xe=7;else{if(gt||zn){if($t=Ut($t,qt+4),12<=St&&$t>St-12){Xe=3;break e}if(Ne&&$t>lt[0]-8){Xe=7;break e}At[0]=$t,Xe[0]+=8,lt[0]-=8,nn[0]=zn}else nn[0]=5<=lt[0]&&$t[qt+0]==47&&!($t[qt+4]>>5),At[0]=lt[0];Xe=0}if(B=B[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],T=T[0],Xe!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||ct||(fe[0]=Be.xa?2:1),ce=[ce],Ge=[Ge],Be.xa){if(5>B){Xe=7;break}fe=ce,Ne=Ge,ct=oe,E==null||5>B?E=0:5<=B&&E[T+0]==47&&!(E[T+4]>>5)?(lt=[0],$t=[0],St=[0],De(At=new le,E,T,B),ti(At,lt,$t,St)?(fe!=null&&(fe[0]=lt[0]),Ne!=null&&(Ne[0]=$t[0]),ct!=null&&(ct[0]=St[0]),E=1):E=0):E=0}else{if(10>B){Xe=7;break}fe=Ge,E==null||10>B||!ca(E,T+3,B-3)?E=0:(Ne=E[T+0]|E[T+1]<<8|E[T+2]<<16,ct=16383&(E[T+7]<<8|E[T+6]),E=16383&(E[T+9]<<8|E[T+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Be.Ja||!ct||!E?E=0:(ce&&(ce[0]=ct),fe&&(fe[0]=E),E=1))}if(!E||(ce=ce[0],Ge=Ge[0],Qe&&(Te[0]!=ce||je[0]!=Ge)))return 3;xe!=null&&(xe[0]=Be,xe.offset=T-xe.w,e(4294967286>T-xe.w),e(xe.offset==xe.ha-B));break}return Xe==0||Xe==7&&Qe&&xe==null?(oe!=null&&(oe[0]|=Be.na!=null&&0<Be.na.length),W!=null&&(W[0]=ce),ae!=null&&(ae[0]=Ge),0):Xe}function co(E,T,B){var W=T.width,ae=T.height,oe=0,ce=0,fe=W,xe=ae;if(T.Da=E!=null&&0<E.Da,T.Da&&(fe=E.cd,xe=E.bd,oe=E.v,ce=E.j,11>B||(oe&=-2,ce&=-2),0>oe||0>ce||0>=fe||0>=xe||oe+fe>W||ce+xe>ae))return 0;if(T.v=oe,T.j=ce,T.va=oe+fe,T.o=ce+xe,T.U=fe,T.T=xe,T.da=E!=null&&0<E.da,T.da){if(!Ot(fe,xe,B=[E.ib],oe=[E.hb]))return 0;T.ib=B[0],T.hb=oe[0]}return T.ob=E!=null&&E.ob,T.Kb=E==null||!E.Sd,T.da&&(T.ob=T.ib<3*W/4&&T.hb<3*ae/4,T.Kb=0),1}function Ac(E){if(E==null)return 2;if(11>E.S){var T=E.f.RGBA;T.fb+=(E.height-1)*T.A,T.A=-T.A}else T=E.f.kb,E=E.height,T.O+=(E-1)*T.fa,T.fa=-T.fa,T.N+=(E-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(E-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(E-1)*T.lb,T.lb=-T.lb);return 0}function Gi(E,T,B,W){if(W==null||0>=E||0>=T)return 2;if(B!=null){if(B.Da){var ae=B.cd,oe=B.bd,ce=-2&B.v,fe=-2&B.j;if(0>ce||0>fe||0>=ae||0>=oe||ce+ae>E||fe+oe>T)return 2;E=ae,T=oe}if(B.da){if(!Ot(E,T,ae=[B.ib],oe=[B.hb]))return 2;E=ae[0],T=oe[0]}}W.width=E,W.height=T;e:{var xe=W.width,Te=W.height;if(E=W.S,0>=xe||0>=Te||!(E>=hd&&13>E))E=2;else{if(0>=W.Rd&&W.sd==null){ce=oe=ae=T=0;var je=(fe=xe*bd[E])*Te;if(11>E||(oe=(Te+1)/2*(T=(xe+1)/2),E==12&&(ce=(ae=xe)*Te)),(Te=i(je+2*oe+ce))==null){E=1;break e}W.sd=Te,11>E?((xe=W.f.RGBA).eb=Te,xe.fb=0,xe.A=fe,xe.size=je):((xe=W.f.kb).y=Te,xe.O=0,xe.fa=fe,xe.Fd=je,xe.f=Te,xe.N=0+je,xe.Ab=T,xe.Cd=oe,xe.ea=Te,xe.W=0+je+oe,xe.Db=T,xe.Ed=oe,E==12&&(xe.F=Te,xe.J=0+je+2*oe),xe.Tc=ce,xe.lb=ae)}if(T=1,ae=W.S,oe=W.width,ce=W.height,ae>=hd&&13>ae)if(11>ae)E=W.f.RGBA,T&=(fe=Math.abs(E.A))*(ce-1)+oe<=E.size,T&=fe>=oe*bd[ae],T&=E.eb!=null;else{E=W.f.kb,fe=(oe+1)/2,je=(ce+1)/2,xe=Math.abs(E.fa),Te=Math.abs(E.Ab);var Qe=Math.abs(E.Db),Ne=Math.abs(E.lb),Be=Ne*(ce-1)+oe;T&=xe*(ce-1)+oe<=E.Fd,T&=Te*(je-1)+fe<=E.Cd,T=(T&=Qe*(je-1)+fe<=E.Ed)&xe>=oe&Te>=fe&Qe>=fe,T&=E.y!=null,T&=E.f!=null,T&=E.ea!=null,ae==12&&(T&=Ne>=oe,T&=Be<=E.Tc,T&=E.F!=null)}else T=0;E=T?0:2}}return E!=0||B!=null&&B.fd&&(E=Ac(W)),E}var Ta=64,xi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ia=24,yi=32,qn=8,Wi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(E){return E},F.Predictor2=function(E,T,B){return T[B+0]},F.Predictor3=function(E,T,B){return T[B+1]},F.Predictor4=function(E,T,B){return T[B-1]},F.Predictor5=function(E,T,B){return un(un(E,T[B+1]),T[B+0])},F.Predictor6=function(E,T,B){return un(E,T[B-1])},F.Predictor7=function(E,T,B){return un(E,T[B+0])},F.Predictor8=function(E,T,B){return un(T[B-1],T[B+0])},F.Predictor9=function(E,T,B){return un(T[B+0],T[B+1])},F.Predictor10=function(E,T,B){return un(un(E,T[B-1]),un(T[B+0],T[B+1]))},F.Predictor11=function(E,T,B){var W=T[B+0];return 0>=gn(W>>24&255,E>>24&255,(T=T[B-1])>>24&255)+gn(W>>16&255,E>>16&255,T>>16&255)+gn(W>>8&255,E>>8&255,T>>8&255)+gn(255&W,255&E,255&T)?W:E},F.Predictor12=function(E,T,B){var W=T[B+0];return(Cn((E>>24&255)+(W>>24&255)-((T=T[B-1])>>24&255))<<24|Cn((E>>16&255)+(W>>16&255)-(T>>16&255))<<16|Cn((E>>8&255)+(W>>8&255)-(T>>8&255))<<8|Cn((255&E)+(255&W)-(255&T)))>>>0},F.Predictor13=function(E,T,B){var W=T[B-1];return(Vn((E=un(E,T[B+0]))>>24&255,W>>24&255)<<24|Vn(E>>16&255,W>>16&255)<<16|Vn(E>>8&255,W>>8&255)<<8|Vn(255&E,255&W))>>>0};var re=F.PredictorAdd0;F.PredictorAdd1=Xn,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var o=F.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var c,h=F.ColorIndexInverseTransform,m=F.MapARGB,y=F.VP8LColorIndexInverseTransformAlpha,w=F.MapAlpha,C=F.VP8LPredictorsAdd=[];C.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var R,L,G,se,ie,Ee,Pe,Me,Ve,Ze,dt,ft,ht,yn,Nn,ps,Ra,da,Vr,fa,vi,dl,Jo,dh,fl,mo,fh,uo,Ec=i(511),cd=i(2041),ph=i(225),gh=i(767),ud=0,pl=cd,mh=ph,bi=gh,ai=Ec,hd=0,wi=1,dd=2,xo=3,xh=4,hu=5,Vl=6,yh=7,fd=8,du=9,pd=10,yo=[2,3,7],fu=[3,3,11],Cc=[280,256,256,256,40],gd=[0,1,1,1,0],vh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zl=8,wo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_o=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ho=null,W0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],r1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],md=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Y0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ii=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Li=[],Gs=[],jo=[],Hl=1,s1=2,gl=[],oi=[];Ct("UpsampleRgbLinePair",Sa,3),Ct("UpsampleBgrLinePair",Er,3),Ct("UpsampleRgbaLinePair",Ts,4),Ct("UpsampleBgraLinePair",go,4),Ct("UpsampleArgbLinePair",mi,4),Ct("UpsampleRgba4444LinePair",Pi,2),Ct("UpsampleRgb565LinePair",ra,2);var Sc=F.UpsampleRgbLinePair,a1=F.UpsampleBgrLinePair,pu=F.UpsampleRgbaLinePair,xd=F.UpsampleBgraLinePair,ql=F.UpsampleArgbLinePair,Zo=F.UpsampleRgba4444LinePair,Gl=F.UpsampleRgb565LinePair,Ao=16,gu=1<<Ao-1,Nc=-227,Wl=482,yd=6,Yl=0,li=i(256),vd=i(256),X0=i(256),A2=i(256),E2=i(Wl-Nc),C2=i(Wl-Nc);qi("YuvToRgbRow",Sa,3),qi("YuvToBgrRow",Er,3),qi("YuvToRgbaRow",Ts,4),qi("YuvToBgraRow",go,4),qi("YuvToArgbRow",mi,4),qi("YuvToRgba4444Row",Pi,2),qi("YuvToRgb565Row",ra,2);var sa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mu=[0,2,8],bh=[8,7,6,4,4,2,2,2,1,1,1,1],wh=1;this.WebPDecodeRGBA=function(E,T,B,W,ae){var oe=wi,ce=new ut,fe=new Xt;ce.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var xe=fe.width,Te=fe.height,je=new tn;if(je==null||E==null)var Qe=2;else e(je!=null),Qe=lo(E,T,B,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Qe!=0?xe=0:(xe!=null&&(xe[0]=je.width[0]),Te!=null&&(Te[0]=je.height[0]),xe=1),xe){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ae!=null&&(ae[0]=fe.height);e:{if(W=new qs,(ae=new _t).data=E,ae.w=T,ae.ha=B,ae.kd=1,T=[0],e(ae!=null),((E=lo(ae.data,ae.w,ae.ha,null,null,null,T,null,ae))==0||E==7)&&T[0]&&(E=4),(T=E)==0){if(e(ce!=null),W.data=ae.data,W.w=ae.w+ae.offset,W.ha=ae.ha-ae.offset,W.put=on,W.ac=us,W.bc=zs,W.ma=ce,ae.xa){if((E=Zs())==null){ce=1;break e}if((function(Ne,Be){var Ge=[0],ct=[0],Xe=[0];t:for(;;){if(Ne==null)return 0;if(Be==null)return Ne.a=2,0;if(Ne.l=Be,Ne.a=0,De(Ne.m,Be.data,Be.w,Be.ha),!ti(Ne.m,Ge,ct,Xe)){Ne.a=3;break t}if(Ne.xb=s1,Be.width=Ge[0],Be.height=ct[0],!Ni(Ge[0],ct[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0})(E,W)){if(W=(T=Gi(W.width,W.height,ce.Oa,ce.ba))==0){t:{W=E;n:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((B=W.l)!=null),e((ae=B.ma)!=null),W.xb!=0){if(W.ca=ae.ba,W.tb=ae.tb,e(W.ca!=null),!co(ae.Oa,B,xo)){W.a=2;break n}if(!Ba(W,B.width)||B.da)break n;if((B.da||wn(W.ca.S))&&Je(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Je()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ve(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!Js(W,W.V,W.Ba,W.c,W.i,B.o,vs))break n;ae.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(T=E.a)}else T=E.a}else{if((E=new hs)==null){ce=1;break e}if(E.Fa=ae.na,E.P=ae.P,E.qc=ae.Sa,fi(E,W)){if((T=Gi(W.width,W.height,ce.Oa,ce.ba))==0){if(E.Aa=0,B=ce.Oa,e((ae=E)!=null),B!=null){if(0<(xe=0>(xe=B.Md)?0:100<xe?255:255*xe/100)){for(Te=je=0;4>Te;++Te)12>(Qe=ae.pb[Te]).lc&&(Qe.ia=xe*bh[0>Qe.lc?0:Qe.lc]>>3),je|=Qe.ia;je&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=B.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(Ne,Be){if(Ne==null)return 0;if(Be==null)return vn(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!fi(Ne,Be))return 0;if(e(Ne.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(Ne.L=0);var Ge=mu[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Be.v-Ge>>4,Ne.zb=Be.j-Ge>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Be.o+15+Ge>>4,Ne.Hb=Be.va+15+Ge>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var ct=Ne.ed;for(Ge=0;4>Ge;++Ge){var Xe;if(Ne.Qa.Cb){var lt=Ne.Qa.Lb[Ge];Ne.Qa.Fb||(lt+=ct.Tb)}else lt=ct.Tb;for(Xe=0;1>=Xe;++Xe){var gt=Ne.gd[Ge][Xe],St=lt;if(ct.Pc&&(St+=ct.vd[0],Xe&&(St+=ct.od[0])),0<(St=0>St?0:63<St?63:St)){var At=St;0<ct.wb&&(At=4<ct.wb?At>>2:At>>1)>9-ct.wb&&(At=9-ct.wb),1>At&&(At=1),gt.dd=At,gt.tc=2*St+At,gt.ld=40<=St?2:15<=St?1:0}else gt.tc=0;gt.La=Xe}}}Ge=0}else vn(Ne,6,"Frame setup failed"),Ge=Ne.a;if(Ge=Ge==0){if(Ge){Ne.$c=0,0<Ne.Aa||(Ne.Ic=wh);t:{Ge=Ne.Ic,ct=4*(At=Ne.za);var nn=32*At,qt=At+1,zn=0<Ne.L?At*(0<Ne.Aa?2:1):0,$t=(Ne.Aa==2?2:1)*At;if((gt=ct+832+(Xe=3*(16*Ge+mu[Ne.L])/2*nn)+(lt=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=gt)Ge=0;else{if(gt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=i(gt),Ne.Fc=0,Ne.Ec==null){Ge=vn(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=gt}gt=Ne.Ec,St=Ne.Fc,Ne.Ac=gt,Ne.Bc=St,St+=ct,Ne.Gd=u(nn,ar),Ne.Hd=0,Ne.rb=u(qt+1,fr),Ne.sb=1,Ne.wa=zn?u(zn,Va):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=At),e(!0),Ne.oc=gt,Ne.pc=St,St+=832,Ne.ya=u($t,Po),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=At),Ne.R=16*At,Ne.B=8*At,At=(nn=mu[Ne.L])*Ne.R,nn=nn/2*Ne.B,Ne.sa=gt,Ne.ta=St+At,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Ge*Ne.R+nn,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Ge*Ne.B+nn,Ne.$c=0,St+=Xe,Ne.mb=lt?gt:null,Ne.nb=lt?St:null,e(St+lt<=Ne.Fc+Ne.Vb),Ca(Ne),s(Ne.Ac,Ne.Bc,0,ct),Ge=1}}if(Ge){if(Be.ka=0,Be.y=Ne.sa,Be.O=Ne.ta,Be.f=Ne.qa,Be.N=Ne.ra,Be.ea=Ne.Ha,Be.Vd=Ne.Ia,Be.fa=Ne.R,Be.Rc=Ne.B,Be.F=null,Be.J=0,!ud){for(Ge=-255;255>=Ge;++Ge)Ec[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)cd[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)ph[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)gh[255+Ge]=0>Ge?0:255<Ge?255:Ge;ud=1}Pe=ea,Me=_e,Ze=Ft,dt=fs,ft=Ns,Ve=Ye,ht=gi,yn=Di,Nn=ne,ps=Ce,Ra=tt,da=D,Vr=ke,fa=Ue,vi=Hi,dl=pi,Jo=Mo,dh=pr,Gs[0]=po,Gs[1]=ua,Gs[2]=qa,Gs[3]=xn,Gs[4]=dn,Gs[5]=ko,Gs[6]=lr,Gs[7]=_r,Gs[8]=ni,Gs[9]=Ga,Li[0]=za,Li[1]=kr,Li[2]=Lo,Li[3]=ao,Li[4]=Ti,Li[5]=Ha,Li[6]=Yr,jo[0]=ri,jo[1]=ln,jo[2]=Ii,jo[3]=io,jo[4]=ss,jo[5]=Wa,jo[6]=Ya,Ge=1}else Ge=0}Ge&&(Ge=(function(mr,ws){for(mr.M=0;mr.M<mr.Va;++mr.M){var Zn,Gt=mr.Jc[mr.M&mr.Xb],Pt=mr.m,Ps=mr;for(Zn=0;Zn<Ps.za;++Zn){var Ln=Pt,sr=Ps,Qr=sr.Ac,Oa=sr.Bc+4*Zn,ci=sr.zc,gs=sr.ya[sr.aa+Zn];if(sr.Qa.Bb?gs.$b=it(Ln,sr.Pa.jb[0])?2+it(Ln,sr.Pa.jb[2]):it(Ln,sr.Pa.jb[1]):gs.$b=0,sr.kc&&(gs.Ad=it(Ln,sr.Bd)),gs.Za=!it(Ln,145)+0,gs.Za){var pa=gs.Ob,_i=0;for(sr=0;4>sr;++sr){var ga,cr=ci[0+sr];for(ga=0;4>ga;++ga){cr=ii[Qr[Oa+ga]][cr];for(var Mr=md[it(Ln,cr[0])];0<Mr;)Mr=md[2*Mr+it(Ln,cr[Mr])];cr=-Mr,Qr[Oa+ga]=cr}r(pa,_i,Qr,Oa,4),_i+=4,ci[0+sr]=cr}}else cr=it(Ln,156)?it(Ln,128)?1:3:it(Ln,163)?2:0,gs.Ob[0]=cr,s(Qr,Oa,cr,4),s(ci,0,cr,4);gs.Dd=it(Ln,142)?it(Ln,114)?it(Ln,183)?1:3:2:0}if(Ps.m.Ka)return vn(mr,7,"Premature end-of-partition0 encountered.");for(;mr.ja<mr.za;++mr.ja){if(Ps=Gt,Ln=(Pt=mr).rb[Pt.sb-1],Qr=Pt.rb[Pt.sb+Pt.ja],Zn=Pt.ya[Pt.aa+Pt.ja],Oa=Pt.kc?Zn.Ad:0)Ln.la=Qr.la=0,Zn.Za||(Ln.Na=Qr.Na=0),Zn.Hc=0,Zn.Gc=0,Zn.ia=0;else{var Ls,zr;if(Ln=Qr,Qr=Ps,Oa=Pt.Pa.Xc,ci=Pt.ya[Pt.aa+Pt.ja],gs=Pt.pb[ci.$b],sr=ci.ad,pa=0,_i=Pt.rb[Pt.sb-1],cr=ga=0,s(sr,pa,0,384),ci.Za)var Da=0,ks=Oa[3];else{Mr=i(16);var jr=Ln.Na+_i.Na;if(jr=ho(Qr,Oa[1],jr,gs.Eb,0,Mr,0),Ln.Na=_i.Na=(0<jr)+0,1<jr)Pe(Mr,0,sr,pa);else{var aa=Mr[0]+3>>3;for(Mr=0;256>Mr;Mr+=16)sr[pa+Mr]=aa}Da=1,ks=Oa[0]}var Kr=15&Ln.la,ma=15&_i.la;for(Mr=0;4>Mr;++Mr){var xa=1&ma;for(aa=zr=0;4>aa;++aa)Kr=Kr>>1|(xa=(jr=ho(Qr,ks,jr=xa+(1&Kr),gs.Sc,Da,sr,pa))>Da)<<7,zr=zr<<2|(3<jr?3:1<jr?2:sr[pa+0]!=0),pa+=16;Kr>>=4,ma=ma>>1|xa<<7,ga=(ga<<8|zr)>>>0}for(ks=Kr,Da=ma>>4,Ls=0;4>Ls;Ls+=2){for(zr=0,Kr=Ln.la>>4+Ls,ma=_i.la>>4+Ls,Mr=0;2>Mr;++Mr){for(xa=1&ma,aa=0;2>aa;++aa)jr=xa+(1&Kr),Kr=Kr>>1|(xa=0<(jr=ho(Qr,Oa[2],jr,gs.Qc,0,sr,pa)))<<3,zr=zr<<2|(3<jr?3:1<jr?2:sr[pa+0]!=0),pa+=16;Kr>>=2,ma=ma>>1|xa<<5}cr|=zr<<4*Ls,ks|=Kr<<4<<Ls,Da|=(240&ma)<<Ls}Ln.la=ks,_i.la=Da,ci.Hc=ga,ci.Gc=cr,ci.ia=43690&cr?0:gs.ia,Oa=!(ga|cr)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[Zn.$b][Zn.Za],Pt.wa[Pt.Y+Pt.ja].La|=!Oa),Ps.Ka)return vn(mr,7,"Premature end-of-file encountered.")}if(Ca(mr),Pt=ws,Ps=1,Zn=(Gt=mr).D,Ln=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Zn.M=Gt.M,Zn.uc=Ln,Is(Gt,Zn),Ps=1,Zn=(zr=Gt.D).Nb,Ln=(cr=mu[Gt.L])*Gt.R,Qr=cr/2*Gt.B,Mr=16*Zn*Gt.R,aa=8*Zn*Gt.B,Oa=Gt.sa,ci=Gt.ta-Ln+Mr,gs=Gt.qa,sr=Gt.ra-Qr+aa,pa=Gt.Ha,_i=Gt.Ia-Qr+aa,ma=(Kr=zr.M)==0,ga=Kr>=Gt.Va-1,Gt.Aa==2&&Is(Gt,zr),zr.uc)for(xa=(jr=Gt).D.M,e(jr.D.uc),zr=jr.yb;zr<jr.Hb;++zr){Da=zr,ks=xa;var as=(Pr=(ya=jr).D).Nb;Ls=ya.R;var Pr=Pr.wa[Pr.Y+Da],Ai=ya.sa,Ws=ya.ta+16*as*Ls+16*Da,Sn=Pr.dd,Tn=Pr.tc;if(Tn!=0)if(e(3<=Tn),ya.L==1)0<Da&&dl(Ai,Ws,Ls,Tn+4),Pr.La&&dh(Ai,Ws,Ls,Tn),0<ks&&vi(Ai,Ws,Ls,Tn+4),Pr.La&&Jo(Ai,Ws,Ls,Tn);else{var Fr=ya.B,Yi=ya.qa,Eo=ya.ra+8*as*Fr+8*Da,ki=ya.Ha,ya=ya.Ia+8*as*Fr+8*Da;as=Pr.ld,0<Da&&(yn(Ai,Ws,Ls,Tn+4,Sn,as),ps(Yi,Eo,ki,ya,Fr,Tn+4,Sn,as)),Pr.La&&(da(Ai,Ws,Ls,Tn,Sn,as),fa(Yi,Eo,ki,ya,Fr,Tn,Sn,as)),0<ks&&(ht(Ai,Ws,Ls,Tn+4,Sn,as),Nn(Yi,Eo,ki,ya,Fr,Tn+4,Sn,as)),Pr.La&&(Ra(Ai,Ws,Ls,Tn,Sn,as),Vr(Yi,Eo,ki,ya,Fr,Tn,Sn,as))}}if(Gt.ia&&alert("todo:DitherRow"),Pt.put!=null){if(zr=16*Kr,Kr=16*(Kr+1),ma?(Pt.y=Gt.sa,Pt.O=Gt.ta+Mr,Pt.f=Gt.qa,Pt.N=Gt.ra+aa,Pt.ea=Gt.Ha,Pt.W=Gt.Ia+aa):(zr-=cr,Pt.y=Oa,Pt.O=ci,Pt.f=gs,Pt.N=sr,Pt.ea=pa,Pt.W=_i),ga||(Kr-=cr),Kr>Pt.o&&(Kr=Pt.o),Pt.F=null,Pt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&zr<Kr&&(Pt.J=A(Gt,Pt,zr,Kr-zr),Pt.F=Gt.mb,Pt.F==null&&Pt.F.length==0)){Ps=vn(Gt,3,"Could not decode alpha data.");break t}zr<Pt.j&&(cr=Pt.j-zr,zr=Pt.j,e(!(1&cr)),Pt.O+=Gt.R*cr,Pt.N+=Gt.B*(cr>>1),Pt.W+=Gt.B*(cr>>1),Pt.F!=null&&(Pt.J+=Pt.width*cr)),zr<Kr&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=zr-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=Kr-zr,Ps=Pt.put(Pt))}Zn+1!=Gt.Ic||ga||(r(Gt.sa,Gt.ta-Ln,Oa,ci+16*Gt.R,Ln),r(Gt.qa,Gt.ra-Qr,gs,sr+8*Gt.B,Qr),r(Gt.Ha,Gt.Ia-Qr,pa,_i+8*Gt.B,Qr))}if(!Ps)return vn(mr,6,"Output aborted.")}return 1})(Ne,Be)),Be.bc!=null&&Be.bc(Be),Ge&=1}return Ge?(Ne.cb=0,Ge):0})(E,W)||(T=E.a)}}else T=E.a}T==0&&ce.Oa!=null&&ce.Oa.fd&&(T=Ac(ce.ba))}ce=T}oe=ce!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var bd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(F,te){for(var z="",q=0;q<4;q++)z+=String.fromCharCode(F[te++]);return z}function b(F,te){return F[te+0]|F[te+1]<<8}function _(F,te){return(F[te+0]|F[te+1]<<8|F[te+2]<<16)>>>0}function I(F,te){return(F[te+0]|F[te+1]<<8|F[te+2]<<16|F[te+3]<<24)>>>0}new g;var S=[0],P=[0],k=[],M=new g,j=n,J=(function(F,te){var z={},q=0,X=!1,be=0,pe=0;if(z.frames=[],!(function($,le){for(var he=0;he<4;he++)if($[le+he]!="RIFF".charCodeAt(he))return!0;return!1})(F,te)){for(I(F,te+=4),te+=8;te<F.length;){var ge=p(F,te),Se=I(F,te+=4);te+=4;var ye=Se+(1&Se);switch(ge){case"VP8 ":case"VP8L":z.frames[q]===void 0&&(z.frames[q]={}),(me=z.frames[q]).src_off=X?pe:te-8,me.src_size=be+Se+8,q++,X&&(X=!1,be=0,pe=0);break;case"VP8X":(me=z.header={}).feature_flags=F[te];var De=te+4;me.canvas_width=1+_(F,De),De+=3,me.canvas_height=1+_(F,De),De+=3;break;case"ALPH":X=!0,be=ye+8,pe=te-8;break;case"ANIM":(me=z.header).bgcolor=I(F,te),De=te+4,me.loop_count=b(F,De),De+=2;break;case"ANMF":var rt,me;(me=z.frames[q]={}).offset_x=2*_(F,te),te+=3,me.offset_y=2*_(F,te),te+=3,me.width=1+_(F,te),te+=3,me.height=1+_(F,te),te+=3,me.duration=_(F,te),te+=3,rt=F[te++],me.dispose=1&rt,me.blend=rt>>1&1}ge!="ANMF"&&(te+=ye)}return z}})(j,0);J.response=j,J.rgbaoutput=!0,J.dataurl=!1;var Z=J.header?J.header:null,ee=J.frames?J.frames:null;if(Z){Z.loop_counter=Z.loop_count,S=[Z.canvas_height],P=[Z.canvas_width];for(var we=0;we<ee.length&&ee[we].blend!=0;we++);}var Re=ee[0],Y=M.WebPDecodeRGBA(j,Re.src_off,Re.src_size,P,S);Re.rgba=Y,Re.imgwidth=P[0],Re.imgheight=S[0];for(var U=0;U<P[0]*S[0]*4;U++)k[U]=Y[U];return this.width=P,this.height=S,this.data=k,this}(function(n){var e,t,r,s,i,u,d,g,p,b=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new g,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new u,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new u,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,u=this.internal.Point,d=this.internal.Rectangle,g=this.internal.Matrix,p=new b}]);var _=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var le=$;Object.defineProperty(this,"pdf",{get:function(){return le}});var he=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return he},set:function(ve){he=!!ve}});var Ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ie},set:function(ve){Ie=!!ve}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(ve){isNaN(ve)||(Ae=ve)}});var Oe=0;Object.defineProperty(this,"posY",{get:function(){return Oe},set:function(ve){isNaN(ve)||(Oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(ve){var Tt;typeof ve=="number"?Tt=[ve,ve,ve,ve]:((Tt=new Array(4))[0]=ve[0],Tt[1]=ve.length>=2?ve[1]:Tt[0],Tt[2]=ve.length>=3?ve[2]:Tt[0],Tt[3]=ve.length>=4?ve[3]:Tt[1]),p.margin=Tt}});var ze=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ze},set:function(ve){ze=ve}});var We=0;Object.defineProperty(this,"lastBreak",{get:function(){return We},set:function(ve){We=ve}});var it=[];Object.defineProperty(this,"pageBreaks",{get:function(){return it},set:function(ve){it=ve}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(ve){ve instanceof b&&(p=ve)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(ve){p.path=ve}});var mt=[];Object.defineProperty(this,"ctxStack",{get:function(){return mt},set:function(ve){mt=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var Tt;Tt=I(ve),this.ctx.fillStyle=Tt.style,this.ctx.isFillTransparent=Tt.a===0,this.ctx.fillOpacity=Tt.a,this.pdf.setFillColor(Tt.r,Tt.g,Tt.b,{a:Tt.a}),this.pdf.setTextColor(Tt.r,Tt.g,Tt.b,{a:Tt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var Tt=I(ve);this.ctx.strokeStyle=Tt.style,this.ctx.isStrokeTransparent=Tt.a===0,this.ctx.strokeOpacity=Tt.a,Tt.a===0?this.pdf.setDrawColor(255,255,255):(Tt.a,this.pdf.setDrawColor(Tt.r,Tt.g,Tt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Nt=null,vt=null,Ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ut},set:function(ve){Nt=null,vt=null,Ut=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var Tt;if(this.ctx.font=ve,(Tt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ve))!==null){var Zt=Tt[1];Tt[2];var Ot=Tt[3],et=Tt[4];Tt[5];var jt=Tt[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(ot==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var pn=(function(Yt){var cs,Kt,at=[],Vt=Yt.trim();if(Vt==="")return Py;if(Vt in sC)return[sC[Vt]];for(;Vt!=="";){switch(Kt=null,cs=(Vt=iC(Vt)).charAt(0)){case'"':case"'":Kt=F$(Vt.substring(1),cs);break;default:Kt=B$(Vt)}if(Kt===null||(at.push(Kt[0]),(Vt=iC(Kt[1]))!==""&&Vt.charAt(0)!==","))return Py;Vt=Vt.replace(/^,/,"")}return at})(jt);if(this.fontFaces){var un=(function(Yt,cs){var Kt=Yt.getFontList(),at=JSON.stringify(Kt);if(Nt===null||vt!==at){var Vt=(function(Bt){var Lt=[];return Object.keys(Bt).forEach(function(dr){Bt[dr].forEach(function(wn){var En=null;switch(wn){case"bold":En={family:dr,weight:"bold"};break;case"italic":En={family:dr,style:"italic"};break;case"bolditalic":En={family:dr,weight:"bold",style:"italic"};break;case"":case"normal":En={family:dr}}En!==null&&(En.ref={name:dr,style:wn},Lt.push(En))})}),Lt})(Kt);Nt=(function(Bt){for(var Lt={},dr=0;dr<Bt.length;++dr){var wn=Dy(Bt[dr]),En=wn.family,en=wn.stretch,Xt=wn.style,tn=wn.weight;Lt[En]=Lt[En]||{},Lt[En][en]=Lt[En][en]||{},Lt[En][en][Xt]=Lt[En][en][Xt]||{},Lt[En][en][Xt][tn]=wn}return Lt})(Vt.concat(cs)),vt=at}return Nt})(this.pdf,this.fontFaces),Cn=pn.map(function(Yt){return{family:Yt,stretch:"normal",weight:Ot,style:Zt}}),Vn=(function(Yt,cs,Kt){for(var at=(Kt=Kt||{}).defaultFontFamily||"times",Vt=Object.assign({},j$,Kt.genericFontFamilies||{}),Bt=null,Lt=null,dr=0;dr<cs.length;++dr)if(Vt[(Bt=Dy(cs[dr])).family]&&(Bt.family=Vt[Bt.family]),Yt.hasOwnProperty(Bt.family)){Lt=Yt[Bt.family];break}if(!(Lt=Lt||Yt[at]))throw new Error("Could not find a font-family for the rule '"+aC(Bt)+"' and default family '"+at+"'.");if(Lt=(function(wn,En){if(En[wn])return En[wn];var en=Vv[wn],Xt=en<=Vv.normal?-1:1,tn=rC(En,SI,en,Xt);if(!tn)throw new Error("Could not find a matching font-stretch value for "+wn);return tn})(Bt.stretch,Lt),Lt=(function(wn,En){if(En[wn])return En[wn];for(var en=CI[wn],Xt=0;Xt<en.length;++Xt)if(En[en[Xt]])return En[en[Xt]];throw new Error("Could not find a matching font-style for "+wn)})(Bt.style,Lt),!(Lt=(function(wn,En){if(En[wn])return En[wn];if(wn===400&&En[500])return En[500];if(wn===500&&En[400])return En[400];var en=M$[wn],Xt=rC(En,NI,en,wn<400?-1:1);if(!Xt)throw new Error("Could not find a matching font-weight for value "+wn);return Xt})(Bt.weight,Lt)))throw new Error("Failed to resolve a font for the rule '"+aC(Bt)+"'.");return Lt})(un,Cn);this.pdf.setFont(Vn.ref.name,Vn.ref.style)}else{var gn="";(Ot==="bold"||parseInt(Ot,10)>=700||Zt==="bold")&&(gn="bold"),Zt==="italic"&&(gn+="italic"),gn.length===0&&(gn="normal");for(var Xn="",Dn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<pn.length;Mt++){if(this.pdf.internal.getFont(pn[Mt],gn,{noFallback:!0,disableWarning:!0})!==void 0){Xn=pn[Mt];break}if(gn==="bolditalic"&&this.pdf.internal.getFont(pn[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xn=pn[Mt],gn="bold";else if(this.pdf.internal.getFont(pn[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xn=pn[Mt],gn="normal";break}}if(Xn===""){for(var jn=0;jn<pn.length;jn++)if(Dn[pn[jn]]){Xn=Dn[pn[jn]];break}}Xn=Xn===""?"Times":Xn,this.pdf.setFont(Xn,gn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};_.prototype.setLineDash=function($){this.lineDash=$},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){ee.call(this,"fill",!1)},_.prototype.stroke=function(){ee.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function($,le){if(isNaN($)||isNaN(le))throw As.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var he=this.ctx.transform.applyToPoint(new u($,le));this.path.push({type:"mt",x:he.x,y:he.y}),this.ctx.lastPoint=new u($,le)},_.prototype.closePath=function(){var $=new u(0,0),le=0;for(le=this.path.length-1;le!==-1;le--)if(this.path[le].type==="begin"&&ls(this.path[le+1])==="object"&&typeof this.path[le+1].x=="number"){$=new u(this.path[le+1].x,this.path[le+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u($.x,$.y)},_.prototype.lineTo=function($,le){if(isNaN($)||isNaN(le))throw As.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var he=this.ctx.transform.applyToPoint(new u($,le));this.path.push({type:"lt",x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ee.call(this,null,!0)},_.prototype.quadraticCurveTo=function($,le,he,Ie){if(isNaN(he)||isNaN(Ie)||isNaN($)||isNaN(le))throw As.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new u(he,Ie)),Oe=this.ctx.transform.applyToPoint(new u($,le));this.path.push({type:"qct",x1:Oe.x,y1:Oe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new u(Ae.x,Ae.y)},_.prototype.bezierCurveTo=function($,le,he,Ie,Ae,Oe){if(isNaN(Ae)||isNaN(Oe)||isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie))throw As.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ze=this.ctx.transform.applyToPoint(new u(Ae,Oe)),We=this.ctx.transform.applyToPoint(new u($,le)),it=this.ctx.transform.applyToPoint(new u(he,Ie));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:it.x,y2:it.y,x:ze.x,y:ze.y}),this.ctx.lastPoint=new u(ze.x,ze.y)},_.prototype.arc=function($,le,he,Ie,Ae,Oe){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie)||isNaN(Ae))throw As.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Oe=!!Oe,!this.ctx.transform.isIdentity){var ze=this.ctx.transform.applyToPoint(new u($,le));$=ze.x,le=ze.y;var We=this.ctx.transform.applyToPoint(new u(0,he)),it=this.ctx.transform.applyToPoint(new u(0,0));he=Math.sqrt(Math.pow(We.x-it.x,2)+Math.pow(We.y-it.y,2))}Math.abs(Ae-Ie)>=2*Math.PI&&(Ie=0,Ae=2*Math.PI),this.path.push({type:"arc",x:$,y:le,radius:he,startAngle:Ie,endAngle:Ae,counterclockwise:Oe})},_.prototype.arcTo=function($,le,he,Ie,Ae){throw new Error("arcTo not implemented.")},_.prototype.rect=function($,le,he,Ie){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie))throw As.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,le),this.lineTo($+he,le),this.lineTo($+he,le+Ie),this.lineTo($,le+Ie),this.lineTo($,le),this.lineTo($+he,le),this.lineTo($,le)},_.prototype.fillRect=function($,le,he,Ie){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie))throw As.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!S.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,le,he,Ie),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},_.prototype.strokeRect=function($,le,he,Ie){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie))throw As.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect($,le,he,Ie),this.stroke())},_.prototype.clearRect=function($,le,he,Ie){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie))throw As.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,le,he,Ie))},_.prototype.save=function($){$=typeof $!="boolean"||$;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,he=0;he<this.pdf.internal.getNumberOfPages();he++)this.pdf.setPage(he+1),this.pdf.internal.out("q");if(this.pdf.setPage(le),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ie=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ie}},_.prototype.restore=function($){$=typeof $!="boolean"||$;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,he=0;he<this.pdf.internal.getNumberOfPages();he++)this.pdf.setPage(he+1),this.pdf.internal.out("Q");this.pdf.setPage(le),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function($){var le,he,Ie,Ae;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))le=0,he=0,Ie=0,Ae=0;else{var Oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(Oe!==null)le=parseInt(Oe[1]),he=parseInt(Oe[2]),Ie=parseInt(Oe[3]),Ae=1;else if((Oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)le=parseInt(Oe[1]),he=parseInt(Oe[2]),Ie=parseInt(Oe[3]),Ae=parseFloat(Oe[4]);else{if(Ae=1,typeof $=="string"&&$.charAt(0)!=="#"){var ze=new yI($);$=ze.ok?ze.toHex():"#000000"}$.length===4?(le=$.substring(1,2),le+=le,he=$.substring(2,3),he+=he,Ie=$.substring(3,4),Ie+=Ie):(le=$.substring(1,3),he=$.substring(3,5),Ie=$.substring(5,7)),le=parseInt(le,16),he=parseInt(he,16),Ie=parseInt(Ie,16)}}return{r:le,g:he,b:Ie,a:Ae,style:$}},S=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function($,le,he,Ie){if(isNaN(le)||isNaN(he)||typeof $!="string")throw As.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ie=isNaN(Ie)?void 0:Ie,!S.call(this)){var Ae=ye(this.ctx.transform.rotation),Oe=this.ctx.transform.scaleX;q.call(this,{text:$,x:le,y:he,scale:Oe,angle:Ae,align:this.textAlign,maxWidth:Ie})}},_.prototype.strokeText=function($,le,he,Ie){if(isNaN(le)||isNaN(he)||typeof $!="string")throw As.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){Ie=isNaN(Ie)?void 0:Ie;var Ae=ye(this.ctx.transform.rotation),Oe=this.ctx.transform.scaleX;q.call(this,{text:$,x:le,y:he,scale:Oe,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:Ie})}},_.prototype.measureText=function($){if(typeof $!="string")throw As.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var le=this.pdf,he=this.pdf.internal.scaleFactor,Ie=le.internal.getFontSize(),Ae=le.getStringUnitWidth($)*Ie/le.internal.scaleFactor;return new function(Oe){var ze=(Oe=Oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ze}}),this}({width:Ae*=Math.round(96*he/72*1e4)/1e4})},_.prototype.scale=function($,le){if(isNaN($)||isNaN(le))throw As.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var he=new g($,0,0,le,0,0);this.ctx.transform=this.ctx.transform.multiply(he)},_.prototype.rotate=function($){if(isNaN($))throw As.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var le=new g(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(le)},_.prototype.translate=function($,le){if(isNaN($)||isNaN(le))throw As.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var he=new g(1,0,0,1,$,le);this.ctx.transform=this.ctx.transform.multiply(he)},_.prototype.transform=function($,le,he,Ie,Ae,Oe){if(isNaN($)||isNaN(le)||isNaN(he)||isNaN(Ie)||isNaN(Ae)||isNaN(Oe))throw As.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ze=new g($,le,he,Ie,Ae,Oe);this.ctx.transform=this.ctx.transform.multiply(ze)},_.prototype.setTransform=function($,le,he,Ie,Ae,Oe){$=isNaN($)?1:$,le=isNaN(le)?0:le,he=isNaN(he)?0:he,Ie=isNaN(Ie)?1:Ie,Ae=isNaN(Ae)?0:Ae,Oe=isNaN(Oe)?0:Oe,this.ctx.transform=new g($,le,he,Ie,Ae,Oe)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function($,le,he,Ie,Ae,Oe,ze,We,it){var mt=this.pdf.getImageProperties($),Nt=1,vt=1,Ut=1,ve=1;Ie!==void 0&&We!==void 0&&(Ut=We/Ie,ve=it/Ae,Nt=mt.width/Ie*We/Ie,vt=mt.height/Ae*it/Ae),Oe===void 0&&(Oe=le,ze=he,le=0,he=0),Ie!==void 0&&We===void 0&&(We=Ie,it=Ae),Ie===void 0&&We===void 0&&(We=mt.width,it=mt.height);var Tt=this.ctx.transform.decompose(),Zt=ye(Tt.rotate.shx),Ot=new g,et=(Ot=(Ot=(Ot=Ot.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new d(Oe-le*Ut,ze-he*ve,Ie*Nt,Ae*vt));if(this.autoPaging){for(var jt,ot=M.call(this,et),pn=[],un=0;un<ot.length;un+=1)pn.indexOf(ot[un])===-1&&pn.push(ot[un]);Z(pn);for(var Cn=pn[0],Vn=pn[pn.length-1],gn=Cn;gn<Vn+1;gn++){this.pdf.setPage(gn);var Xn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dn=gn===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=gn===1?0:Mt+(gn-2)*jn;if(this.ctx.clip_path.length!==0){var cs=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=J(jt,this.posX+this.margin[3],-Yt+Dn+this.ctx.prevPageLastElemOffset),we.call(this,"fill",!0),this.path=cs}var Kt=JSON.parse(JSON.stringify(et));Kt=J([Kt],this.posX+this.margin[3],-Yt+Dn+this.ctx.prevPageLastElemOffset)[0];var at=(gn>Cn||gn<Vn)&&k.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xn,jn,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Zt),at&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",et.x,et.y,et.w,et.h,null,null,Zt)};var M=function($,le,he){var Ie=[];le=le||this.pdf.internal.pageSize.width,he=he||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":Ie.push(Math.floor(($.y+Ae)/he)+1);break;case"arc":Ie.push(Math.floor(($.y+Ae-$.radius)/he)+1),Ie.push(Math.floor(($.y+Ae+$.radius)/he)+1);break;case"qct":var Oe=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);Ie.push(Math.floor((Oe.y+Ae)/he)+1),Ie.push(Math.floor((Oe.y+Oe.h+Ae)/he)+1);break;case"bct":var ze=rt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);Ie.push(Math.floor((ze.y+Ae)/he)+1),Ie.push(Math.floor((ze.y+ze.h+Ae)/he)+1);break;case"rect":Ie.push(Math.floor(($.y+Ae)/he)+1),Ie.push(Math.floor(($.y+$.h+Ae)/he)+1)}for(var We=0;We<Ie.length;We+=1)for(;this.pdf.internal.getNumberOfPages()<Ie[We];)j.call(this);return Ie},j=function(){var $=this.fillStyle,le=this.strokeStyle,he=this.font,Ie=this.lineCap,Ae=this.lineWidth,Oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=le,this.font=he,this.lineCap=Ie,this.lineWidth=Ae,this.lineJoin=Oe},J=function($,le,he){for(var Ie=0;Ie<$.length;Ie++)switch($[Ie].type){case"bct":$[Ie].x2+=le,$[Ie].y2+=he;case"qct":$[Ie].x1+=le,$[Ie].y1+=he;default:$[Ie].x+=le,$[Ie].y+=he}return $},Z=function($){return $.sort(function(le,he){return le-he})},ee=function($,le){var he=this.fillStyle,Ie=this.strokeStyle,Ae=this.lineCap,Oe=this.lineWidth,ze=Math.abs(Oe*this.ctx.transform.scaleX),We=this.lineJoin;if(this.autoPaging){for(var it,mt,Nt=JSON.parse(JSON.stringify(this.path)),vt=JSON.parse(JSON.stringify(this.path)),Ut=[],ve=0;ve<vt.length;ve++)if(vt[ve].x!==void 0)for(var Tt=M.call(this,vt[ve]),Zt=0;Zt<Tt.length;Zt+=1)Ut.indexOf(Tt[Zt])===-1&&Ut.push(Tt[Zt]);for(var Ot=0;Ot<Ut.length;Ot++)for(;this.pdf.internal.getNumberOfPages()<Ut[Ot];)j.call(this);Z(Ut);for(var et=Ut[0],jt=Ut[Ut.length-1],ot=et;ot<jt+1;ot++){this.pdf.setPage(ot),this.fillStyle=he,this.strokeStyle=Ie,this.lineCap=Ae,this.lineWidth=ze,this.lineJoin=We;var pn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],un=ot===1?this.posY+this.margin[0]:this.margin[0],Cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gn=ot===1?0:Cn+(ot-2)*Vn;if(this.ctx.clip_path.length!==0){var Xn=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=J(it,this.posX+this.margin[3],-gn+un+this.ctx.prevPageLastElemOffset),we.call(this,$,!0),this.path=Xn}if(mt=JSON.parse(JSON.stringify(Nt)),this.path=J(mt,this.posX+this.margin[3],-gn+un+this.ctx.prevPageLastElemOffset),le===!1||ot===0){var Dn=(ot>et||ot<jt)&&k.call(this);Dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pn,Vn,null).clip().discardPath()),we.call(this,$,le),Dn&&this.pdf.restoreGraphicsState()}this.lineWidth=Oe}this.path=Nt}else this.lineWidth=ze,we.call(this,$,le),this.lineWidth=Oe},we=function($,le){if(($!=="stroke"||le||!P.call(this))&&($==="stroke"||le||!S.call(this))){for(var he,Ie,Ae=[],Oe=this.path,ze=0;ze<Oe.length;ze++){var We=Oe[ze];switch(We.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:We,deltas:[],abs:[]});break;case"lt":var it=Ae.length;if(Oe[ze-1]&&!isNaN(Oe[ze-1].x)&&(he=[We.x-Oe[ze-1].x,We.y-Oe[ze-1].y],it>0)){for(;it>=0;it--)if(Ae[it-1].close!==!0&&Ae[it-1].begin!==!0){Ae[it-1].deltas.push(he),Ae[it-1].abs.push(We);break}}break;case"bct":he=[We.x1-Oe[ze-1].x,We.y1-Oe[ze-1].y,We.x2-Oe[ze-1].x,We.y2-Oe[ze-1].y,We.x-Oe[ze-1].x,We.y-Oe[ze-1].y],Ae[Ae.length-1].deltas.push(he);break;case"qct":var mt=Oe[ze-1].x+2/3*(We.x1-Oe[ze-1].x),Nt=Oe[ze-1].y+2/3*(We.y1-Oe[ze-1].y),vt=We.x+2/3*(We.x1-We.x),Ut=We.y+2/3*(We.y1-We.y),ve=We.x,Tt=We.y;he=[mt-Oe[ze-1].x,Nt-Oe[ze-1].y,vt-Oe[ze-1].x,Ut-Oe[ze-1].y,ve-Oe[ze-1].x,Tt-Oe[ze-1].y],Ae[Ae.length-1].deltas.push(he);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(We)}}Ie=le?null:$==="stroke"?"stroke":"fill";for(var Zt=!1,Ot=0;Ot<Ae.length;Ot++)if(Ae[Ot].arc)for(var et=Ae[Ot].abs,jt=0;jt<et.length;jt++){var ot=et[jt];ot.type==="arc"?U.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,le,!Zt):X.call(this,ot.x,ot.y),Zt=!0}else if(Ae[Ot].close===!0)this.pdf.internal.out("h"),Zt=!1;else if(Ae[Ot].begin!==!0){var pn=Ae[Ot].start.x,un=Ae[Ot].start.y;be.call(this,Ae[Ot].deltas,pn,un),Zt=!0}Ie&&F.call(this,Ie),le&&te.call(this)}},Re=function($){var le=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,he=le*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-he;case"top":return $+le-he;case"hanging":return $+le-2*he;case"middle":return $+le/2-he;default:return $}},Y=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(le,he){this.colorStops.push([le,he])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function($,le,he,Ie,Ae,Oe,ze,We,it){for(var mt=ge.call(this,he,Ie,Ae,Oe),Nt=0;Nt<mt.length;Nt++){var vt=mt[Nt];Nt===0&&(it?z.call(this,vt.x1+$,vt.y1+le):X.call(this,vt.x1+$,vt.y1+le)),pe.call(this,$,le,vt.x2,vt.y2,vt.x3,vt.y3,vt.x4,vt.y4)}We?te.call(this):F.call(this,ze)},F=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},z=function($,le){this.pdf.internal.out(t($)+" "+r(le)+" m")},q=function($){var le;switch($.align){case"right":case"end":le="right";break;case"center":le="center";break;default:le="left"}var he,Ie,Ae,Oe=this.pdf.getTextDimensions($.text),ze=Re.call(this,$.y),We=Y.call(this,ze)-Oe.h,it=this.ctx.transform.applyToPoint(new u($.x,ze));if(this.autoPaging){var mt=this.ctx.transform.decompose(),Nt=new g;Nt=(Nt=(Nt=Nt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale);for(var vt=this.ctx.transform.applyToRectangle(new d($.x,ze,Oe.w,Oe.h)),Ut=Nt.applyToRectangle(new d($.x,We,Oe.w,Oe.h)),ve=M.call(this,Ut),Tt=[],Zt=0;Zt<ve.length;Zt+=1)Tt.indexOf(ve[Zt])===-1&&Tt.push(ve[Zt]);Z(Tt);for(var Ot=Tt[0],et=Tt[Tt.length-1],jt=Ot;jt<et+1;jt++){this.pdf.setPage(jt);var ot=jt===1?this.posY+this.margin[0]:this.margin[0],pn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],un=this.pdf.internal.pageSize.height-this.margin[2],Cn=un-this.margin[0],Vn=this.pdf.internal.pageSize.width-this.margin[1],gn=Vn-this.margin[3],Xn=jt===1?0:pn+(jt-2)*Cn;if(this.ctx.clip_path.length!==0){var Dn=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=J(he,this.posX+this.margin[3],-1*Xn+ot),we.call(this,"fill",!0),this.path=Dn}var Mt=J([JSON.parse(JSON.stringify(Ut))],this.posX+this.margin[3],-Xn+ot+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*$.scale),Ae=this.lineWidth,this.lineWidth=Ae*$.scale);var jn=this.autoPaging!=="text";if(jn||Mt.y+Mt.h<=un){if(jn||Mt.y>=ot&&Mt.x<=Vn){var Yt=jn?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Vn-Mt.x)[0],cs=J([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-Xn+ot+this.ctx.prevPageLastElemOffset)[0],Kt=jn&&(jt>Ot||jt<et)&&k.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gn,Cn,null).clip().discardPath()),this.pdf.text(Yt,cs.x,cs.y,{angle:$.angle,align:le,renderingMode:$.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else Mt.y<un&&(this.ctx.prevPageLastElemOffset+=un-Mt.y);$.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Ae)}}else $.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*$.scale),Ae=this.lineWidth,this.lineWidth=Ae*$.scale),this.pdf.text($.text,it.x+this.posX,it.y+this.posY,{angle:$.angle,align:le,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=Ae)},X=function($,le,he,Ie){he=he||0,Ie=Ie||0,this.pdf.internal.out(t($+he)+" "+r(le+Ie)+" l")},be=function($,le,he){return this.pdf.lines($,le,he,null,null)},pe=function($,le,he,Ie,Ae,Oe,ze,We){this.pdf.internal.out([e(s(he+$)),e(i(Ie+le)),e(s(Ae+$)),e(i(Oe+le)),e(s(ze+$)),e(i(We+le)),"c"].join(" "))},ge=function($,le,he,Ie){for(var Ae=2*Math.PI,Oe=Math.PI/2;le>he;)le-=Ae;var ze=Math.abs(he-le);ze<Ae&&Ie&&(ze=Ae-ze);for(var We=[],it=Ie?-1:1,mt=le;ze>1e-5;){var Nt=mt+it*Math.min(ze,Oe);We.push(Se.call(this,$,mt,Nt)),ze-=Math.abs(Nt-mt),mt=Nt}return We},Se=function($,le,he){var Ie=(he-le)/2,Ae=$*Math.cos(Ie),Oe=$*Math.sin(Ie),ze=Ae,We=-Oe,it=ze*ze+We*We,mt=it+ze*Ae+We*Oe,Nt=4/3*(Math.sqrt(2*it*mt)-mt)/(ze*Oe-We*Ae),vt=ze-Nt*We,Ut=We+Nt*ze,ve=vt,Tt=-Ut,Zt=Ie+le,Ot=Math.cos(Zt),et=Math.sin(Zt);return{x1:$*Math.cos(le),y1:$*Math.sin(le),x2:vt*Ot-Ut*et,y2:vt*et+Ut*Ot,x3:ve*Ot-Tt*et,y3:ve*et+Tt*Ot,x4:$*Math.cos(he),y4:$*Math.sin(he)}},ye=function($){return 180*$/Math.PI},De=function($,le,he,Ie,Ae,Oe){var ze=$+.5*(he-$),We=le+.5*(Ie-le),it=Ae+.5*(he-Ae),mt=Oe+.5*(Ie-Oe),Nt=Math.min($,Ae,ze,it),vt=Math.max($,Ae,ze,it),Ut=Math.min(le,Oe,We,mt),ve=Math.max(le,Oe,We,mt);return new d(Nt,Ut,vt-Nt,ve-Ut)},rt=function($,le,he,Ie,Ae,Oe,ze,We){var it,mt,Nt,vt,Ut,ve,Tt,Zt,Ot,et,jt,ot,pn,un,Cn=he-$,Vn=Ie-le,gn=Ae-he,Xn=Oe-Ie,Dn=ze-Ae,Mt=We-Oe;for(mt=0;mt<41;mt++)Ot=(Tt=(Nt=$+(it=mt/40)*Cn)+it*((Ut=he+it*gn)-Nt))+it*(Ut+it*(Ae+it*Dn-Ut)-Tt),et=(Zt=(vt=le+it*Vn)+it*((ve=Ie+it*Xn)-vt))+it*(ve+it*(Oe+it*Mt-ve)-Zt),mt==0?(jt=Ot,ot=et,pn=Ot,un=et):(jt=Math.min(jt,Ot),ot=Math.min(ot,et),pn=Math.max(pn,Ot),un=Math.max(un,et));return new d(Math.round(jt),Math.round(ot),Math.round(pn-jt),Math.round(un-ot))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,le,he=($=this.ctx.lineDash,le=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:le}));this.prevLineDash!==he&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=he)}}})(fn.API),(function(n){var e=function(u){var d,g,p,b,_,I,S,P,k,M;for(g=[],p=0,b=(u+=d="\0\0\0\0".slice(u.length%4||4)).length;b>p;p+=4)(_=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(I=(_=((_=((_=((_=(_-(M=_%85))/85)-(k=_%85))/85)-(P=_%85))/85)-(S=_%85))/85)%85,g.push(I+33,S+33,P+33,k+33,M+33)):g.push(122);return(function(j,J){for(var Z=J;Z>0;Z--)j.pop()})(g,d.length),String.fromCharCode.apply(String,g)+"~>"},t=function(u){var d,g,p,b,_,I=String,S="length",P=255,k="charCodeAt",M="slice",j="replace";for(u[M](-2),u=u[M](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),p=[],b=0,_=(u+=d="uuuuu"[M](u[S]%5||5))[S];_>b;b+=5)g=52200625*(u[k](b)-33)+614125*(u[k](b+1)-33)+7225*(u[k](b+2)-33)+85*(u[k](b+3)-33)+(u[k](b+4)-33),p.push(P&g>>24,P&g>>16,P&g>>8,P&g);return(function(J,Z){for(var ee=Z;ee>0;ee--)J.pop()})(p,d[S]),I.fromCharCode.apply(I,p)},r=function(u){return u.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),d.test(u)===!1)return"";for(var g="",p=0;p<u.length;p+=2)g+=String.fromCharCode("0x"+(u[p]+u[p+1]));return g},i=function(u){for(var d=new Uint8Array(u.length),g=u.length;g--;)d[g]=u.charCodeAt(g);return(d=Lv(d)).reduce(function(p,b){return p+String.fromCharCode(b)},"")};n.processDataByFilters=function(u,d){var g=0,p=u||"",b=[];for(typeof(d=d||[])=="string"&&(d=[d]),g=0;g<d.length;g+=1)switch(d[g]){case"ASCII85Decode":case"/ASCII85Decode":p=t(p),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=r(p),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=i(p),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[g]+'" is not implemented')}return{data:p,reverseChain:b.reverse().join(" ")}}})(fn.API),(function(n){n.loadFile=function(e,t,r){return(function(s,i,u){i=i!==!1,u=typeof u=="function"?u:function(){};var d=void 0;try{d=(function(g,p,b){var _=new XMLHttpRequest,I=0,S=function(P){var k=P.length,M=[],j=String.fromCharCode;for(I=0;I<k;I+=1)M.push(j(255&P.charCodeAt(I)));return M.join("")};if(_.open("GET",g,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?b(S(this.responseText)):b(void 0)}),_.send(null),p&&_.status===200)return S(_.responseText)})(s,i,u)}catch{}return d})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(fn.API),(function(n){function e(){return(Hn.html2canvas?Promise.resolve(Hn.html2canvas):py(()=>import("./html2canvas.esm-DXEQVQnt.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(Hn.DOMPurify?Promise.resolve(Hn.DOMPurify):py(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var r=function(d){var g=ls(d);return g==="undefined"?"undefined":g==="string"||d instanceof String?"string":g==="number"||d instanceof Number?"number":g==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":g==="object"?"object":"unknown"},s=function(d,g){var p=document.createElement(d);for(var b in g.className&&(p.className=g.className),g.innerHTML&&g.dompurify&&(p.innerHTML=g.dompurify.sanitize(g.innerHTML)),g.style)p.style[b]=g.style[b];return p},i=function d(g,p){for(var b=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),_=g.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||b.appendChild(d(_,p));return g.nodeType===1&&(g.nodeName==="CANVAS"?(b.width=g.width,b.height=g.height,b.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(b.value=g.value),b.addEventListener("load",function(){b.scrollTop=g.scrollTop,b.scrollLeft=g.scrollLeft},!0)),b},u=function d(g){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),b=d.convert(Promise.resolve(),p);return(b=b.setProgress(1,d,1,[d])).set(g)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(d,g){return d.__proto__=g||u.prototype,d},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(d,g){return this.then(function(){switch(g=g||(function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),g){case"string":return this.then(t).then(function(p){return this.set({src:s("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},u.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},g=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);g.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(g),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(g){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,g(this.prop.container,p)}).then(function(g){(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(g){var p=this.opt.jsPDF,b=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,I=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete I.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=b,b)for(var S=0;S<b.length;++S){var P=b[S],k=P.src.find(function(M){return M.format==="truetype"});k&&p.addFont(k.url,P.ref.name,P.ref.style)}return I.windowHeight=I.windowHeight||0,I.windowHeight=I.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):I.windowHeight,p.context2d.save(!0),g(this.prop.container,I)}).then(function(g){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(g),this.prop.canvas=g,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(d,g,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,g):this.outputPdf(d,g)},u.prototype.outputPdf=function(d,g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,g)})},u.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},u.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(d){if(r(d)!=="object")return this;var g=Object.keys(d||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(g)})},u.prototype.get=function(d,g){return this.then(function(){var p=d in u.template.prop?this.prop[d]:this.opt[d];return g?g(p):p})},u.prototype.setMargin=function(d){return this.then(function(){switch(r(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},u.prototype.setPageSize=function(d){function g(p,b){return Math.floor(p*b/72*96)}return this.then(function(){(d=d||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:g(d.inner.width,d.k),height:g(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},u.prototype.setProgress=function(d,g,p,b){return d!=null&&(this.progress.val=d),g!=null&&(this.progress.state=g),p!=null&&(this.progress.n=p),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(d,g,p,b){return this.setProgress(d?this.progress.val+d:null,g||null,p?this.progress.n+p:null,b?this.progress.stack.concat(b):null)},u.prototype.then=function(d,g){var p=this;return this.thenCore(d,g,function(b,_){return p.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(I){return p.updateProgress(null,b),I}).then(b,_).then(function(I){return p.updateProgress(1),I})})},u.prototype.thenCore=function(d,g,p){p=p||Promise.prototype.then;var b=this;d&&(d=d.bind(b)),g&&(g=g.bind(b));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:u.convert(Object.assign({},b),Promise.prototype),I=p.call(_,d,g);return u.convert(I,b.__proto__)},u.prototype.thenExternal=function(d,g){return Promise.prototype.then.call(this,d,g)},u.prototype.thenList=function(d){var g=this;return d.forEach(function(p){g=g.thenCore(p)}),g},u.prototype.catch=function(d){d&&(d=d.bind(this));var g=Promise.prototype.catch.call(this,d);return u.convert(g,this)},u.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},u.prototype.error=function(d){return this.then(function(){throw new Error(d)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,fn.getPageSize=function(d,g,p){if(ls(d)==="object"){var b=d;d=b.orientation,g=b.unit||g,p=b.format||p}g=g||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var _,I=(""+p).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(g){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+g}var P,k=0,M=0;if(S.hasOwnProperty(I))k=S[I][1]/_,M=S[I][0]/_;else try{k=p[1],M=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",M>k&&(P=M,M=k,k=P);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",k>M&&(P=M,M=k,k=P)}return{width:M,height:k,unit:g,k:_,orientation:d}},n.html=function(d,g){(g=g||{}).callback=g.callback||function(){},g.html2canvas=g.html2canvas||{},g.html2canvas.canvas=g.html2canvas.canvas||this.canvas,g.jsPDF=g.jsPDF||this,g.fontFaces=g.fontFaces?g.fontFaces.map(Dy):null;var p=new u(g);return g.worker?p:p.from(d).doCallback()}})(fn.API),fn.API.addJS=function(n){return lC=n,this.internal.events.subscribe("postPutResources",function(){lg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lg!==void 0&&oC!==void 0&&this.internal.out("/Names <</JavaScript "+lg+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var u=s[i],d=r.exec(u);if(d!=null){var g=d[1];t.internal.newObjectDeferredBegin(g,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,b=[];for(i=0;i<p;i++){var _=t.internal.newObject();b.push(_);var I=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var S=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<b.length;i++)t.internal.write("(page_"+(i+1)+")"+b[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+S+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,i){var u={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var u=r.children[i];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var d=this.count=this.count_r({count:0},u);if(d>0&&this.line("/Count "+d),u.options&&u.options.pageNumber){var g=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+g.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])})(fn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,i,u,d){var g,p=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,g=(function(_){for(var I,S=256*_.charCodeAt(4)+_.charCodeAt(5),P=_.length,k={width:0,height:0,numcomponents:1},M=4;M<P;M+=2){if(M+=S,e.indexOf(_.charCodeAt(M+1))!==-1){I=256*_.charCodeAt(M+5)+_.charCodeAt(M+6),k={width:256*_.charCodeAt(M+7)+_.charCodeAt(M+8),height:I,numcomponents:_.charCodeAt(M+9)};break}S=256*_.charCodeAt(M+2)+_.charCodeAt(M+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),g.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}b={data:t,width:g.width,height:g.height,colorSpace:d,bitsPerComponent:8,filter:p,index:r,alias:s}}return b}})(fn.API),fn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,i=_$(n,{checkCrc:!0}),u=i.width,d=i.height,g=i.channels,p=i.palette,b=i.depth;s=p&&g===1?(function(U){for(var F=U.width,te=U.height,z=U.data,q=U.palette,X=U.depth,be=!1,pe=[],ge=[],Se=void 0,ye=!1,De=0,rt=0;rt<q.length;rt++){var me=dE(q[rt],4),$=me[0],le=me[1],he=me[2],Ie=me[3];pe.push($,le,he),Ie!=null&&(Ie===0?(De++,ge.length<1&&ge.push(rt)):Ie<255&&(ye=!0))}if(ye||De>1){be=!0,ge=void 0;var Ae=F*te;Se=new Uint8Array(Ae);for(var Oe=new DataView(z.buffer),ze=0;ze<Ae;ze++){var We=Ly(Oe,ze,X),it=dE(q[We],4)[3];Se[ze]=it}}else De===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:be?8:void 0,colorBytes:z,alphaBytes:Se,needSMask:be,palette:pe,mask:ge}})(i):g===2||g===4?(function(U){for(var F=U.data,te=U.width,z=U.height,q=U.channels,X=U.depth,be=q===2?"DeviceGray":"DeviceRGB",pe=q-1,ge=te*z,Se=pe,ye=ge*Se,De=1*ge,rt=Math.ceil(ye*X/8),me=Math.ceil(De*X/8),$=new Uint8Array(rt),le=new Uint8Array(me),he=new DataView(F.buffer),Ie=new DataView($.buffer),Ae=new DataView(le.buffer),Oe=!1,ze=0;ze<ge;ze++){for(var We=ze*q,it=0;it<Se;it++)xC(Ie,Ly(he,We+it,X),ze*Se+it,X);var mt=Ly(he,We+Se,X);mt<(1<<X)-1&&(Oe=!0),xC(Ae,mt,1*ze,X)}return{colorSpace:be,colorsPerPixel:pe,sMaskBitsPerComponent:Oe?X:void 0,colorBytes:$,alphaBytes:le,needSMask:Oe}})(i):(function(U){var F=U.data,te=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(z){for(var q=z.length,X=new Uint8Array(2*q),be=new DataView(X.buffer,X.byteOffset,X.byteLength),pe=0;pe<q;pe++)be.setUint16(2*pe,z[pe],!1);return X})(F):F,needSMask:!1}})(i);var _,I,S,P=s,k=P.colorSpace,M=P.colorsPerPixel,j=P.sMaskBitsPerComponent,J=P.colorBytes,Z=P.alphaBytes,ee=P.needSMask,we=P.palette,Re=P.mask,Y=null;return r!==fn.API.image_compression.NONE&&typeof Lv=="function"?(Y=(function(U){var F;switch(U){case fn.API.image_compression.FAST:F=11;break;case fn.API.image_compression.MEDIUM:F=13;break;case fn.API.image_compression.SLOW:F=14;break;default:F=12}return F})(r),_=this.decode.FLATE_DECODE,I="/Predictor ".concat(Y," /Colors ").concat(M," /BitsPerComponent ").concat(b," /Columns ").concat(u),n=dC(J,Math.ceil(u*M*b/8),M,b,r),ee&&(S=dC(Z,Math.ceil(u*j/8),1,j,r))):(_=void 0,I=void 0,n=J,ee&&(S=Z)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:t,data:n,index:e,filter:_,decodeParameters:I,transparency:Re,palette:we,sMask:S,predictor:Y,width:u,height:d,bitsPerComponent:b,sMaskBitsPerComponent:j,colorSpace:k}}},(function(n){n.processGIF89A=function(e,t,r,s){var i=new H$(e),u=i.width,d=i.height,g=[];i.decodeAndBlitFrameRGBA(0,g);var p={data:g,width:u,height:d},b=new ky(100).encode(p,100);return n.processJPEG.call(this,b,t,r,s)},n.processGIF87A=n.processGIF89A})(fn.API),_l.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_l.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){As.log("bit decode error:"+t)}},_l.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var g=this.palette[i>>7-d&1];this.data[u+4*d]=g.blue,this.data[u+4*d+1]=g.green,this.data[u+4*d+2]=g.red,this.data[u+4*d+3]=255}t!==0&&(this.pos+=4-t)}},_l.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var i=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,d=i>>4,g=15&i,p=this.palette[d];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*s+1>=this.width)break;p=this.palette[g],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_l.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[i]=u.red,this.data[i+1]=u.green,this.data[i+2]=u.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},_l.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(i&e)/e*255|0,d=(i>>5&e)/e*255|0,g=(i>>10&e)/e*255|0,p=i>>15?255:0,b=r*this.width*4+4*s;this.data[b]=g,this.data[b+1]=d,this.data[b+2]=u,this.data[b+3]=p}this.pos+=n}},_l.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(u&e)/e*255|0,g=(u>>5&t)/t*255|0,p=(u>>11)/e*255|0,b=s*this.width*4+4*i;this.data[b]=p,this.data[b+1]=g,this.data[b+2]=d,this.data[b+3]=255}this.pos+=n}},_l.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=i,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},_l.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=i,this.data[d+1]=s,this.data[d+2]=r,this.data[d+3]=u}},_l.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var i=new _l(e,!1),u=i.width,d=i.height,g={data:i.getData(),width:u,height:d},p=new ky(100).encode(g,100);return n.processJPEG.call(this,p,t,r,s)}})(fn.API),vC.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var i=new vC(e),u=i.width,d=i.height,g={data:i.getData(),width:u,height:d},p=new ky(100).encode(g,100);return n.processJPEG.call(this,p,t,r,s)}})(fn.API),fn.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,i=new Uint8Array(s/4*3),u=new Uint8Array(s/4),d=0,g=0,p=0;p<s;p+=4){var b=r[p],_=r[p+1],I=r[p+2],S=r[p+3];i[d++]=b,i[d++]=_,i[d++]=I,u[g++]=S}var P=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:P,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},fn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xd=fn.API,cg=Xd.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:s.metadata.Unicode.widths,g=d.fof?d.fof:1,p=e.kerning?e.kerning:s.metadata.Unicode.kerning,b=p.fof?p.fof:1,_=e.doKerning!==!1,I=0,S=n.length,P=0,k=d[0]||g,M=[];for(t=0;t<S;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/i)||0)/1e3):(I=_&&ls(p[r])==="object"&&!isNaN(parseInt(p[r][P],10))?p[r][P]/b:0,M.push((d[r]||k)/g+I)),P=r;return M},cC=Xd.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Xd.processArabic&&(n=Xd.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:cg.apply(this,arguments).reduce(function(i,u){return i+u},0)},uC=function(n,e,t,r){for(var s=[],i=0,u=n.length,d=0;i!==u&&d+e[i]<t;)d+=e[i],i++;s.push(n.slice(0,i));var g=i;for(d=0;i!==u;)d+e[i]>r&&(s.push(n.slice(g,i)),d=0,g=i),d+=e[i],i++;return g!==i&&s.push(n.slice(g,i)),s},hC=function(n,e,t){t||(t={});var r,s,i,u,d,g,p,b=[],_=[b],I=t.textIndent||0,S=0,P=0,k=n.split(" "),M=cg.apply(this,[" ",t])[0];if(g=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var j=Array(g).join(" "),J=[];k.map(function(ee){(ee=ee.split(/\s*\n/)).length>1?J=J.concat(ee.map(function(we,Re){return(Re&&we.length?`
`:"")+we})):J.push(ee[0])}),k=J,g=cC.apply(this,[j,t])}for(i=0,u=k.length;i<u;i++){var Z=0;if(r=k[i],g&&r[0]==`
`&&(r=r.substr(1),Z=1),I+S+(P=(s=cg.apply(this,[r,t])).reduce(function(ee,we){return ee+we},0))>e||Z){if(P>e){for(d=uC.apply(this,[r,s,e-(I+S),e]),b.push(d.shift()),b=[d.pop()];d.length;)_.push([d.shift()]);P=s.slice(r.length-(b[0]?b[0].length:0)).reduce(function(ee,we){return ee+we},0)}else b=[r];_.push(b),I=P+g,S=M}else b.push(r),I+=S+P,S=M}return p=g?function(ee,we){return(we?j:"")+ee.join(" ")}:function(ee){return ee.join(" ")},_.map(p)},Xd.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var _=this.internal.getFont(b.fontName,b.fontStyle),I="Unicode";return _.metadata[I]?{widths:_.metadata[I].widths||{0:1},kerning:_.metadata[I].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var d,g,p=[];for(d=0,g=r.length;d<g;d++)p=p.concat(hC.apply(this,[r[d],u,i]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[t[i]]=e[i],s[e[i]]=t[i];var u=function(I){return"0x"+parseInt(I,10).toString(16)},d=n.__fontmetrics__.compress=function(I){var S,P,k,M,j=["{"];for(var J in I){if(S=I[J],isNaN(parseInt(J,10))?P="'"+J+"'":(J=parseInt(J,10),P=(P=u(J).slice(2)).slice(0,-1)+s[P.slice(-1)]),typeof S=="number")S<0?(k=u(S).slice(3),M="-"):(k=u(S).slice(2),M=""),k=M+k.slice(0,-1)+s[k.slice(-1)];else{if(ls(S)!=="object")throw new Error("Don't know what to do with value type "+ls(S)+".");k=d(S)}j.push(P+k)}return j.push("}"),j.join("")},g=n.__fontmetrics__.uncompress=function(I){if(typeof I!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,P,k,M,j={},J=1,Z=j,ee=[],we="",Re="",Y=I.length-1,U=1;U<Y;U+=1)(M=I[U])=="'"?S?(k=S.join(""),S=void 0):S=[]:S?S.push(M):M=="{"?(ee.push([Z,k]),Z={},k=void 0):M=="}"?((P=ee.pop())[0][P[1]]=Z,k=void 0,Z=P[0]):M=="-"?J=-1:k===void 0?r.hasOwnProperty(M)?(we+=r[M],k=parseInt(we,16)*J,J=1,we=""):we+=M:r.hasOwnProperty(M)?(Re+=r[M],Z[k]=parseInt(Re,16)*J,J=1,k=void 0,Re=""):Re+=M;return j},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:g("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},_={Unicode:{"Courier-Oblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":g("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":g("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:g("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":g("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:g("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":g("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":g("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":g("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":g("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(I){var S=I.font,P=_.Unicode[S.postScriptName];P&&(S.metadata.Unicode={},S.metadata.Unicode.widths=P.widths,S.metadata.Unicode.kerning=P.kerning);var k=b.Unicode[S.postScriptName];k&&(S.metadata.Unicode.encoding=k,S.encoding=k.codePages[0])}])})(fn.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=t.charCodeAt(i);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(Ng(d)),u.metadata=n.API.TTFFont.open(d),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(fn),fn.API.addSvgAsImage=function(n,e,t,r,s,i,u,d){if(isNaN(e)||isNaN(t))throw As.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw As.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=r,g.height=s;var p=g.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,g.width,g.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Hn.canvg?Promise.resolve(Hn.canvg):py(()=>import("./index.es-DDN0ZopD.js"),[],import.meta.url)).catch(function(I){return Promise.reject(new Error("Could not load canvg: "+I))}).then(function(I){return I.default?I.default:I}).then(function(I){return I.fromString(p,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(I){return I.render(b)}).then(function(){_.addImage(g.toDataURL("image/jpeg",1),e,t,r,s,u,d)})},fn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},fn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,i,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(u),g=[],p=0,b=0,_=0;function I(P,k){var M,j=!1;for(M=0;M<P.length;M+=1)P[M]===k&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var S=d.length;for(_=0;_<S;_+=1)t[d[_]].value=t[d[_]].defaultValue,t[d[_]].explicitSet=!1}if(ls(n)==="object"){for(s in n)if(i=n[s],I(d,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&I(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(p=0;p<i.length;p+=1)if(r=!0,i[p].length===1&&typeof i[p][0]=="number")g.push(String(i[p]-1));else if(i[p].length>1){for(b=0;b<i[p].length;b+=1)typeof i[p][b]!="number"&&(r=!1);r===!0&&g.push([i[p][0]-1,i[p][1]-1].join(" "))}t[s].value="["+g.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,k=[];for(P in t)t[P].explicitSet===!0&&(t[P].type==="name"?k.push("/"+P+" /"+t[P].value):k.push("/"+P+" "+t[P].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),g=unescape(encodeURIComponent("</x:xmpmeta>")),p=i.length+u.length+d.length+s.length+g.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+i+u+d+g),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(fn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(i,u){for(var d,g=u.metadata.Unicode.widths,p=["","0","00","000","0000"],b=[""],_=0,I=i.length;_<I;++_){if(d=u.metadata.characterToGlyph(i.charCodeAt(_)),u.metadata.glyIdsUsed.push(d),u.metadata.toUnicode[d]=i.charCodeAt(_),g.indexOf(d)==-1&&(g.push(d),g.push([parseInt(u.metadata.widthOfGlyph(d),10)])),d=="0")return b.join("");d=d.toString(16),b.push(p[4-d.length],d)}return b.join("")},r=function(i){var u,d,g,p,b,_,I;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,g=[],_=0,I=(d=Object.keys(i).sort(function(S,P){return S-P})).length;_<I;_++)u=d[_],g.length>=100&&(b+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar`,g=[]),i[u]!==void 0&&i[u]!==null&&typeof i[u].toString=="function"&&(p=("0000"+i[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),g.push("<"+u+"><"+p+">"));return g.length&&(b+=`
`+g.length+` beginbfchar
`+g.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(u){var d=u.font,g=u.out,p=u.newObject,b=u.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var _=d.metadata.Unicode.widths,I=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),S="",P=0;P<I.length;P++)S+=String.fromCharCode(I[P]);var k=p();b({data:S,addLength1:!0,objectId:k}),g("endobj");var M=p();b({data:r(d.metadata.toUnicode),addLength1:!0,objectId:M}),g("endobj");var j=p();g("<<"),g("/Type /FontDescriptor"),g("/FontName /"+ef(d.fontName)),g("/FontFile2 "+k+" 0 R"),g("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),g("/Flags "+d.metadata.flags),g("/StemV "+d.metadata.stemV),g("/ItalicAngle "+d.metadata.italicAngle),g("/Ascent "+d.metadata.ascender),g("/Descent "+d.metadata.decender),g("/CapHeight "+d.metadata.capHeight),g(">>"),g("endobj");var J=p();g("<<"),g("/Type /Font"),g("/BaseFont /"+ef(d.fontName)),g("/FontDescriptor "+j+" 0 R"),g("/W "+n.API.PDFObject.convert(_)),g("/CIDToGIDMap /Identity"),g("/DW 1000"),g("/Subtype /CIDFontType2"),g("/CIDSystemInfo"),g("<<"),g("/Supplement 0"),g("/Registry (Adobe)"),g("/Ordering ("+d.encoding+")"),g(">>"),g(">>"),g("endobj"),d.objectNumber=p(),g("<<"),g("/Type /Font"),g("/Subtype /Type0"),g("/ToUnicode "+M+" 0 R"),g("/BaseFont /"+ef(d.fontName)),g("/Encoding /"+d.encoding),g("/DescendantFonts ["+J+" 0 R]"),g(">>"),g("endobj"),d.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(u){var d=u.font,g=u.out,p=u.newObject,b=u.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var _=d.metadata.rawData,I="",S=0;S<_.length;S++)I+=String.fromCharCode(_[S]);var P=p();b({data:I,addLength1:!0,objectId:P}),g("endobj");var k=p();b({data:r(d.metadata.toUnicode),addLength1:!0,objectId:k}),g("endobj");var M=p();g("<<"),g("/Descent "+d.metadata.decender),g("/CapHeight "+d.metadata.capHeight),g("/StemV "+d.metadata.stemV),g("/Type /FontDescriptor"),g("/FontFile2 "+P+" 0 R"),g("/Flags 96"),g("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),g("/FontName /"+ef(d.fontName)),g("/ItalicAngle "+d.metadata.italicAngle),g("/Ascent "+d.metadata.ascender),g(">>"),g("endobj"),d.objectNumber=p();for(var j=0;j<d.metadata.hmtx.widths.length;j++)d.metadata.hmtx.widths[j]=parseInt(d.metadata.hmtx.widths[j]*(1e3/d.metadata.head.unitsPerEm));g("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+ef(d.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),g("endobj"),d.isAlreadyPutted=!0}})(i)}]);var s=function(i){var u,d=i.text||"",g=i.x,p=i.y,b=i.options||{},_=i.mutex||{},I=_.pdfEscape,S=_.activeFontKey,P=_.fonts,k=S,M="",j=0,J="",Z=P[k].encoding;if(P[k].encoding!=="Identity-H")return{text:d,x:g,y:p,options:b,mutex:_};for(J=d,k=S,Array.isArray(d)&&(J=d[0]),j=0;j<J.length;j+=1)P[k].metadata.hasOwnProperty("cmap")&&(u=P[k].metadata.cmap.unicode.codeMap[J[j].charCodeAt(0)]),u||J[j].charCodeAt(0)<256&&P[k].metadata.hasOwnProperty("Unicode")?M+=J[j]:M+="";var ee="";return parseInt(k.slice(1))<14||Z==="WinAnsiEncoding"?ee=I(M,k).split("").map(function(we){return we.charCodeAt(0).toString(16)}).join(""):Z==="Identity-H"&&(ee=t(M,P[k])),_.isHex=!0,{text:ee,x:g,y:p,options:b,mutex:_}};e.events.push(["postProcessText",function(i){var u=i.text||"",d=[],g={text:u,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?d.push([s(Object.assign({},g,{text:u[p][0]})).text,u[p][1],u[p][2]]):d.push(s(Object.assign({},g,{text:u[p]})).text);i.text=d}else i.text=s(Object.assign({},g,{text:u})).text}])})(fn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(fn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,i,u,d,g,p,b,_=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),J=!1,Z=0;this.__bidiEngine__={};var ee=function(z){var q=z.charCodeAt(),X=q>>8,be=k[X];return be!==void 0?_[256*be+(255&q)]:X===252||X===253?"AL":j.test(X)?"L":X===8?"R":"N"},we=function(z){for(var q,X=0;X<z.length;X++){if((q=ee(z.charAt(X)))==="L")return!1;if(q==="R")return!0}return!1},Re=function(z,q,X,be){var pe,ge,Se,ye,De=q[be];switch(De){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":J=!1;break;case"N":case"AN":break;case"EN":J&&(De="AN");break;case"AL":J=!0,De="R";break;case"WS":case"BN":De="N";break;case"CS":be<1||be+1>=q.length||(pe=X[be-1])!=="EN"&&pe!=="AN"||(ge=q[be+1])!=="EN"&&ge!=="AN"?De="N":J&&(ge="AN"),De=ge===pe?ge:"N";break;case"ES":De=(pe=be>0?X[be-1]:"B")==="EN"&&be+1<q.length&&q[be+1]==="EN"?"EN":"N";break;case"ET":if(be>0&&X[be-1]==="EN"){De="EN";break}if(J){De="N";break}for(Se=be+1,ye=q.length;Se<ye&&q[Se]==="ET";)Se++;De=Se<ye&&q[Se]==="EN"?"EN":"N";break;case"NSM":if(u&&!d){for(ye=q.length,Se=be+1;Se<ye&&q[Se]==="NSM";)Se++;if(Se<ye){var rt=z[be],me=rt>=1425&&rt<=2303||rt===64286;if(pe=q[Se],me&&(pe==="R"||pe==="AL")){De="R";break}}}De=be<1||(pe=q[be-1])==="B"?"N":X[be-1];break;case"B":J=!1,s=!0,De=Z;break;case"S":i=!0,De="N"}return De},Y=function(z,q,X){var be=z.split("");return X&&U(be,X,{hiLevel:Z}),be.reverse(),q&&q.reverse(),be.join("")},U=function(z,q,X){var be,pe,ge,Se,ye,De=-1,rt=z.length,me=0,$=[],le=Z?S:I,he=[];for(J=!1,s=!1,i=!1,pe=0;pe<rt;pe++)he[pe]=ee(z[pe]);for(ge=0;ge<rt;ge++){if(ye=me,$[ge]=Re(z,he,$,ge),be=240&(me=le[ye][P[$[ge]]]),me&=15,q[ge]=Se=le[me][5],be>0)if(be===16){for(pe=De;pe<ge;pe++)q[pe]=1;De=-1}else De=-1;if(le[me][6])De===-1&&(De=ge);else if(De>-1){for(pe=De;pe<ge;pe++)q[pe]=Se;De=-1}he[ge]==="B"&&(q[ge]=0),X.hiLevel|=Se}i&&(function(Ie,Ae,Oe){for(var ze=0;ze<Oe;ze++)if(Ie[ze]==="S"){Ae[ze]=Z;for(var We=ze-1;We>=0&&Ie[We]==="WS";We--)Ae[We]=Z}})(he,q,rt)},F=function(z,q,X,be,pe){if(!(pe.hiLevel<z)){if(z===1&&Z===1&&!s)return q.reverse(),void(X&&X.reverse());for(var ge,Se,ye,De,rt=q.length,me=0;me<rt;){if(be[me]>=z){for(ye=me+1;ye<rt&&be[ye]>=z;)ye++;for(De=me,Se=ye-1;De<Se;De++,Se--)ge=q[De],q[De]=q[Se],q[Se]=ge,X&&(ge=X[De],X[De]=X[Se],X[Se]=ge);me=ye}me++}}},te=function(z,q,X){var be=z.split(""),pe={hiLevel:Z};return X||(X=[]),U(be,X,pe),(function(ge,Se,ye){if(ye.hiLevel!==0&&b)for(var De,rt=0;rt<ge.length;rt++)Se[rt]===1&&(De=M.indexOf(ge[rt]))>=0&&(ge[rt]=M[De+1])})(be,X,pe),F(2,be,q,X,pe),F(1,be,q,X,pe),be.join("")};return this.__bidiEngine__.doBidiReorder=function(z,q,X){if((function(pe,ge){if(ge)for(var Se=0;Se<pe.length;Se++)ge[Se]=Se;d===void 0&&(d=we(pe)),p===void 0&&(p=we(pe))})(z,q),u||!g||p)if(u&&g&&d^p)Z=d?1:0,z=Y(z,q,X);else if(!u&&g&&p)Z=d?1:0,z=te(z,q,X),z=Y(z,q);else if(!u||d||g||p){if(u&&!g&&d^p)z=Y(z,q),d?(Z=0,z=te(z,q,X)):(Z=1,z=te(z,q,X),z=Y(z,q));else if(u&&d&&!g&&p)Z=1,z=te(z,q,X),z=Y(z,q);else if(!u&&!g&&d^p){var be=b;d?(Z=1,z=te(z,q,X),Z=0,b=!1,z=te(z,q,X),b=be):(Z=0,z=te(z,q,X),z=Y(z,q),Z=1,b=!1,z=te(z,q,X),b=be,z=Y(z,q))}}else Z=0,z=te(z,q,X);else Z=d?1:0,z=te(z,q,X);return z},this.__bidiEngine__.setOptions=function(z){z&&(u=z.isInputVisual,g=z.isOutputVisual,d=z.isInputRtl,p=z.isOutputRtl,b=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var u=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(u=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?u.push([t.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):u.push([t.doBidiReorder(s[d])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(fn),fn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ih(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sJ(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new q$(this.contents),this.head=new W$(this),this.name=new $$(this),this.cmap=new II(this),this.toUnicode={},this.hhea=new Y$(this),this.maxp=new J$(this),this.hmtx=new Z$(this),this.post=new Q$(this),this.os2=new X$(this),this.loca=new rJ(this),this.glyf=new eJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,d,g,p;for(p=[],u=0,d=(g=this.bbox).length;u<d;u++)e=g[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,i,u,d;for(u=0,i=0,d=(e=""+e).length;0<=d?i<d:i>d;i=0<=d?++i:--i)s=e.charCodeAt(i),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Bl,ih=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,i,u,d,g;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),u=this.readByte(),d=this.readByte(),g=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^u)+256*(255^d)+(255^g)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*i+65536*u+256*d+g},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)t=e[r],i.push(this.writeByte(t));return i},n})(),q$=(function(){var n;function e(t){var r,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,i,u,d,g,p,b,_,I,S,P,k;for(k in S=Object.keys(t).length,g=Math.log(2),_=16*Math.floor(Math.log(S)/g),u=Math.floor(_/g),b=16*S-_,(s=new ih).writeInt(this.scalarType),s.writeShort(S),s.writeShort(_),s.writeShort(u),s.writeShort(b),i=16*S,p=s.pos+i,d=null,P=[],t)for(I=t[k],s.writeString(k),s.writeInt(n(I)),s.writeInt(p),s.writeInt(I.length),P=P.concat(I),k==="head"&&(d=p),p+=I.length;p%4;)P.push(0),p++;return s.write(P),r=2981146554-n(s.data),s.pos=d+8,s.writeUInt32(r),s.data},n=function(t){var r,s,i,u;for(t=RI.call(t);t.length%4;)t.push(0);for(i=new ih(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=i.readUInt32();return 4294967295&s},e})(),G$={}.hasOwnProperty,_c=function(n,e){for(var t in e)G$.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Bl=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var W$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new ih).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),bC=(function(){function n(e,t){var r,s,i,u,d,g,p,b,_,I,S,P,k,M,j,J,Z;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(g=0;g<256;++g)this.codeMap[g]=e.readByte();break;case 4:for(S=e.readUInt16(),I=S/2,e.pos+=6,i=(function(){var ee,we;for(we=[],g=ee=0;0<=I?ee<I:ee>I;g=0<=I?++ee:--ee)we.push(e.readUInt16());return we})(),e.pos+=2,k=(function(){var ee,we;for(we=[],g=ee=0;0<=I?ee<I:ee>I;g=0<=I?++ee:--ee)we.push(e.readUInt16());return we})(),p=(function(){var ee,we;for(we=[],g=ee=0;0<=I?ee<I:ee>I;g=0<=I?++ee:--ee)we.push(e.readUInt16());return we})(),b=(function(){var ee,we;for(we=[],g=ee=0;0<=I?ee<I:ee>I;g=0<=I?++ee:--ee)we.push(e.readUInt16());return we})(),s=(this.length-e.pos+this.offset)/2,d=(function(){var ee,we;for(we=[],g=ee=0;0<=s?ee<s:ee>s;g=0<=s?++ee:--ee)we.push(e.readUInt16());return we})(),g=j=0,Z=i.length;j<Z;g=++j)for(M=i[g],r=J=P=k[g];P<=M?J<=M:J>=M;r=P<=M?++J:--J)b[g]===0?u=r+p[g]:(u=d[b[g]/2+(r-P)-(I-g)]||0)!==0&&(u+=p[g]),this.codeMap[r]=65535&u}e.pos=_}return n.encode=function(e,t){var r,s,i,u,d,g,p,b,_,I,S,P,k,M,j,J,Z,ee,we,Re,Y,U,F,te,z,q,X,be,pe,ge,Se,ye,De,rt,me,$,le,he,Ie,Ae,Oe,ze,We,it,mt,Nt;switch(be=new ih,u=Object.keys(e).sort(function(vt,Ut){return vt-Ut}),t){case"macroman":for(k=0,M=(function(){var vt=[];for(P=0;P<256;++P)vt.push(0);return vt})(),J={0:0},i={},pe=0,De=u.length;pe<De;pe++)J[We=e[s=u[pe]]]==null&&(J[We]=++k),i[s]={old:e[s],new:J[e[s]]},M[s]=J[e[s]];return be.writeUInt16(1),be.writeUInt16(0),be.writeUInt32(12),be.writeUInt16(0),be.writeUInt16(262),be.writeUInt16(0),be.write(M),{charMap:i,subtable:be.data,maxGlyphID:k+1};case"unicode":for(q=[],_=[],Z=0,J={},r={},j=p=null,ge=0,rt=u.length;ge<rt;ge++)J[we=e[s=u[ge]]]==null&&(J[we]=++Z),r[s]={old:we,new:J[we]},d=J[we]-s,j!=null&&d===p||(j&&_.push(j),q.push(s),p=d),j=s;for(j&&_.push(j),_.push(65535),q.push(65535),te=2*(F=q.length),U=2*Math.pow(Math.log(F)/Math.LN2,2),I=Math.log(U/2)/Math.LN2,Y=2*F-U,g=[],Re=[],S=[],P=Se=0,me=q.length;Se<me;P=++Se){if(z=q[P],b=_[P],z===65535){g.push(0),Re.push(0);break}if(z-(X=r[z].new)>=32768)for(g.push(0),Re.push(2*(S.length+F-P)),s=ye=z;z<=b?ye<=b:ye>=b;s=z<=b?++ye:--ye)S.push(r[s].new);else g.push(X-z),Re.push(0)}for(be.writeUInt16(3),be.writeUInt16(1),be.writeUInt32(12),be.writeUInt16(4),be.writeUInt16(16+8*F+2*S.length),be.writeUInt16(0),be.writeUInt16(te),be.writeUInt16(U),be.writeUInt16(I),be.writeUInt16(Y),Oe=0,$=_.length;Oe<$;Oe++)s=_[Oe],be.writeUInt16(s);for(be.writeUInt16(0),ze=0,le=q.length;ze<le;ze++)s=q[ze],be.writeUInt16(s);for(it=0,he=g.length;it<he;it++)d=g[it],be.writeUInt16(d);for(mt=0,Ie=Re.length;mt<Ie;mt++)ee=Re[mt],be.writeUInt16(ee);for(Nt=0,Ae=S.length;Nt<Ae;Nt++)k=S[Nt],be.writeUInt16(k);return{charMap:r,subtable:be.data,maxGlyphID:Z+1}}},n})(),II=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new bC(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=bC.encode(e,t),(s=new ih).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),Y$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),X$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),Q$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,d,g;for(g=[],i=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;i=0<=d?++u:--u)g.push(e.readUInt32());return g}).call(this)}},n})(),K$=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,i,u,d,g,p,b,_,I;for(e.pos=this.offset,e.readShort(),t=e.readShort(),d=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(g={},i=b=0,_=r.length;b<_;i=++b)s=r[i],e.pos=s.offset,p=e.readString(s.length),u=new K$(p,s),g[I=s.nameID]==null&&(g[I]=[]),g[s.nameID].push(u);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},n})(),J$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Z$=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,i,u,d,g;for(e.pos=this.offset,this.metrics=[],t=0,d=this.file.hhea.numberOfMetrics;0<=d?t<d:t>d;t=0<=d?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,b;for(b=[],t=p=0;0<=s?p<s:p>s;t=0<=s?++p:--p)b.push(e.readInt16());return b})(),this.widths=(function(){var p,b,_,I;for(I=[],p=0,b=(_=this.metrics).length;p<b;p++)i=_[p],I.push(i.advance);return I}).call(this),r=this.widths[this.widths.length-1],g=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)g.push(this.widths.push(r));return g},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),RI=[].slice,eJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,i,u,d,g,p,b,_;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(d=new ih(t.read(s))).readShort(),p=d.readShort(),_=d.readShort(),g=d.readShort(),b=d.readShort(),this.cache[e]=u===-1?new nJ(d,p,_,g,b):new tJ(d,u,p,_,g,b),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,i,u,d,g;for(u=[],i=[],d=0,g=t.length;d<g;d++)s=e[t[d]],i.push(u.length),s&&(u=u.concat(s.encode(r)));return i.push(u.length),{table:u,offsets:i}},n})(),tJ=(function(){function n(e,t,r,s,i,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),nJ=(function(){function n(e,t,r,s,i){var u,d;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;d=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&d;)u.pos+=1&d?4:2,128&d?u.pos+=8:64&d?u.pos+=4:8&d&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new ih(RI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),rJ=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return _c(n,Bl),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,u=0;u<r.length;++u)if(r[u]=s,i<t.length&&t[i]==u){++i,r[u]=s;var d=this.offsets[u],g=this.offsets[u+1]-d;g>0&&(s+=g)}for(var p=new Array(4*r.length),b=0;b<r.length;++b)p[4*b+3]=255&r[b],p[4*b+2]=(65280&r[b])>>8,p[4*b+1]=(16711680&r[b])>>16,p[4*b]=(4278190080&r[b])>>24;return p},n})(),sJ=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,i,u,d,g;for(s={},u=0,d=e.length;u<d;u++)s[i=e[u]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(r=s[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in g=this.glyphsFor(t))r=g[i],s[i]=r;return s},n.prototype.encode=function(e,t){var r,s,i,u,d,g,p,b,_,I,S,P,k,M,j;for(s in r=II.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),S={0:0},j=r.charMap)S[(g=j[s]).old]=g.new;for(P in I=r.maxGlyphID,u)P in S||(S[P]=I++);return b=(function(J){var Z,ee;for(Z in ee={},J)ee[J[Z]]=Z;return ee})(S),_=Object.keys(b).sort(function(J,Z){return J-Z}),k=(function(){var J,Z,ee;for(ee=[],J=0,Z=_.length;J<Z;J++)d=_[J],ee.push(b[d]);return ee})(),i=this.font.glyf.encode(u,k,S),p=this.font.loca.encode(i.offsets,k),M={cmap:this.font.cmap.raw(),glyf:i.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},n})();fn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,i,u;if(Array.isArray(t))return"["+(function(){var d,g,p;for(p=[],d=0,g=t.length;d<g;d++)r=t[d],p.push(e.convert(r));return p})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)u=t[s],i.push("/"+s+" "+e.convert(u));return i.push(">>"),i.join(`
`)}return""+t},e})();function OI(n,e,t,r,s){r=r||{};var i=1.15,u=s.internal.scaleFactor,d=s.internal.getFontSize()/u,g=s.getLineHeightFactor?s.getLineHeightFactor():i,p=d*g,b=/\r\n|\r|\n/g,_="",I=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(_=typeof n=="string"?n.split(b):n,I=_.length||1),t+=d*(2-i),r.valign==="middle"?t-=I/2*p:r.valign==="bottom"&&(t-=I*p),r.halign==="center"||r.halign==="right"){var S=d;if(r.halign==="center"&&(S*=.5),_&&I>=1){for(var P=0;P<_.length;P++)s.text(_[P],e-s.getStringUnitWidth(_[P])*S,t),t+=p;return s}e-=s.getStringUnitWidth(n)*S}return r.halign==="justify"?s.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(n,e,t),s}var wC={},xf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:wC=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,s,i;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),d=u.fontStyle,g=u.fontName;if(e.font&&(g=e.font),e.fontStyle){d=e.fontStyle;var p=this.getFontList()[g];p&&p.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),d=p[0])}if(this.jsPDFDocument.setFont(g,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var b=n.unifyColor(e.fillColor);b&&(r=this.jsPDFDocument).setFillColor.apply(r,b),b=n.unifyColor(e.textColor),b&&(s=this.jsPDFDocument).setTextColor.apply(s,b),b=n.unifyColor(e.lineColor),b&&(i=this.jsPDFDocument).setDrawColor.apply(i,b),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,s,i){return this.jsPDFDocument.rect(e,t,r,s,i)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return wC||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),zv=function(n,e){return zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},zv(n,e)};function DI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var PI=(function(n){DI(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function aJ(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function iJ(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function _m(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],s=r.map(function(i){return t.getTextWidth(i)}).reduce(function(i,u){return Math.max(i,u)},0);return s}function LI(n,e,t,r){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;n.applyStyles({lineWidth:s,lineColor:i});var u=kI(s,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function kI(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function w2(n,e){var t,r,s,i;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(s=n.right)!==null&&s!==void 0?s:e,bottom:(i=n.bottom)!==null&&i!==void 0?i:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function MI(n,e){var t=w2(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function oJ(n,e,t,r,s){var i={},u=1.3333333333333333,d=My(e,function(Z){return s.getComputedStyle(Z).backgroundColor});d!=null&&(i.fillColor=d);var g=My(e,function(Z){return s.getComputedStyle(Z).color});g!=null&&(i.textColor=g);var p=cJ(r,t);p&&(i.cellPadding=p);var b="borderTopColor",_=u*t,I=r.borderTopWidth;if(r.borderBottomWidth===I&&r.borderRightWidth===I&&r.borderLeftWidth===I){var S=(parseFloat(I)||0)/_;S&&(i.lineWidth=S)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/_,right:(parseFloat(r.borderRightWidth)||0)/_,bottom:(parseFloat(r.borderBottomWidth)||0)/_,left:(parseFloat(r.borderLeftWidth)||0)/_},i.lineWidth.top||(i.lineWidth.right?b="borderRightColor":i.lineWidth.bottom?b="borderBottomColor":i.lineWidth.left&&(b="borderLeftColor"));var P=My(e,function(Z){return s.getComputedStyle(Z)[b]});P!=null&&(i.lineColor=P);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var M=parseInt(r.fontSize||"");isNaN(M)||(i.fontSize=M/u);var j=lJ(r);j&&(i.fontStyle=j);var J=(r.fontFamily||"").toLowerCase();return n.indexOf(J)!==-1&&(i.font=J),i}function lJ(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function My(n,e){var t=jI(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function jI(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:jI(n.parentElement,e):t}function cJ(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),s=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,i=t.map(function(d){return parseInt(d||"0")/r}),u=w2(i,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function FI(n,e,t,r,s){var i,u;r===void 0&&(r=!1),s===void 0&&(s=!1);var d;typeof e=="string"?d=t.document.querySelector(e):d=e;var g=Object.keys(n.getFontList()),p=n.scaleFactor(),b=[],_=[],I=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:b,body:_,foot:I};for(var S=0;S<d.rows.length;S++){var P=d.rows[S],k=(u=(i=P?.parentElement)===null||i===void 0?void 0:i.tagName)===null||u===void 0?void 0:u.toLowerCase(),M=uJ(g,p,t,P,r,s);M&&(k==="thead"?b.push(M):k==="tfoot"?I.push(M):_.push(M))}return{head:b,body:_,foot:I}}function uJ(n,e,t,r,s,i){for(var u=new PI(r),d=0;d<r.cells.length;d++){var g=r.cells[d],p=t.getComputedStyle(g);if(s||p.display!=="none"){var b=void 0;i&&(b=oJ(n,g,e,p,t)),u.push({rowSpan:g.rowSpan,colSpan:g.colSpan,styles:b,_element:g,content:hJ(g)})}}var _=t.getComputedStyle(r);if(u.length>0&&(s||_.display!=="none"))return u}function hJ(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function dJ(n,e,t){for(var r=0,s=[n,e,t];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Yc(n,e,t,r,s){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),u=1;u<arguments.length;u++){var d=arguments[u];if(d!=null)for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(i[g]=d[g])}return i}function fJ(n,e){var t=new xf(n),r=t.getDocumentOptions(),s=t.getGlobalOptions();dJ(s,r,e);var i=Yc({},s,r,e),u;typeof window<"u"&&(u=window);var d=pJ(s,r,e),g=gJ(s,r,e),p=mJ(t,i),b=yJ(t,i,u);return{id:e.tableId,content:b,hooks:g,styles:d,settings:p}}function pJ(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(g){if(g==="columnStyles"){var p=n[g],b=e[g],_=t[g];r.columnStyles=Yc({},p,b,_)}else{var I=[n,e,t],S=I.map(function(P){return P[g]||{}});r[g]=Yc({},S[0],S[1],S[2])}},i=0,u=Object.keys(r);i<u.length;i++){var d=u[i];s(d)}return r}function gJ(n,e,t){for(var r=[n,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,u=r;i<u.length;i++){var d=u[i];d.didParseCell&&s.didParseCell.push(d.didParseCell),d.willDrawCell&&s.willDrawCell.push(d.willDrawCell),d.didDrawCell&&s.didDrawCell.push(d.didDrawCell),d.willDrawPage&&s.willDrawPage.push(d.willDrawPage),d.didDrawPage&&s.didDrawPage.push(d.didDrawPage)}return s}function mJ(n,e){var t,r,s,i,u,d,g,p,b,_,I,S,P=w2(e.margin,40/n.scaleFactor()),k=(t=xJ(n,e.startY))!==null&&t!==void 0?t:P.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var J=(i=e.useCss)!==null&&i!==void 0?i:!1,Z=e.theme||(J?"plain":"striped"),ee=!!e.horizontalPageBreak,we=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:J,theme:Z,startY:k,margin:P,pageBreak:(g=e.pageBreak)!==null&&g!==void 0?g:"auto",rowPageBreak:(p=e.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(b=e.tableWidth)!==null&&b!==void 0?b:"auto",showHead:j,showFoot:M,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(I=e.tableLineColor)!==null&&I!==void 0?I:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(S=e.horizontalPageBreakBehaviour)!==null&&S!==void 0?S:"afterAllRows"}}function xJ(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),s=n.pageNumber(),i=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;i=u===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&t?.finalY!=null?t.finalY+20/r:null}function yJ(n,e,t){var r=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var d=FI(n,e.html,t,u,e.useCss)||{};r=d.head||r,s=d.body||r,i=d.foot||r}else console.error("Cannot parse html in non browser environment")}var g=e.columns||vJ(r,s,i);return{columns:g,head:r,body:s,foot:i}}function vJ(n,e,t){var r=n[0]||e[0]||t[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var u=1,d;Array.isArray(r)?d=r[parseInt(i)]:d=r[i],typeof d=="object"&&!Array.isArray(d)&&(u=d?.colSpan||1);for(var g=0;g<u;g++){var p=void 0;Array.isArray(r)?p=s.length:p=i+(g>0?"_".concat(g):"");var b={dataKey:p};s.push(b)}}),s}var Hv=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),bJ=(function(n){DI(e,n);function e(t,r,s,i,u,d){var g=n.call(this,t,r,d)||this;return g.cell=s,g.row=i,g.column=u,g.section=i.section,g}return e})(Hv),wJ=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,s,i,u){for(var d=0,g=t;d<g.length;d++){var p=g[d],b=new bJ(e,this,r,s,i,u),_=p(b)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],_)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new Hv(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new Hv(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),BI=(function(){function n(e,t,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof PI&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=s,this.spansMultiplePages=i}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,s){var i;return Math.max(r,((i=t.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var s=t.cells[r.index];return s?s.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(s,i){var u=r.cells[i.index];if(!u)return 0;var d=t.getLineHeight(u.styles.fontSize),g=u.padding("vertical"),p=g+d;return p>s?p:s},0)},n})(),UI=(function(){function n(e,t,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=i!=null?""+i:"",d=/\r\n|\r|\n/g;this.text=u.split(d)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=w2(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),_J=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,s=e.allRows();r<s.length;r++){var i=s[r],u=i.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function AJ(n,e){EJ(n,e);var t=[],r=0;e.columns.forEach(function(i){var u=i.getMaxCustomCellWidth(e);u?i.width=u:(i.width=i.wrappedWidth,t.push(i)),r+=i.width});var s=e.getWidth(n.pageSize().width)-r;s&&(s=qv(t,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=qv(t,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/n.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),SJ(e),NJ(e,n),CJ(e)}function EJ(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,s=MI(n,e);e.allRows().forEach(function(i){for(var u=0,d=e.columns;u<d.length;u++){var g=d[u],p=i.cells[g.index];if(p){var b=e.hooks.didParseCell;e.callCellHooks(n,b,p,i,g,null);var _=p.padding("horizontal");p.contentWidth=_m(p.text,p.styles,n)+_;var I=_m(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,n);if(p.minReadableWidth=I+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>s?(p.minWidth=s,p.wrappedWidth=s):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var S=10/t;p.minWidth=p.styles.minCellWidth||S,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),e.allRows().forEach(function(i){for(var u=0,d=e.columns;u<d.length;u++){var g=d[u],p=i.cells[g.index];if(p&&p.colSpan===1)g.wrappedWidth=Math.max(g.wrappedWidth,p.wrappedWidth),g.minWidth=Math.max(g.minWidth,p.minWidth),g.minReadableWidth=Math.max(g.minReadableWidth,p.minReadableWidth);else{var b=e.styles.columnStyles[g.dataKey]||e.styles.columnStyles[g.index]||{},_=b.cellWidth||b.minCellWidth;_&&typeof _=="number"&&(g.minWidth=_,g.wrappedWidth=_)}p&&(p.colSpan>1&&!g.minWidth&&(g.minWidth=p.minWidth),p.colSpan>1&&!g.wrappedWidth&&(g.wrappedWidth=p.minWidth))}})}function qv(n,e,t){for(var r=e,s=n.reduce(function(S,P){return S+P.wrappedWidth},0),i=0;i<n.length;i++){var u=n[i],d=u.wrappedWidth/s,g=r*d,p=u.width+g,b=t(u),_=p<b?b:p;e-=_-u.width,u.width=_}if(e=Math.round(e*1e10)/1e10,e){var I=n.filter(function(S){return e<0?S.width>t(S):!0});I.length&&(e=qv(I,e,t))}return e}function CJ(n){for(var e={},t=1,r=n.allRows(),s=0;s<r.length;s++)for(var i=r[s],u=0,d=n.columns;u<d.length;u++){var g=d[u],p=e[g.index];if(t>1)t--,delete i.cells[g.index];else if(p)p.cell.height+=i.height,t=p.cell.colSpan,delete i.cells[g.index],p.left--,p.left<=1&&delete e[g.index];else{var b=i.cells[g.index];if(!b)continue;if(b.height=i.height,b.rowSpan>1){var _=r.length-s,I=b.rowSpan>_?_:b.rowSpan;e[g.index]={cell:b,left:I,row:i}}}}}function SJ(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],s=null,i=0,u=0,d=0;d<n.columns.length;d++){var g=n.columns[d];if(u-=1,u>1&&n.columns[d+1])i+=g.width,delete r.cells[g.index];else if(s){var p=s;delete r.cells[g.index],s=null,p.width=g.width+i}else{var p=r.cells[g.index];if(!p)continue;if(u=p.colSpan,i=0,p.colSpan>1){s=p,i+=g.width;continue}p.width=g.width+i}}}function NJ(n,e){for(var t={count:0,height:0},r=0,s=n.allRows();r<s.length;r++){for(var i=s[r],u=0,d=n.columns;u<d.length;u++){var g=d[u],p=i.cells[g.index];if(p){e.applyStyles(p.styles,!0);var b=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=e.splitTextToSize(p.text,b+1/e.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=_C(p.text,b,p.styles,e,"...");else if(p.styles.overflow==="hidden")p.text=_C(p.text,b,p.styles,e,"");else if(typeof p.styles.overflow=="function"){var _=p.styles.overflow(p.text,b);typeof _=="string"?p.text=[_]:p.text=_}p.contentHeight=p.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var I=p.contentHeight/p.rowSpan;p.rowSpan>1&&t.count*t.height<I*p.rowSpan?t={height:I,count:p.rowSpan}:t&&t.count>0&&t.height>I&&(I=t.height),I>i.height&&(i.height=I)}}t.count--}}function _C(n,e,t,r,s){return n.map(function(i){return TJ(i,e,t,r,s)})}function TJ(n,e,t,r,s){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=_m(n,t,r))return n;for(;e<_m(n+s,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+s}function IJ(n,e){var t=new xf(n),r=RJ(e,t.scaleFactor()),s=new wJ(e,r);return AJ(t,s),t.applyStyles(t.userStyles),s}function RJ(n,e){var t=n.content,r=DJ(t.columns);if(t.head.length===0){var s=AC(r,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=AC(r,"foot");s&&t.foot.push(s)}var i=n.settings.theme,u=n.styles;return{columns:r,head:jy("head",t.head,r,u,i,e),body:jy("body",t.body,r,u,i,e),foot:jy("foot",t.foot,r,u,i,e)}}function jy(n,e,t,r,s,i){var u={},d=e.map(function(g,p){for(var b=0,_={},I=0,S=0,P=0,k=t;P<k.length;P++){var M=k[P];if(u[M.index]==null||u[M.index].left===0)if(S===0){var j=void 0;Array.isArray(g)?j=g[M.index-I-b]:j=g[M.dataKey];var J={};typeof j=="object"&&!Array.isArray(j)&&(J=j?.styles||{});var Z=PJ(n,M,p,s,r,i,J),ee=new UI(j,Z,n);_[M.dataKey]=ee,_[M.index]=ee,S=ee.colSpan-1,u[M.index]={left:ee.rowSpan-1,times:S}}else S--,I++;else u[M.index].left--,S=u[M.index].times,b++}return new BI(g,p,n,_)});return d}function AC(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var s=OJ(e,r.raw);s!=null&&(t[r.dataKey]=s)}}),Object.keys(t).length>0?t:null}function OJ(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function DJ(n){return n.map(function(e,t){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:t:s=t,new _J(s,e,t)})}function PJ(n,e,t,r,s,i,u){var d=iJ(r),g;n==="head"?g=s.headStyles:n==="body"?g=s.bodyStyles:n==="foot"&&(g=s.footStyles);var p=Yc({},d.table,d[n],s.styles,g),b=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},_=n==="body"?b:{},I=n==="body"&&t%2===0?Yc({},d.alternateRow,s.alternateRowStyles):{},S=aJ(i),P=Yc({},S,p,I,_);return Yc(P,u)}function LJ(n,e,t){var r;t===void 0&&(t={});var s=MI(n,e),i=new Map,u=[],d=[],g=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?g=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(g=[e.settings.horizontalPageBreakRepeat]),g.forEach(function(I){var S=e.columns.find(function(P){return P.dataKey===I||P.index===I});S&&!i.has(S.index)&&(i.set(S.index,!0),u.push(S.index),d.push(e.columns[S.index]),s-=S.wrappedWidth)});for(var p=!0,b=(r=t?.start)!==null&&r!==void 0?r:0;b<e.columns.length;){if(i.has(b)){b++;continue}var _=e.columns[b].wrappedWidth;if(p||s>=_)p=!1,u.push(b),d.push(e.columns[b]),s-=_;else break;b++}return{colIndexes:u,columns:d,lastIndex:b-1}}function kJ(n,e){for(var t=[],r=0;r<e.columns.length;r++){var s=LJ(n,e,{start:r});s.columns.length&&(t.push(s),r=s.lastIndex)}return t}function MJ(n,e){var t=e.settings,r=t.startY,s=t.margin,i={x:s.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=r+s.bottom+u;if(t.pageBreak==="avoid"){var g=e.body,p=g.reduce(function(I,S){return I+S.height},0);d+=p}var b=new xf(n);(t.pageBreak==="always"||t.startY!=null&&d>b.pageSize().height)&&(zI(b),i.y=s.top),e.callWillDrawPageHooks(b,i);var _=Yc({},i);e.startPageNumber=b.pageNumber(),t.horizontalPageBreak?jJ(b,e,_,i):(b.applyStyles(b.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(I){return iu(b,e,I,i,e.columns)}),b.applyStyles(b.userStyles),e.body.forEach(function(I,S){var P=S===e.body.length-1;Am(b,e,I,P,_,i,e.columns)}),b.applyStyles(b.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(I){return iu(b,e,I,i,e.columns)})),LI(b,e,_,i),e.callEndPageHooks(b,i),e.finalY=i.y,n.lastAutoTable=e,b.applyStyles(b.userStyles)}function jJ(n,e,t,r){var s=kJ(n,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(p,b){n.applyStyles(n.userStyles),b>0?s0(n,e,t,r,p.columns,!0):EC(n,e,r,p.columns),FJ(n,e,t,r,p.columns),Fy(n,e,r,p.columns)});else for(var u=-1,d=s[0],g=function(){var p=u;if(d){n.applyStyles(n.userStyles);var b=d.columns;u>=0?s0(n,e,t,r,b,!0):EC(n,e,r,b),p=CC(n,e,u+1,r,b),Fy(n,e,r,b)}var _=p-u;s.slice(1).forEach(function(I){n.applyStyles(n.userStyles),s0(n,e,t,r,I.columns,!0),CC(n,e,u+1,r,I.columns,_),Fy(n,e,r,I.columns)}),u=p};u<e.body.length-1;)g()}function EC(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return iu(n,e,i,t,r)})}function FJ(n,e,t,r,s){n.applyStyles(n.userStyles),e.body.forEach(function(i,u){var d=u===e.body.length-1;Am(n,e,i,d,t,r,s)})}function CC(n,e,t,r,s,i){n.applyStyles(n.userStyles),i=i??e.body.length;var u=Math.min(t+i,e.body.length),d=-1;return e.body.slice(t,u).forEach(function(g,p){var b=t+p===e.body.length-1,_=VI(n,e,b,r);g.canEntireRowFit(_,s)&&(iu(n,e,g,r,s),d=t+p)}),d}function Fy(n,e,t,r){var s=e.settings;n.applyStyles(n.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return iu(n,e,i,t,r)})}function BJ(n,e,t){var r=t.getLineHeight(n.styles.fontSize),s=n.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function UJ(n,e,t,r){var s={};n.spansMultiplePages=!0,n.height=0;for(var i=0,u=0,d=t.columns;u<d.length;u++){var g=d[u],p=n.cells[g.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var b=new UI(p.raw,p.styles,p.section);b=Yc(b,p),b.text=[];var _=BJ(p,e,r);p.text.length>_&&(b.text=p.text.splice(_,p.text.length));var I=r.scaleFactor(),S=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(I,S),p.contentHeight>=e&&(p.contentHeight=e,b.styles.minCellHeight-=e),p.contentHeight>n.height&&(n.height=p.contentHeight),b.contentHeight=b.getContentHeight(I,S),b.contentHeight>i&&(i=b.contentHeight),s[g.index]=b}}var P=new BI(n.raw,-1,n.section,s,!0);P.height=i;for(var k=0,M=t.columns;k<M.length;k++){var g=M[k],b=P.cells[g.index];b&&(b.height=P.height);var p=n.cells[g.index];p&&(p.height=n.height)}return P}function VJ(n,e,t,r){var s=n.pageSize().height,i=r.settings.margin,u=i.top+i.bottom,d=s-u;e.section==="body"&&(d-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var g=e.getMinimumRowHeight(r.columns,n),p=g<t;if(g>d)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var b=e.hasRowSpan(r.columns),_=e.getMaxCellHeight(r.columns)>d;return _?(b&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(b||r.settings.rowPageBreak==="avoid")}function Am(n,e,t,r,s,i,u){var d=VI(n,e,r,i);if(t.canEntireRowFit(d,u))iu(n,e,t,i,u);else if(VJ(n,t,d,e)){var g=UJ(t,d,e,n);iu(n,e,t,i,u),s0(n,e,s,i,u),Am(n,e,g,r,s,i,u)}else s0(n,e,s,i,u),Am(n,e,t,r,s,i,u)}function iu(n,e,t,r,s){r.x=e.settings.margin.left;for(var i=0,u=s;i<u.length;i++){var d=u[i],g=t.cells[d.index];if(!g){r.x+=d.width;continue}n.applyStyles(g.styles),g.x=r.x,g.y=r.y;var p=e.callCellHooks(n,e.hooks.willDrawCell,g,t,d,r);if(p===!1){r.x+=d.width;continue}zJ(n,g,r);var b=g.getTextPos();OI(g.text,b.x,b.y,{halign:g.styles.halign,valign:g.styles.valign,maxWidth:Math.ceil(g.width-g.padding("left")-g.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,g,t,d,r),r.x+=d.width}r.y+=t.height}function zJ(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=kI(r.lineWidth,r.fillColor);s&&n.rect(e.x,t.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),HJ(n,e,t,r.lineWidth))}function HJ(n,e,t,r){var s,i,u,d;r.top&&(s=t.x,i=t.y,u=t.x+e.width,d=t.y,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),g(r.top,s,i,u,d)),r.bottom&&(s=t.x,i=t.y+e.height,u=t.x+e.width,d=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(s-=.5*r.left),g(r.bottom,s,i,u,d)),r.left&&(s=t.x,i=t.y,u=t.x,d=t.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(d+=.5*r.bottom),g(r.left,s,i,u,d)),r.right&&(s=t.x+e.width,i=t.y,u=t.x+e.width,d=t.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(d+=.5*r.bottom),g(r.right,s,i,u,d));function g(p,b,_,I,S){n.getDocument().setLineWidth(p),n.getDocument().line(b,_,I,S,"S")}}function VI(n,e,t,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-s}function s0(n,e,t,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(d){return iu(n,e,d,r,s)}),e.callEndPageHooks(n,r);var u=e.settings.margin;LI(n,e,t,r),zI(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return iu(n,e,d,r,s)}),n.applyStyles(n.userStyles))}function zI(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function qJ(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],s=fJ(this,r),i=IJ(this,s);return MJ(this,i),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,s){OI(e,t,r,s,this)},n.API.autoTableSetDefaults=function(e){return xf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){xf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new xf(this),i=FI(s,e,window,t,!1),u=i.head,d=i.body,g=((r=u[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:g,rows:d,data:d}}}var By;try{if(typeof window<"u"&&window){var SC=window,NC=SC.jsPDF||((By=SC.jspdf)===null||By===void 0?void 0:By.jsPDF);NC&&qJ(NC)}}catch(n){console.error("Could not apply autoTable plugin",n)}function GJ(){const{filaments:n}=Qf(),{quotes:e}=a2(),{customers:t}=s2(),{printers:r}=sd(),[s,i]=H.useState(null),u=()=>{const P=new fn;P.setFontSize(20),P.text("Relatrio de Estoque de Filamentos",14,20),P.setFontSize(10),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,14,30),P.setFontSize(12),P.text(`Total de Filamentos: ${n.length}`,14,40),P.text(`Valor em Estoque: R$ ${n.reduce((M,j)=>M+j.price*j.weightRemaining/1e3,0).toFixed(2)}`,14,48),P.text(`Estoque Baixo: ${n.filter(M=>M.weightRemaining<200).length} itens`,14,56);const k=n.map(M=>[M.material,M.color,M.brand,`${M.weightRemaining}g`,`R$ ${M.price.toFixed(2)}`,M.location]);P.autoTable({startY:65,head:[["Material","Cor","Marca","Estoque","Preo/kg","Localizao"]],body:k,theme:"grid",headStyles:{fillColor:[99,102,241]},styles:{fontSize:10}}),P.save("relatorio-estoque-filamentos.pdf")},d=()=>{const P=new fn;P.setFontSize(20),P.text("Relatrio de Oramentos",14,20),P.setFontSize(10),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,14,30),P.setFontSize(12),P.text(`Total de Oramentos: ${e.length}`,14,40),P.text(`Aprovados: ${e.filter(M=>M.status==="approved").length}`,14,48),P.text(`Pendentes: ${e.filter(M=>M.status==="draft"||M.status==="sent").length}`,14,56),P.text(`Valor Total Aprovado: R$ ${e.filter(M=>M.status==="approved").reduce((M,j)=>M+j.total,0).toFixed(2)}`,14,64);const k=e.map(M=>[M.quoteNumber,M.customerName,M.items.length.toString(),`R$ ${M.total.toFixed(2)}`,M.status==="approved"?"Aprovado":M.status==="rejected"?"Rejeitado":M.status==="sent"?"Enviado":"Rascunho"]);P.autoTable({startY:75,head:[["Nmero","Cliente","Itens","Total","Status"]],body:k,theme:"grid",headStyles:{fillColor:[99,102,241]},styles:{fontSize:10}}),P.save("relatorio-orcamentos.pdf")},g=()=>{const P=new fn;P.setFontSize(20),P.text("Relatrio de Clientes",14,20),P.setFontSize(10),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,14,30),P.setFontSize(12),P.text(`Total de Clientes: ${t.length}`,14,40);const k=t.map(M=>[M.name,M.email||"-",M.phone||"-",M.address?.city?`${M.address.city}, ${M.address.state}`:"-"]);P.autoTable({startY:50,head:[["Nome","Email","Telefone","Cidade"]],body:k,theme:"grid",headStyles:{fillColor:[99,102,241]},styles:{fontSize:10}}),P.save("relatorio-clientes.pdf")},p=()=>{const P=new fn;P.setFontSize(20),P.text("Relatrio de Impressoras",14,20),P.setFontSize(10),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,14,30),P.setFontSize(12),P.text(`Total de Impressoras: ${r.length}`,14,40),P.text(`Imprimindo: ${r.filter(M=>M.status==="printing").length}`,14,48),P.text(`Disponveis: ${r.filter(M=>M.status==="available").length}`,14,56);const k=r.map(M=>[M.name,M.brand,M.model,`${M.buildVolume.x}x${M.buildVolume.y}x${M.buildVolume.z}`,M.status==="printing"?"Imprimindo":M.status==="available"?"Disponvel":M.status==="maintenance"?"Manuteno":"Offline"]);P.autoTable({startY:65,head:[["Nome","Marca","Modelo","Volume","Status"]],body:k,theme:"grid",headStyles:{fillColor:[99,102,241]},styles:{fontSize:10}}),P.save("relatorio-impressoras.pdf")},b=()=>{const P=new fn;P.setFontSize(20),P.text("Relatrio Financeiro",14,20),P.setFontSize(10),P.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,14,30);const k=e.filter(j=>j.status==="approved").reduce((j,J)=>j+J.total,0),M=n.reduce((j,J)=>j+J.price*J.weightRemaining/1e3,0);P.setFontSize(14),P.text("Resumo",14,45),P.setFontSize(12),P.text(`Receita Total (Oramentos Aprovados): R$ ${k.toFixed(2)}`,14,55),P.text(`Valor em Estoque de Filamentos: R$ ${M.toFixed(2)}`,14,63),P.text(`Total de Oramentos: ${e.length}`,14,71),P.text(`Taxa de Aprovao: ${e.length>0?Math.round(e.filter(j=>j.status==="approved").length/e.length*100):0}%`,14,79),P.save("relatorio-financeiro.pdf")},_=P=>{i(P);try{switch(P){case"Estoque de Filamentos":u();break;case"Oramentos":d();break;case"Clientes":g();break;case"Impressoras":p();break;case"Financeiro":b();break;default:alert("Relatrio em desenvolvimento")}}catch(k){console.error("Erro ao gerar PDF:",k),alert("Erro ao gerar PDF. Tente novamente.")}setTimeout(()=>i(null),1e3)},I=[{id:"inventory",label:"Estoque de Filamentos",icon:o0,description:"Relatrio completo do estoque atual de filamentos",color:"from-cyan-500 to-blue-500"},{id:"quotes",label:"Oramentos",icon:kh,description:"Oramentos por perodo com status e valores",color:"from-indigo-500 to-purple-500"},{id:"customers",label:"Clientes",icon:kg,description:"Lista de clientes cadastrados",color:"from-emerald-500 to-teal-500"},{id:"prints",label:"Trabalhos de Impresso",icon:Nl,description:"Histrico de trabalhos de impresso",color:"from-amber-500 to-orange-500"},{id:"financial",label:"Financeiro",icon:Lg,description:"Resumo financeiro com receitas e custos",color:"from-rose-500 to-pink-500"},{id:"printers",label:"Impressoras",icon:Ui,description:"Utilizao e manuteno das impressoras",color:"from-violet-500 to-fuchsia-500"}],S={totalFilaments:n.length,totalFilamentValue:n.reduce((P,k)=>P+k.price*k.weightRemaining/1e3,0),lowStockCount:n.filter(P=>P.weightRemaining<200).length,totalQuotes:e.length,pendingQuotes:e.filter(P=>P.status==="draft"||P.status==="sent").length,approvedQuotes:e.filter(P=>P.status==="approved").length,totalQuoteValue:e.filter(P=>P.status==="approved").reduce((P,k)=>P+k.total,0),totalCustomers:t.length,totalPrinters:r.length,activePrinters:r.filter(P=>P.status==="printing").length};return x.jsxs("div",{"code-path":"src/pages/Reports.tsx:288:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Reports.tsx:290:7",children:[x.jsx("h1",{"code-path":"src/pages/Reports.tsx:291:9",className:"text-2xl font-bold text-white",children:"Relatrios"}),x.jsx("p",{"code-path":"src/pages/Reports.tsx:292:9",className:"text-slate-400",children:"Gere relatrios em PDF para anlise e controle"})]}),x.jsxs("div",{"code-path":"src/pages/Reports.tsx:296:7",className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[x.jsx(ur,{"code-path":"src/pages/Reports.tsx:297:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Reports.tsx:298:11",className:"p-4",children:[x.jsx("p",{"code-path":"src/pages/Reports.tsx:299:13",className:"text-sm text-slate-400",children:"Valor em Estoque"}),x.jsxs("p",{"code-path":"src/pages/Reports.tsx:300:13",className:"text-xl font-bold text-white",children:["R$ ",S.totalFilamentValue.toFixed(2)]})]})}),x.jsx(ur,{"code-path":"src/pages/Reports.tsx:303:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Reports.tsx:304:11",className:"p-4",children:[x.jsx("p",{"code-path":"src/pages/Reports.tsx:305:13",className:"text-sm text-slate-400",children:"Oramentos Aprovados"}),x.jsx("p",{"code-path":"src/pages/Reports.tsx:306:13",className:"text-xl font-bold text-emerald-400",children:S.approvedQuotes})]})}),x.jsx(ur,{"code-path":"src/pages/Reports.tsx:309:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Reports.tsx:310:11",className:"p-4",children:[x.jsx("p",{"code-path":"src/pages/Reports.tsx:311:13",className:"text-sm text-slate-400",children:"Receita Total"}),x.jsxs("p",{"code-path":"src/pages/Reports.tsx:312:13",className:"text-xl font-bold text-indigo-400",children:["R$ ",S.totalQuoteValue.toFixed(2)]})]})}),x.jsx(ur,{"code-path":"src/pages/Reports.tsx:315:9",className:"bg-slate-800/50 border-slate-700",children:x.jsxs(hr,{"code-path":"src/pages/Reports.tsx:316:11",className:"p-4",children:[x.jsx("p",{"code-path":"src/pages/Reports.tsx:317:13",className:"text-sm text-slate-400",children:"Impresses Ativas"}),x.jsx("p",{"code-path":"src/pages/Reports.tsx:318:13",className:"text-xl font-bold text-amber-400",children:S.activePrinters})]})})]}),x.jsx("div",{"code-path":"src/pages/Reports.tsx:324:7",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(P=>x.jsx(ur,{"code-path":"src/pages/Reports.tsx:326:11",className:"bg-slate-800/50 border-slate-700 hover:border-slate-600 transition-all group",children:x.jsxs(hr,{"code-path":"src/pages/Reports.tsx:327:13",className:"p-6",children:[x.jsxs("div",{"code-path":"src/pages/Reports.tsx:328:15",className:"flex items-start justify-between",children:[x.jsx("div",{"code-path":"src/pages/Reports.tsx:329:17",className:`w-12 h-12 rounded-xl bg-gradient-to-br ${P.color} flex items-center justify-center`,children:x.jsx(P.icon,{"code-path":"src/pages/Reports.tsx:330:19",className:"w-6 h-6 text-white"})}),x.jsx(cn,{"code-path":"src/pages/Reports.tsx:332:17",variant:"outline",size:"sm",onClick:()=>_(P.label),disabled:s===P.label,className:"border-slate-600 opacity-0 group-hover:opacity-100 transition-opacity",children:s===P.label?"Gerando...":x.jsxs(x.Fragment,{children:[x.jsx(QC,{"code-path":"src/pages/Reports.tsx:343:23",className:"w-4 h-4 mr-1"}),"PDF"]})})]}),x.jsx("h3",{"code-path":"src/pages/Reports.tsx:349:15",className:"font-medium text-white mt-4",children:P.label}),x.jsx("p",{"code-path":"src/pages/Reports.tsx:350:15",className:"text-sm text-slate-400 mt-1",children:P.description})]})},P.id))}),x.jsxs(ur,{"code-path":"src/pages/Reports.tsx:357:7",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Reports.tsx:358:9",children:x.jsxs(Sl,{"code-path":"src/pages/Reports.tsx:359:11",className:"text-white flex items-center gap-2",children:[x.jsx(iD,{"code-path":"src/pages/Reports.tsx:360:13",className:"w-5 h-5 text-indigo-400"}),"Exportao Rpida"]})}),x.jsx(hr,{"code-path":"src/pages/Reports.tsx:364:9",children:x.jsxs("div",{"code-path":"src/pages/Reports.tsx:365:11",className:"flex flex-wrap gap-3",children:[x.jsxs(cn,{"code-path":"src/pages/Reports.tsx:366:13",variant:"outline",onClick:()=>_("Estoque de Filamentos"),className:"border-slate-600",children:[x.jsx(o0,{"code-path":"src/pages/Reports.tsx:371:15",className:"w-4 h-4 mr-2"}),"Estoque Atual"]}),x.jsxs(cn,{"code-path":"src/pages/Reports.tsx:374:13",variant:"outline",onClick:()=>_("Oramentos"),className:"border-slate-600",children:[x.jsx(kh,{"code-path":"src/pages/Reports.tsx:379:15",className:"w-4 h-4 mr-2"}),"Oramentos"]}),x.jsxs(cn,{"code-path":"src/pages/Reports.tsx:382:13",variant:"outline",onClick:()=>_("Clientes"),className:"border-slate-600",children:[x.jsx(kg,{"code-path":"src/pages/Reports.tsx:387:15",className:"w-4 h-4 mr-2"}),"Clientes"]}),x.jsxs(cn,{"code-path":"src/pages/Reports.tsx:390:13",variant:"outline",onClick:()=>_("Financeiro"),className:"border-slate-600",children:[x.jsx(Lg,{"code-path":"src/pages/Reports.tsx:395:15",className:"w-4 h-4 mr-2"}),"Financeiro"]})]})})]}),x.jsx(ur,{"code-path":"src/pages/Reports.tsx:403:7",className:"bg-slate-800/30 border-slate-700/50",children:x.jsx(hr,{"code-path":"src/pages/Reports.tsx:404:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Reports.tsx:405:11",className:"flex items-start gap-3",children:[x.jsx(S0,{"code-path":"src/pages/Reports.tsx:406:13",className:"w-5 h-5 text-emerald-400 mt-0.5"}),x.jsxs("div",{"code-path":"src/pages/Reports.tsx:407:13",children:[x.jsx("h4",{"code-path":"src/pages/Reports.tsx:408:15",className:"text-sm font-medium text-white",children:"PDF Gerado com Sucesso"}),x.jsx("p",{"code-path":"src/pages/Reports.tsx:409:15",className:"text-sm text-slate-400 mt-1",children:"Os relatrios so gerados em formato PDF e baixados automaticamente para o seu dispositivo. Todos os dados so baseados nas informaes cadastradas no sistema."})]})]})})})]})}var _2="Tabs",[WJ]=lu(_2,[f2]),HI=f2(),[YJ,Vb]=WJ(_2),qI=H.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:i,orientation:u="horizontal",dir:d,activationMode:g="automatic",...p}=n,b=l2(d),[_,I]=jf({prop:r,onChange:s,defaultProp:i??"",caller:_2});return x.jsx(YJ,{scope:t,baseId:Dh(),value:_,onValueChange:I,orientation:u,dir:b,activationMode:g,children:x.jsx(Jr.div,{dir:b,"data-orientation":u,...p,ref:e})})});qI.displayName=_2;var GI="TabsList",WI=H.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,i=Vb(GI,t),u=HI(t);return x.jsx(MT,{asChild:!0,...u,orientation:i.orientation,dir:i.dir,loop:r,children:x.jsx(Jr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});WI.displayName=GI;var YI="TabsTrigger",XI=H.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...i}=n,u=Vb(YI,t),d=HI(t),g=$I(u.baseId,r),p=JI(u.baseId,r),b=r===u.value;return x.jsx(jT,{asChild:!0,...d,focusable:!s,active:b,children:x.jsx(Jr.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":p,"data-state":b?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:g,...i,ref:e,onMouseDown:Un(n.onMouseDown,_=>{!s&&_.button===0&&_.ctrlKey===!1?u.onValueChange(r):_.preventDefault()}),onKeyDown:Un(n.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&u.onValueChange(r)}),onFocus:Un(n.onFocus,()=>{const _=u.activationMode!=="manual";!b&&!s&&_&&u.onValueChange(r)})})})});XI.displayName=YI;var QI="TabsContent",KI=H.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:i,...u}=n,d=Vb(QI,t),g=$I(d.baseId,r),p=JI(d.baseId,r),b=r===d.value,_=H.useRef(b);return H.useEffect(()=>{const I=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(I)},[]),x.jsx(cu,{present:s||b,children:({present:I})=>x.jsx(Jr.div,{"data-state":b?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":g,hidden:!I,id:p,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:_.current?"0s":void 0},children:I&&i})})});KI.displayName=QI;function $I(n,e){return`${n}-trigger-${e}`}function JI(n,e){return`${n}-content-${e}`}var XJ=qI,QJ=WI,KJ=XI,$J=KI;function JJ({className:n,...e}){return x.jsx(XJ,{"code-path":"src/components/ui/tabs.tsx:13:5","data-slot":"tabs",className:Cs("flex flex-col gap-2",n),...e})}function ZJ({className:n,...e}){return x.jsx(QJ,{"code-path":"src/components/ui/tabs.tsx:26:5","data-slot":"tabs-list",className:Cs("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function Uy({className:n,...e}){return x.jsx(KJ,{"code-path":"src/components/ui/tabs.tsx:42:5","data-slot":"tabs-trigger",className:Cs("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Vy({className:n,...e}){return x.jsx($J,{"code-path":"src/components/ui/tabs.tsx:58:5","data-slot":"tabs-content",className:Cs("flex-1 outline-none",n),...e})}const eo={id:"system",company:{name:"Minha Empresa 3D",document:"",phone:"",email:"",logo:""},pricing:{energyCostPerKwh:.8,laborCostPerHour:25,markupPercentage:50,taxPercentage:0,packagingCost:5,minimumOrderValue:30},printerDefaults:{powerConsumption:150,maintenanceCostPerHour:2,depreciationYears:3},filamentDefaults:{spoolWeights:{PLA:1e3,ABS:1e3,PETG:1e3,TPU:500},wastePercentage:10},createdAt:new Date,updatedAt:new Date};function eZ(){const{settings:n,setSettings:e}=J8(),[t,r]=H.useState("company"),[s,i]=H.useState(n||eo),[u,d]=H.useState(!1);tT();const g=async()=>{try{const p={...eo,...s,id:"system",createdAt:n?.createdAt||new Date,updatedAt:new Date};await ub(p),e(p),d(!0),setTimeout(()=>d(!1),3e3)}catch(p){console.error("Erro ao salvar configuraes:",p),alert("Erro ao salvar configuraes. Tente novamente.")}};return x.jsxs("div",{"code-path":"src/pages/Settings.tsx:77:5",className:"space-y-6",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:79:7",children:[x.jsx("h1",{"code-path":"src/pages/Settings.tsx:80:9",className:"text-2xl font-bold text-white",children:"Configuraes"}),x.jsx("p",{"code-path":"src/pages/Settings.tsx:81:9",className:"text-slate-400",children:"Gerencie as configuraes do seu sistema"})]}),x.jsxs(JJ,{"code-path":"src/pages/Settings.tsx:84:7",value:t,onValueChange:r,className:"space-y-6",children:[x.jsxs(ZJ,{"code-path":"src/pages/Settings.tsx:85:9",className:"bg-slate-800 border border-slate-700",children:[x.jsxs(Uy,{"code-path":"src/pages/Settings.tsx:86:11",value:"company",className:"data-[state=active]:bg-indigo-500",children:[x.jsx(b4,{"code-path":"src/pages/Settings.tsx:87:13",className:"w-4 h-4 mr-2"}),"Empresa"]}),x.jsxs(Uy,{"code-path":"src/pages/Settings.tsx:90:11",value:"pricing",className:"data-[state=active]:bg-indigo-500",children:[x.jsx(w4,{"code-path":"src/pages/Settings.tsx:91:13",className:"w-4 h-4 mr-2"}),"Precificao"]}),x.jsxs(Uy,{"code-path":"src/pages/Settings.tsx:94:11",value:"printers",className:"data-[state=active]:bg-indigo-500",children:[x.jsx(Ui,{"code-path":"src/pages/Settings.tsx:95:13",className:"w-4 h-4 mr-2"}),"Impressoras"]})]}),x.jsx(Vy,{"code-path":"src/pages/Settings.tsx:101:9",value:"company",children:x.jsxs(ur,{"code-path":"src/pages/Settings.tsx:102:11",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Settings.tsx:103:13",children:x.jsxs(Sl,{"code-path":"src/pages/Settings.tsx:104:15",className:"text-white flex items-center gap-2",children:[x.jsx(b4,{"code-path":"src/pages/Settings.tsx:105:17",className:"w-5 h-5 text-indigo-400"}),"Dados da Empresa"]})}),x.jsxs(hr,{"code-path":"src/pages/Settings.tsx:109:13",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:110:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:111:17",className:"text-slate-300",children:"Nome da Empresa"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:112:17",value:s.company?.name||"",onChange:p=>i({...s,company:{...s.company||eo.company,name:p.target.value}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:121:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:122:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:123:19",className:"text-slate-300",children:"CNPJ/CPF"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:124:19",value:s.company?.document||"",onChange:p=>i({...s,company:{...s.company||eo.company,document:p.target.value}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:133:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:134:19",className:"text-slate-300",children:"Telefone"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:135:19",value:s.company?.phone||"",onChange:p=>i({...s,company:{...s.company||eo.company,phone:p.target.value}}),className:"bg-slate-900 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:145:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:146:17",className:"text-slate-300",children:"Email"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:147:17",type:"email",value:s.company?.email||"",onChange:p=>i({...s,company:{...s.company||eo.company,email:p.target.value}}),className:"bg-slate-900 border-slate-700 text-white"})]})]})]})}),x.jsx(Vy,{"code-path":"src/pages/Settings.tsx:162:9",value:"pricing",children:x.jsxs(ur,{"code-path":"src/pages/Settings.tsx:163:11",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Settings.tsx:164:13",children:x.jsxs(Sl,{"code-path":"src/pages/Settings.tsx:165:15",className:"text-white flex items-center gap-2",children:[x.jsx(w4,{"code-path":"src/pages/Settings.tsx:166:17",className:"w-5 h-5 text-emerald-400"}),"Configuraes de Precificao"]})}),x.jsxs(hr,{"code-path":"src/pages/Settings.tsx:170:13",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:171:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:172:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:173:19",className:"text-slate-300",children:"Custo de Energia (R$/kWh)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:174:19",type:"number",step:"0.01",value:s.pricing?.energyCostPerKwh||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,energyCostPerKwh:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:185:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:186:19",className:"text-slate-300",children:"Mo de Obra (R$/hora)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:187:19",type:"number",step:"0.5",value:s.pricing?.laborCostPerHour||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,laborCostPerHour:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:199:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:200:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:201:19",className:"text-slate-300",children:"Margem de Lucro (%)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:202:19",type:"number",value:s.pricing?.markupPercentage||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,markupPercentage:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:212:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:213:19",className:"text-slate-300",children:"Impostos (%)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:214:19",type:"number",value:s.pricing?.taxPercentage||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,taxPercentage:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:225:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:226:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:227:19",className:"text-slate-300",children:"Custo de Embalagem (R$)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:228:19",type:"number",step:"0.5",value:s.pricing?.packagingCost||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,packagingCost:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:239:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:240:19",className:"text-slate-300",children:"Pedido Mnimo (R$)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:241:19",type:"number",value:s.pricing?.minimumOrderValue||0,onChange:p=>i({...s,pricing:{...s.pricing||eo.pricing,minimumOrderValue:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})]})]})]})}),x.jsxs(Vy,{"code-path":"src/pages/Settings.tsx:257:9",value:"printers",children:[x.jsxs(ur,{"code-path":"src/pages/Settings.tsx:258:11",className:"bg-slate-800/50 border-slate-700",children:[x.jsx(Cl,{"code-path":"src/pages/Settings.tsx:259:13",children:x.jsxs(Sl,{"code-path":"src/pages/Settings.tsx:260:15",className:"text-white flex items-center gap-2",children:[x.jsx(Ui,{"code-path":"src/pages/Settings.tsx:261:17",className:"w-5 h-5 text-cyan-400"}),"Configuraes de Impressoras"]})}),x.jsxs(hr,{"code-path":"src/pages/Settings.tsx:265:13",className:"space-y-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:266:15",className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{"code-path":"src/pages/Settings.tsx:267:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:268:19",className:"text-slate-300",children:"Consumo Mdio (W)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:269:19",type:"number",value:s.printerDefaults?.powerConsumption||0,onChange:p=>i({...s,printerDefaults:{...s.printerDefaults||eo.printerDefaults,powerConsumption:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:279:17",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:280:19",className:"text-slate-300",children:"Custo de Manuteno (R$/hora)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:281:19",type:"number",step:"0.5",value:s.printerDefaults?.maintenanceCostPerHour||0,onChange:p=>i({...s,printerDefaults:{...s.printerDefaults||eo.printerDefaults,maintenanceCostPerHour:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:293:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:294:17",className:"text-slate-300",children:"Vida til (anos)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:295:17",type:"number",value:s.printerDefaults?.depreciationYears||0,onChange:p=>i({...s,printerDefaults:{...s.printerDefaults||eo.printerDefaults,depreciationYears:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})]})]}),x.jsxs(ur,{"code-path":"src/pages/Settings.tsx:308:11",className:"bg-slate-800/50 border-slate-700 mt-4",children:[x.jsx(Cl,{"code-path":"src/pages/Settings.tsx:309:13",children:x.jsxs(Sl,{"code-path":"src/pages/Settings.tsx:310:15",className:"text-white flex items-center gap-2",children:[x.jsx(rS,{"code-path":"src/pages/Settings.tsx:311:17",className:"w-5 h-5 text-amber-400"}),"Configuraes de Filamentos"]})}),x.jsx(hr,{"code-path":"src/pages/Settings.tsx:315:13",className:"space-y-4",children:x.jsxs("div",{"code-path":"src/pages/Settings.tsx:316:15",className:"space-y-2",children:[x.jsx(Zr,{"code-path":"src/pages/Settings.tsx:317:17",className:"text-slate-300",children:"Percentual de Perda (%)"}),x.jsx(It,{"code-path":"src/pages/Settings.tsx:318:17",type:"number",value:s.filamentDefaults?.wastePercentage||0,onChange:p=>i({...s,filamentDefaults:{...s.filamentDefaults||eo.filamentDefaults,wastePercentage:Number(p.target.value)}}),className:"bg-slate-900 border-slate-700 text-white"})]})})]})]})]}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:334:7",className:"flex items-center gap-4",children:[x.jsxs(cn,{"code-path":"src/pages/Settings.tsx:335:9",onClick:g,className:"bg-indigo-500 hover:bg-indigo-600",children:[x.jsx(tP,{"code-path":"src/pages/Settings.tsx:339:11",className:"w-4 h-4 mr-2"}),"Salvar Configuraes"]}),u&&x.jsx("span",{"code-path":"src/pages/Settings.tsx:343:11",className:"text-emerald-400 text-sm",children:"Configuraes salvas com sucesso!"})]}),x.jsx(ur,{"code-path":"src/pages/Settings.tsx:348:7",className:"bg-slate-800/30 border-slate-700/50",children:x.jsx(hr,{"code-path":"src/pages/Settings.tsx:349:9",className:"p-4",children:x.jsxs("div",{"code-path":"src/pages/Settings.tsx:350:11",className:"flex items-start gap-3",children:[x.jsx(gP,{"code-path":"src/pages/Settings.tsx:351:13",className:"w-5 h-5 text-indigo-400 mt-0.5"}),x.jsxs("div",{"code-path":"src/pages/Settings.tsx:352:13",children:[x.jsx("h4",{"code-path":"src/pages/Settings.tsx:353:15",className:"text-sm font-medium text-white",children:"Dica de Configurao"}),x.jsx("p",{"code-path":"src/pages/Settings.tsx:354:15",className:"text-sm text-slate-400 mt-1",children:"Mantenha seus custos atualizados para obter oramentos mais precisos. O custo de energia pode variar por regio, consulte sua conta de luz para o valor exato."})]})]})})})]})}function zo({children:n,requiredPermission:e}){const{isAuthenticated:t,isLoading:r}=ru(),{canRead:s}=bc();return r?x.jsx("div",{"code-path":"src/App.tsx:26:7",className:"min-h-screen bg-slate-950 flex items-center justify-center",children:x.jsx("div",{"code-path":"src/App.tsx:27:9",className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})}):t?e&&!s(e)?x.jsx(Pg,{"code-path":"src/App.tsx:37:12",to:"/",replace:!0}):x.jsx(x.Fragment,{children:n}):x.jsx(Pg,{"code-path":"src/App.tsx:33:12",to:"/login",replace:!0})}function tZ({children:n}){const{isAuthenticated:e,isLoading:t}=ru();return t?x.jsx("div",{"code-path":"src/App.tsx:49:7",className:"min-h-screen bg-slate-950 flex items-center justify-center",children:x.jsx("div",{"code-path":"src/App.tsx:50:9",className:"animate-spin w-8 h-8 border-2 border-indigo-500 border-t-transparent rounded-full"})}):e?x.jsx(Pg,{"code-path":"src/App.tsx:56:12",to:"/",replace:!0}):x.jsx(x.Fragment,{children:n})}function nZ(){return x.jsxs(dO,{"code-path":"src/App.tsx:65:5",children:[x.jsx(to,{"code-path":"src/App.tsx:66:7",path:"/login",element:x.jsx(tZ,{"code-path":"src/App.tsx:69:11",children:x.jsx(Sq,{"code-path":"src/App.tsx:70:13"})})}),x.jsx(to,{"code-path":"src/App.tsx:75:7",path:"/",element:x.jsx(zo,{"code-path":"src/App.tsx:78:11",children:x.jsx(sl,{"code-path":"src/App.tsx:79:13",children:x.jsx(Fq,{"code-path":"src/App.tsx:80:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:86:7",path:"/printers",element:x.jsx(zo,{"code-path":"src/App.tsx:89:11",requiredPermission:"printers",children:x.jsx(sl,{"code-path":"src/App.tsx:90:13",children:x.jsx(JY,{"code-path":"src/App.tsx:91:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:97:7",path:"/filaments",element:x.jsx(zo,{"code-path":"src/App.tsx:100:11",requiredPermission:"filaments",children:x.jsx(sl,{"code-path":"src/App.tsx:101:13",children:x.jsx(nX,{"code-path":"src/App.tsx:102:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:108:7",path:"/filaments/scan",element:x.jsx(zo,{"code-path":"src/App.tsx:111:11",children:x.jsx(RX,{"code-path":"src/App.tsx:112:13"})})}),x.jsx(to,{"code-path":"src/App.tsx:117:7",path:"/customers",element:x.jsx(zo,{"code-path":"src/App.tsx:120:11",requiredPermission:"customers",children:x.jsx(sl,{"code-path":"src/App.tsx:121:13",children:x.jsx(DX,{"code-path":"src/App.tsx:122:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:128:7",path:"/quotes",element:x.jsx(zo,{"code-path":"src/App.tsx:131:11",requiredPermission:"quotes",children:x.jsx(sl,{"code-path":"src/App.tsx:132:13",children:x.jsx(nE,{"code-path":"src/App.tsx:133:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:139:7",path:"/quotes/new",element:x.jsx(zo,{"code-path":"src/App.tsx:142:11",requiredPermission:"quotes",children:x.jsx(sl,{"code-path":"src/App.tsx:143:13",children:x.jsx(nE,{"code-path":"src/App.tsx:144:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:150:7",path:"/catalog",element:x.jsx(zo,{"code-path":"src/App.tsx:153:11",requiredPermission:"catalog",children:x.jsx(sl,{"code-path":"src/App.tsx:154:13",children:x.jsx(jX,{"code-path":"src/App.tsx:155:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:161:7",path:"/print-jobs",element:x.jsx(zo,{"code-path":"src/App.tsx:164:11",requiredPermission:"printers",children:x.jsx(sl,{"code-path":"src/App.tsx:165:13",children:x.jsx(rE,{"code-path":"src/App.tsx:166:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:172:7",path:"/print-jobs/new",element:x.jsx(zo,{"code-path":"src/App.tsx:175:11",requiredPermission:"printers",children:x.jsx(sl,{"code-path":"src/App.tsx:176:13",children:x.jsx(rE,{"code-path":"src/App.tsx:177:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:183:7",path:"/calculator",element:x.jsx(zo,{"code-path":"src/App.tsx:186:11",children:x.jsx(sl,{"code-path":"src/App.tsx:187:13",children:x.jsx(pQ,{"code-path":"src/App.tsx:188:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:194:7",path:"/reports",element:x.jsx(zo,{"code-path":"src/App.tsx:197:11",requiredPermission:"reports",children:x.jsx(sl,{"code-path":"src/App.tsx:198:13",children:x.jsx(GJ,{"code-path":"src/App.tsx:199:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:205:7",path:"/settings",element:x.jsx(zo,{"code-path":"src/App.tsx:208:11",children:x.jsx(sl,{"code-path":"src/App.tsx:209:13",children:x.jsx(eZ,{"code-path":"src/App.tsx:210:15"})})})}),x.jsx(to,{"code-path":"src/App.tsx:217:7",path:"*",element:x.jsx(Pg,{"code-path":"src/App.tsx:217:32",to:"/",replace:!0})})]})}function rZ(){return x.jsx(MO,{"code-path":"src/App.tsx:224:5",children:x.jsx(vq,{"code-path":"src/App.tsx:225:7",children:x.jsx(nZ,{"code-path":"src/App.tsx:226:9"})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(n=>{console.log("SW registered:",n)}).catch(n=>{console.log("SW registration failed:",n)})});g9.createRoot(document.getElementById("root")).render(x.jsx(qo.StrictMode,{children:x.jsx(rZ,{"code-path":"src/main.tsx:21:5"})}));export{ls as _,kp as c,Em as g};
